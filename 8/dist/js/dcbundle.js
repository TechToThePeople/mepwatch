!function(s){"use strict";if("undefined"!=typeof window){var e=!0,i=10,r="",o=0,a="",n=null,u="",c=!1,l={resize:1,click:1},f=128,h=!0,d=1,p="bodyOffset",g=p,v=!0,y="",m={},b=32,t=null,x=!1,_="[iFrameSizer]",w=_.length,A="",M={max:1,min:1,bodyScroll:1,documentElementScroll:1},k="child",E=!0,S=window.parent,T="*",C=0,N=!1,L=null,R=16,D=1,O="scroll",P=O,z=window,F=function(){at("MessageCallback function not defined")},I=function(){},B=function(){},U={height:function(){return at("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return at("Custom width calculation function not defined"),document.body.scrollWidth}},j={},q=!1;try{var H=Object.create({},{passive:{get:function(){q=!0}},once:{get:function(){!0}}});window.addEventListener("test",tt,H),window.removeEventListener("test",tt,H)}catch(t){}var G,Y,V,X,W,$,K=Date.now||function(){return(new Date).getTime()},Z={bodyOffset:function(){return document.body.offsetHeight+yt("marginTop")+yt("marginBottom")},offset:function(){return Z.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return U.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,bt(Z))},min:function(){return Math.min.apply(null,bt(Z))},grow:function(){return Z.max()},lowestElement:function(){return Math.max(Z.bodyOffset()||Z.documentElementOffset(),mt("bottom",_t()))},taggedElement:function(){return xt("bottom","data-iframe-height")}},Q={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return U.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Q.bodyScroll(),Q.documentElementScroll())},max:function(){return Math.max.apply(null,bt(Q))},min:function(){return Math.min.apply(null,bt(Q))},rightMostElement:function(){return mt("right",_t())},taggedElement:function(){return xt("right","data-iframe-width")}},J=(G=wt,W=null,$=0,function(){var t=K();$||($=t);var n=R-(t-$);return Y=this,V=arguments,n<=0||R<n?(W&&(clearTimeout(W),W=null),$=t,X=G.apply(Y,V),W||(Y=V=null)):W||(W=setTimeout(At,n)),X});nt(window,"message",Ct),nt(window,"readystatechange",Nt),Nt()}function tt(){}function nt(t,n,e,r){"addEventListener"in window?t.addEventListener(n,e,!!q&&(r||{})):"attachEvent"in window&&t.attachEvent("on"+n,e)}function et(t,n,e){"removeEventListener"in window?t.removeEventListener(n,e,!1):"detachEvent"in window&&t.detachEvent("on"+n,e)}function rt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function it(t){return _+"["+A+"] "+t}function ot(t){x&&"object"==typeof window.console&&console.log(it(t))}function at(t){"object"==typeof window.console&&console.warn(it(t))}function ut(){!function(){function t(t){return"true"===t}var n=y.substr(w).split(":");A=n[0],o=s!==n[1]?Number(n[1]):o,c=s!==n[2]?t(n[2]):c,x=s!==n[3]?t(n[3]):x,b=s!==n[4]?Number(n[4]):b,e=s!==n[6]?t(n[6]):e,a=n[7],g=s!==n[8]?n[8]:g,r=n[9],u=n[10],C=s!==n[11]?Number(n[11]):C,m.enable=s!==n[12]&&t(n[12]),k=s!==n[13]?n[13]:k,P=s!==n[14]?n[14]:P}(),ot("Initialising iFrame ("+location.href+")"),function(){function t(t,n){return"function"==typeof t&&(ot("Setup custom "+n+"CalcMethod"),U[n]=t,t="custom"),t}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(function(){var t=window.iFrameResizer;ot("Reading data from page: "+JSON.stringify(t)),F="messageCallback"in t?t.messageCallback:F,I="readyCallback"in t?t.readyCallback:I,T="targetOrigin"in t?t.targetOrigin:T,g="heightCalculationMethod"in t?t.heightCalculationMethod:g,P="widthCalculationMethod"in t?t.widthCalculationMethod:P}(),g=t(g,"height"),P=t(P,"width"));ot("TargetOrigin for parent set to: "+T)}(),function(){s===a&&(a=o+"px");ct("margin",function(t,n){-1!==n.indexOf("-")&&(at("Negative CSS value ignored for "+t),n="");return n}("margin",a))}(),ct("background",r),ct("padding",u),function(){var t=document.createElement("div");t.style.clear="both",t.style.display="block",document.body.appendChild(t)}(),ht(),dt(),document.documentElement.style.height="",document.body.style.height="",ot('HTML & body height set to "auto"'),ot("Enable public methods"),z.parentIFrame={autoResize:function(t){return!0===t&&!1===e?(e=!0,pt()):!1===t&&!0===e&&(e=!1,gt()),e},close:function(){Tt(0,0,"close"),ot("Disable outgoing messages"),E=!1,ot("Remove event listener: Message"),et(window,"message",Ct),!0===e&&gt()},getId:function(){return A},getPageInfo:function(t){"function"==typeof t?(B=t,Tt(0,0,"pageInfo")):(B=function(){},Tt(0,0,"pageInfoStop"))},moveToAnchor:function(t){m.findTarget(t)},reset:function(){St("parentIFrame.reset")},scrollTo:function(t,n){Tt(n,t,"scrollTo")},scrollToOffset:function(t,n){Tt(n,t,"scrollToOffset")},sendMessage:function(t,n){Tt(0,0,"message",JSON.stringify(t),n)},setHeightCalculationMethod:function(t){g=t,ht()},setWidthCalculationMethod:function(t){P=t,dt()},setTargetOrigin:function(t){ot("Set targetOrigin: "+t),T=t},size:function(t,n){Mt("size","parentIFrame.size("+(t||"")+(n?","+n:"")+")",t,n)}},pt(),m=function(){function o(t){var n=t.getBoundingClientRect(),e={x:window.pageXOffset!==s?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==s?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(n.left,10)+parseInt(e.x,10),y:parseInt(n.top,10)+parseInt(e.y,10)}}function n(t){var n,e=t.split("#")[1]||t,r=decodeURIComponent(e),i=document.getElementById(r)||document.getElementsByName(r)[0];s!==i?(n=o(i),ot("Moving to in page link (#"+e+") at x: "+n.x+" y: "+n.y),Tt(n.y,n.x,"scrollToOffset")):(ot("In page link (#"+e+") not found in iFrame, so sending to parent"),Tt(0,0,"inPageLink","#"+e))}function t(){""!==location.hash&&"#"!==location.hash&&n(location.href)}m.enable?Array.prototype.forEach&&document.querySelectorAll?(ot("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(t){"#"!==t.getAttribute("href")&&nt(t,"click",function(t){t.preventDefault(),n(this.getAttribute("href"))})}),nt(window,"hashchange",t),setTimeout(t,f)):at("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):ot("In page linking not enabled");return{findTarget:n}}(),Mt("init","Init message from host page"),I()}function ct(t,n){s!==n&&""!==n&&"null"!==n&&ot("Body "+t+' set to "'+(document.body.style[t]=n)+'"')}function lt(e){var t={add:function(t){function n(){Mt(e.eventName,e.eventType)}j[t]=n,nt(window,t,n,{passive:!0})},remove:function(t){var n=j[t];delete j[t],et(window,t,n)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),ot(rt(e.method)+" event listener: "+e.eventType)}function st(t){lt({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),lt({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),lt({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),lt({method:t,eventType:"Input",eventName:"input"}),lt({method:t,eventType:"Mouse Up",eventName:"mouseup"}),lt({method:t,eventType:"Mouse Down",eventName:"mousedown"}),lt({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),lt({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),lt({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),lt({method:t,eventType:"Touch Start",eventName:"touchstart"}),lt({method:t,eventType:"Touch End",eventName:"touchend"}),lt({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),lt({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),lt({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),lt({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===k&&lt({method:t,eventType:"IFrame Resized",eventName:"resize"})}function ft(t,n,e,r){return n!==t&&(t in e||(at(t+" is not a valid option for "+r+"CalculationMethod."),t=n),ot(r+' calculation method set to "'+t+'"')),t}function ht(){g=ft(g,p,Z,"height")}function dt(){P=ft(P,O,Q,"width")}function pt(){!0===e?(st("add"),function(){var t=b<0;window.MutationObserver||window.WebKitMutationObserver?t?vt():n=function(){function n(t){function n(t){!1===t.complete&&(ot("Attach listeners to "+t.src),t.addEventListener("load",i,!1),t.addEventListener("error",o,!1),u.push(t))}"attributes"===t.type&&"src"===t.attributeName?n(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),n)}function r(t){ot("Remove listeners from "+t.src),t.removeEventListener("load",i,!1),t.removeEventListener("error",o,!1),function(t){u.splice(u.indexOf(t),1)}(t)}function e(t,n,e){r(t.target),Mt(n,e+": "+t.target.src,s,s)}function i(t){e(t,"imageLoad","Image loaded")}function o(t){e(t,"imageLoadFailed","Image load failed")}function a(t){Mt("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(n)}var u=[],c=window.MutationObserver||window.WebKitMutationObserver,l=function(){var t=document.querySelector("body");return l=new c(a),ot("Create body MutationObserver"),l.observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),l}();return{disconnect:function(){"disconnect"in l&&(ot("Disconnect body MutationObserver"),l.disconnect(),u.forEach(r))}}}():(ot("MutationObserver not supported in this browser!"),vt())}()):ot("Auto Resize disabled")}function gt(){st("remove"),null!==n&&n.disconnect(),clearInterval(t)}function vt(){0!==b&&(ot("setInterval: "+b+"ms"),t=setInterval(function(){Mt("interval","setInterval: "+b)},Math.abs(b)))}function yt(t,r){var n=0;return r=r||document.body,n="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(n=document.defaultView.getComputedStyle(r,null))?n[t]:0:function(t){if(/^\d+(px)?$/i.test(t))return parseInt(t,i);var n=r.style.left,e=r.runtimeStyle.left;return r.runtimeStyle.left=r.currentStyle.left,r.style.left=t||0,t=r.style.pixelLeft,r.style.left=n,r.runtimeStyle.left=e,t}(r.currentStyle[t]),parseInt(n,i)}function mt(t,n){for(var e=n.length,r=0,i=0,o=rt(t),a=K(),u=0;u<e;u++)i<(r=n[u].getBoundingClientRect()[t]+yt("margin"+o,n[u]))&&(i=r);return a=K()-a,ot("Parsed "+e+" HTML elements"),ot("Element position calculated in "+a+"ms"),function(t){R/2<t&&ot("Event throttle increased to "+(R=2*t)+"ms")}(a),i}function bt(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function xt(t,n){var e=document.querySelectorAll("["+n+"]");return 0===e.length&&(at("No tagged elements ("+n+") found on page"),document.querySelectorAll("body *")),mt(t,e)}function _t(){return document.querySelectorAll("body *")}function wt(t,n,e,r){var i,o;function a(t,n){return!(Math.abs(t-n)<=C)}i=s!==e?e:Z[g](),o=s!==r?r:Q[P](),a(d,i)||c&&a(D,o)||"init"===t?(kt(),Tt(d=i,D=o,t)):t in{init:1,interval:1,size:1}||!(g in M||c&&P in M)?t in{interval:1}||ot("No change in size detected"):St(n)}function At(){$=K(),W=null,X=G.apply(Y,V),W||(Y=V=null)}function Mt(t,n,e,r){N&&t in l?ot("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||ot("Trigger event: "+n),"init"===t?wt(t,n,e,r):J(t,n,e,r))}function kt(){N||(N=!0,ot("Trigger event lock on")),clearTimeout(L),L=setTimeout(function(){N=!1,ot("Trigger event lock off"),ot("--")},f)}function Et(t){d=Z[g](),D=Q[P](),Tt(d,D,t)}function St(t){var n=g;g=p,ot("Reset trigger event: "+t),kt(),Et("reset"),g=n}function Tt(t,n,e,r,i){var o;!0===E&&(s===i?i=T:ot("Message targetOrigin: "+i),ot("Sending message to host page ("+(o=A+":"+(t+":"+n)+":"+e+(s!==r?":"+r:""))+")"),S.postMessage(_+o,i))}function Ct(n){var e={init:function(){y=n.data,S=n.source,ut(),h=!1,setTimeout(function(){v=!1},f)},reset:function(){v?ot("Page reset ignored by init"):(ot("Page size reset by host page"),Et("resetPage"))},resize:function(){Mt("resizeParent","Parent window requested size check")},moveToAnchor:function(){m.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=i();ot("PageInfoFromParent called from parent: "+t),B(JSON.parse(t)),ot(" --")},message:function(){var t=i();ot("MessageCallback called from parent: "+t),F(JSON.parse(t)),ot(" --")}};function r(){return n.data.split("]")[1].split(":")[0]}function i(){return n.data.substr(n.data.indexOf(":")+1)}function o(){return n.data.split(":")[2]in{true:1,false:1}}function t(){var t=r();t in e?e[t]():("undefined"==typeof module||!module.exports)&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||o()||at("Unexpected message ("+n.data+")")}_===(""+n.data).substr(0,w)&&(!1===h?t():o()?e.init():ot('Ignored message of type "'+r()+'". Received before initialization.'))}function Nt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).crossfilter=t()}}(function(){return function o(a,u,c){function l(n,t){if(!u[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(s)return s(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[n]={exports:{}};a[n][0].call(i.exports,function(t){return l(a[n][1][t]||t)},i,i.exports,o,a,u,c)}return u[n].exports}for(var s="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,n,e){n.exports=t("./src/crossfilter").crossfilter},{"./src/crossfilter":6}],2:[function(t,V,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",e=1/0,i="[object Function]",o="[object GeneratorFunction]",a="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,l=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,g=d||p||Function("return this")();var v,y=Array.prototype,m=Function.prototype,b=Object.prototype,x=g["__core-js_shared__"],_=(v=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",w=m.toString,A=b.hasOwnProperty,M=b.toString,k=RegExp("^"+w.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=g.Symbol,S=y.splice,T=I(g,"Map"),C=I(Object,"create"),N=E?E.prototype:void 0,L=N?N.toString:void 0;function R(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function D(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function O(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function P(t,n){for(var e,r,i=t.length;i--;)if((e=t[i][0])===(r=n)||e!=e&&r!=r)return i;return-1}function z(t){return!(!G(t)||function(t){return!!_&&_ in t}(t))&&(H(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t)?k:h).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function F(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map}function I(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return z(e)?e:void 0}R.prototype.clear=function(){this.__data__=C?C(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var n=this.__data__;if(C){var e=n[t];return e===r?void 0:e}return A.call(n,t)?n[t]:void 0},R.prototype.has=function(t){var n=this.__data__;return C?void 0!==n[t]:A.call(n,t)},R.prototype.set=function(t,n){return this.__data__[t]=C&&void 0===n?r:n,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(t){var n=this.__data__,e=P(n,t);return!(e<0)&&(e==n.length-1?n.pop():S.call(n,e,1),!0)},D.prototype.get=function(t){var n=this.__data__,e=P(n,t);return e<0?void 0:n[e][1]},D.prototype.has=function(t){return-1<P(this.__data__,t)},D.prototype.set=function(t,n){var e=this.__data__,r=P(e,t);return r<0?e.push([t,n]):e[r][1]=n,this},O.prototype.clear=function(){this.__data__={hash:new R,map:new(T||D),string:new R}},O.prototype.delete=function(t){return F(this,t).delete(t)},O.prototype.get=function(t){return F(this,t).get(t)},O.prototype.has=function(t){return F(this,t).has(t)},O.prototype.set=function(t,n){return F(this,t).set(t,n),this};var B=j(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(Y(t))return L?L.call(t):"";var n=t+"";return"0"==n&&1/t==-e?"-0":n}(t)}(t);var i=[];return l.test(t)&&i.push(""),t.replace(s,function(t,n,e,r){i.push(e?r.replace(f,"$1"):n||t)}),i});function U(t){if("string"==typeof t||Y(t))return t;var n=t+"";return"0"==n&&1/t==-e?"-0":n}function j(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new TypeError(n);var a=function(){var t=arguments,n=o?o.apply(this,t):t[0],e=a.cache;if(e.has(n))return e.get(n);var r=i.apply(this,t);return a.cache=e.set(n,r),r};return a.cache=new(j.Cache||O),a}j.Cache=O;var q=Array.isArray;function H(t){var n=G(t)?M.call(t):"";return n==i||n==o}function G(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Y(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&M.call(t)==a}V.exports=function(t,n,e){var r=-1,i=(n=function(t,n){if(q(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Y(t))||(c.test(t)||!u.test(t)||null!=n&&t in Object(n))}(n,t)?[n]:function(t){return q(t)?t:B(t)}(n)).length;for(i||(t=void 0,i=1);++r<i;){var o=null==t?void 0:t[U(n[r])];void 0===o&&(r=i,o=e),t=H(o)?o.call(t):o}return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){n.exports={version:"1.4.7"}},{}],4:[function(t,n,e){if("undefined"!=typeof Uint8Array)var o=function(t){return new Uint8Array(t)},r=function(t,n){if(t.length>=n)return t;var e=new t.constructor(n);return e.set(t),e},a=function(t,n){var e;switch(n){case 16:e=function(t){return new Uint16Array(t)}(t.length);break;case 32:e=function(t){return new Uint32Array(t)}(t.length);break;default:throw new Error("invalid array width!")}return e.set(t),e};function i(t){for(var n=new Array(t),e=-1;++e<t;)n[e]=0;return n}function u(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=o(t)}u.prototype.lengthen=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n)this[n]=r(this[n],t);this.length=t},u.prototype.add=function(){var t,n,e,r,i;for(r=0,i=this.subarrays;r<i;++r)if(e=~(t=this.masks[r])&-~t,!(32<=(n=this.width-32*r))||e)return n<32&&e&1<<n&&(this[r]=a(this[r],n<<=1),this.width=32*r+n),this.masks[r]|=e,{offset:r,one:e};return this[this.subarrays]=o(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},u.prototype.copy=function(t,n){var e,r;for(e=0,r=this.subarrays;e<r;++e)this[e][t]=this[e][n]},u.prototype.truncate=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n){for(var r=this.length-1;t<=r;r--)this[n][r]=0;this[n].length=t}this.length=t},u.prototype.zero=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n)if(this[n][t])return!1;return!0},u.prototype.zeroExcept=function(t,n,e){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(r===n?this[r][t]&e:this[r][t])return!1;return!0},u.prototype.zeroExceptMask=function(t,n){var e,r;for(e=0,r=this.subarrays;e<r;++e)if(this[e][t]&n[e])return!1;return!0},u.prototype.only=function(t,n,e){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(this[r][t]!=(r===n?e:0))return!1;return!0},u.prototype.onlyExcept=function(t,n,e,r,i){var o,a,u;for(a=0,u=this.subarrays;a<u;++a)if(o=this[a][t],a===n&&(o&=e),o!=(a===r?i:0))return!1;return!0},n.exports={array8:i,array16:i,array32:i,arrayLengthen:function(t,n){for(var e=t.length;e<n;)t[e++]=0;return t},arrayWiden:function(t,n){if(32<n)throw new Error("invalid array width!");return t},bitarray:u}},{}],5:[function(t,n,e){"use strict";var r=t("./identity");function i(o){function t(t,n,e,r){for(;e<r;){var i=e+r>>>1;n<o(t[i])?r=i:e=1+i}return e}return(t.right=t).left=function(t,n,e,r){for(;e<r;){var i=e+r>>>1;o(t[i])<n?e=1+i:r=i}return e},t}n.exports=i(r),n.exports.by=i},{"./identity":10}],6:[function(t,n,e){"use strict";var $=t("./array"),_=t("./filter"),K=t("./identity"),Z=t("./null"),Q=t("./zero"),J=t("./heapselect"),tt=t("./heap"),F=t("./bisect"),r=t("./insertionsort"),nt=t("./permute"),et=t("./quicksort"),rt=t("./reduce"),i=t("./../package.json"),it=t("lodash.result");function ot(t,n){return(n<257?$.array8:n<65537?$.array16:$.array32)(t)}function at(t){for(var n=ot(t,t),e=-1;++e<t;)n[e]=e;return n}function ut(t){return 8===t?256:16===t?65536:4294967296}e.crossfilter=function(){var G,t={add:n,remove:function(t){for(var n=ot(V,V),e=[],r="function"==typeof t,i=0,o=0;i<V;++i)a=i,(r?t(Y[a],a):G.zero(a))?(e.push(i),n[i]=-1):n[i]=o++;var a;X.forEach(function(t){t(-1,-1,[],e,!0)}),W.forEach(function(t){t(n)});for(var u=0,c=0;u<V;++u)-1!==n[u]&&(u!==c&&(G.copy(c,u),Y[c]=Y[u]),++c);Y.length=V=c,G.truncate(c),x("dataRemoved")},dimension:function(w,I){if("string"==typeof w){var n=w;w=function(t){return it(t,n)}}var B,U,j,t,q,H,A,M,k,E,S,T,C,e,r,N,h={filter:function(t){return null==t?p():Array.isArray(t)?d(t):"function"==typeof t?g(t):l(t)},filterExact:l,filterRange:d,filterFunction:g,filterAll:p,currentFilter:function(){return e},hasCurrentFilter:function(){return r},top:function(t,n){var e,r=[],i=P,o=0;n&&0<n&&(o=n);for(;--i>=O&&0<t;)G.zero(e=H[i])&&(0<o?--o:(r.push(Y[e]),--t));if(I)for(i=0;i<L.length&&0<t;i++)G.zero(e=L[i])&&(0<o?--o:(r.push(Y[e]),--t));return r},bottom:function(t,n){var e,r,i=[],o=0;n&&0<n&&(o=n);if(I)for(e=0;e<L.length&&0<t;e++)G.zero(r=L[e])&&(0<o?--o:(i.push(Y[r]),--t));e=O;for(;e<P&&0<t;)G.zero(r=H[e])&&(0<o?--o:(i.push(Y[r]),--t)),e++;return i},group:y,groupAll:function(){var t=y(Z),n=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return n()[0].value},t},dispose:m,remove:m,accessor:w,id:function(){return t}},L=[],R=et.by(function(t){return A[t]}),D=_.filterAll,s=[],f=[],O=0,P=0,z=0;b.unshift(o),b.push(a),W.push(u);var i=G.add();function o(t,n,e){if(I){N=[];for(var r=x=z=0;r<t.length;r++)for(x=0,N=w(t[r]);x<N.length;x++)z++;A=[],E=at(t.length),T=ot(z,1);for(var i=at(z),o=0,a=0;a<t.length;a++)if((N=w(t[a])).length)for(E[a]=N.length,x=0;x<N.length;x++)A.push(N[x]),i[o]=a,o++;else E[a]=0,L.push(a+n);var u=R(at(z),0,z);A=nt(A,u),M=nt(i,u)}else A=t.map(w),M=R(at(e),0,e),A=nt(A,M);I&&(e=z);var c=D(A),l=c[0],s=c[1];if(C)for(var f=0;f<e;++f)C(A[f],f)||(G[j][M[f]+n]|=B,I&&(T[f]=1));else{for(var h=0;h<l;++h)G[j][M[h]+n]|=B,I&&(T[h]=1);for(var d=s;d<e;++d)G[j][M[d]+n]|=B,I&&(T[d]=1)}if(!n)return q=A,H=M,k=E,S=T,O=l,void(P=s);var p,g=q,v=H,y=S,m=0;if(r=0,I&&(p=n,n=g.length,e=z),q=I?new Array(n+e):new Array(V),H=I?new Array(n+e):ot(V,V),I&&(S=ot(n+e,1)),I){var b=k.length;k=$.arrayLengthen(k,V);for(var x=0;x+b<V;x++)k[x+b]=E[x]}for(var _=0;r<n&&m<e;++_)g[r]<A[m]?(q[_]=g[r],I&&(S[_]=y[r]),H[_]=v[r++]):(q[_]=A[m],I&&(S[_]=T[m]),H[_]=M[m++]+(I?p:n));for(;r<n;++r,++_)q[_]=g[r],I&&(S[_]=y[r]),H[_]=v[r];for(;m<e;++m,++_)q[_]=A[m],I&&(S[_]=T[m]),H[_]=M[m]+(I?p:n);c=D(q),O=c[0],P=c[1]}function a(t,n,e){s.forEach(function(t){t(A,M,n,e)}),A=M=null}function u(t){if(I){for(var n=0,e=0;n<L.length;n++)-1!==t[L[n]]&&(L[e]=t[L[n]],e++);for(L.length=e,e=n=0;n<V;n++)-1!==t[n]&&(e!==n&&(k[e]=k[n]),e++);k.length=e}for(var r,i=q.length,o=0,a=0;o<i;++o)-1!==t[r=H[o]]&&(o!==a&&(q[a]=q[o]),H[a]=t[r],I&&(S[a]=S[o]),++a);for(q.length=a,I&&(S.length=a);a<i;)H[a++]=0;var u=D(q);O=u[0],P=u[1]}function c(t){var e=t[0],r=t[1];if(C)return C=null,v(function(t,n){return e<=n&&n<r},0===t[0]&&t[1]===q.length),O=e,P=r,h;var n,i,o,a=[],u=[],c=[],l=[];if(e<O)for(n=e,i=Math.min(O,r);n<i;++n)a.push(H[n]),c.push(n);else if(O<e)for(n=O,i=Math.min(e,P);n<i;++n)u.push(H[n]),l.push(n);if(P<r)for(n=Math.max(e,P),i=r;n<i;++n)a.push(H[n]),c.push(n);else if(r<P)for(n=Math.max(O,r),i=P;n<i;++n)u.push(H[n]),l.push(n);if(I){var s=[],f=[];for(n=0;n<a.length;n++)k[a[n]]++,S[c[n]]=0,1===k[a[n]]&&(G[j][a[n]]^=B,s.push(a[n]));for(n=0;n<u.length;n++)k[u[n]]--,S[l[n]]=1,0===k[u[n]]&&(G[j][u[n]]^=B,f.push(u[n]));if(a=s,u=f,0===t[0]&&t[1]===q.length)for(n=0;n<L.length;n++)G[j][o=L[n]]&B&&(G[j][o]^=B,a.push(o));else for(n=0;n<L.length;n++)G[j][o=L[n]]&B||(G[j][o]^=B,u.push(o))}else{for(n=0;n<a.length;n++)G[j][a[n]]^=B;for(n=0;n<u.length;n++)G[j][u[n]]^=B}return O=e,P=r,X.forEach(function(t){t(B,j,a,u)}),x("filtered"),h}function l(t){return e=t,r=!0,c((D=_.filterExact(F,t))(q))}function d(t){return e=t,r=!0,c((D=_.filterRange(F,t))(q))}function p(){return e=void 0,r=!1,c((D=_.filterAll)(q))}function g(t){r=!0,C=e=t,D=_.filterAll,v(t,!1);var n=D(q);return O=n[0],P=n[1],h}function v(t,n){var e,r,i,o=[],a=[],u=[],c=[],l=q.length;if(!I)for(e=0;e<l;++e)!(G[j][r=H[e]]&B)^!!(i=t(q[e],e))&&(i?o.push(r):a.push(r));if(I)for(e=0;e<l;++e)t(q[e],e)?(o.push(H[e]),u.push(e)):(a.push(H[e]),c.push(e));if(I){var s=[],f=[];for(e=0;e<o.length;e++)1===S[u[e]]&&(k[o[e]]++,S[u[e]]=0,1===k[o[e]]&&(G[j][o[e]]^=B,s.push(o[e])));for(e=0;e<a.length;e++)0===S[c[e]]&&(k[a[e]]--,S[c[e]]=1,0===k[a[e]]&&(G[j][a[e]]^=B,f.push(a[e])));if(o=s,a=f,n)for(e=0;e<L.length;e++)G[j][r=L[e]]&B&&(G[j][r]^=B,o.push(r));else for(e=0;e<L.length;e++)G[j][r=L[e]]&B||(G[j][r]^=B,a.push(r))}else{for(e=0;e<o.length;e++)G[j][o[e]]&B&&(G[j][o[e]]&=U);for(e=0;e<a.length;e++)G[j][a[e]]&B||(G[j][a[e]]|=B)}X.forEach(function(t){t(B,j,o,a)}),x("filtered")}function y(x){var r={top:function(t){var n=e(a(),0,_.length,t);return i.sort(n,0,n.length)},all:a,reduce:u,reduceCount:t,reduceSum:function(t){return u(rt.reduceAdd(t),rt.reduceSubtract(t),Q)},order:c,orderNatural:function(){return c(K)},size:function(){return C},dispose:l,remove:l};f.push(r);var _,w,e,i,A,M,k,E,S=8,T=ut(S),C=0,N=Z,L=Z,R=!0,D=x===Z;function n(t,n,e,r){I&&(E=e,e=q.length-t.length,r=t.length);var i,o,a,u,c,l,s=_,f=I?[]:ot(C,T),h=A,d=M,p=k,g=C,v=0,y=0;for(R&&(h=p=Z),R&&(d=p=Z),_=new Array(C),C=0,w=I?g?w:[]:1<g?$.arrayLengthen(w,V):ot(V,T),g&&(a=(o=s[0]).key);y<r&&!((u=x(t[y]))>=u);)++y;for(;y<r;){for(o&&a<=u?(c=o,l=a,f[v]=C,(o=s[++v])&&(a=o.key)):(c={key:u,value:p()},l=u),_[C]=c;u<=l&&(i=n[y]+(I?E:e),I?w[i]?w[i].push(C):w[i]=[C]:w[i]=C,c.value=h(c.value,Y[i],!0),G.zeroExcept(i,j,U)||(c.value=d(c.value,Y[i],!1)),!(++y>=r));)u=x(t[y]);b()}for(;v<g;)_[f[v]=C]=s[v++],b();if(I)for(var m=0;m<V;m++)w[m]||(w[m]=[]);if(v<C)if(I)for(v=0;v<E;++v)for(m=0;m<w[v].length;m++)w[v][m]=f[w[v][m]];else for(v=0;v<e;++v)w[v]=f[w[v]];function b(){I?C++:++C===T&&(f=$.arrayWiden(f,S<<=1),w=$.arrayWiden(w,S),T=ut(S))}i=X.indexOf(N),1<C||I?(N=O,L=z):(!C&&D&&(C=1,_=[{key:null,value:p()}]),L=1===C?(N=P,F):N=Z,w=null),X[i]=N}function o(t){if(1<C||I){var n,e,r,i=C,o=_,a=ot(i,i);if(I){for(r=n=0;n<V;++n)if(-1!==t[n]){for(w[r]=w[n],e=0;e<w[r].length;e++)a[w[r][e]]=1;++r}}else for(r=n=0;n<V;++n)-1!==t[n]&&(a[w[r]=w[n]]=1,++r);for(_=[],n=C=0;n<i;++n)a[n]&&(a[n]=C++,_.push(o[n]));if(1<C||I)if(I)for(n=0;n<r;++n)for(e=0;e<w[n].length;++e)w[n][e]=a[w[n][e]];else for(n=0;n<r;++n)w[n]=a[w[n]];else w=null;X[X.indexOf(N)]=1<C||I?(L=z,N=O):1===C?(L=F,N=P):L=N=Z}else if(1===C){if(D)return;for(var u=0;u<V;++u)if(-1!==t[u])return;_=[],C=0,X[X.indexOf(N)]=N=L=Z}}function O(t,n,e,r,i){var o,a,u,c,l;if(!(t===B&&n===j||R))if(I){for(o=0,c=e.length;o<c;++o)if(G.zeroExcept(u=e[o],j,U))for(a=0;a<w[u].length;a++)(l=_[w[u][a]]).value=A(l.value,Y[u],!1,a);for(o=0,c=r.length;o<c;++o)if(G.onlyExcept(u=r[o],j,U,n,t))for(a=0;a<w[u].length;a++)(l=_[w[u][a]]).value=M(l.value,Y[u],i,a)}else{for(o=0,c=e.length;o<c;++o)G.zeroExcept(u=e[o],j,U)&&((l=_[w[u]]).value=A(l.value,Y[u],!1));for(o=0,c=r.length;o<c;++o)G.onlyExcept(u=r[o],j,U,n,t)&&((l=_[w[u]]).value=M(l.value,Y[u],i))}}function P(t,n,e,r,i){if(!(t===B&&n===j||R)){var o,a,u,c=_[0];for(o=0,u=e.length;o<u;++o)G.zeroExcept(a=e[o],j,U)&&(c.value=A(c.value,Y[a],!1));for(o=0,u=r.length;o<u;++o)G.onlyExcept(a=r[o],j,U,n,t)&&(c.value=M(c.value,Y[a],i))}}function z(){var t,n,e;for(t=0;t<C;++t)_[t].value=k();if(I){for(t=0;t<V;++t)for(n=0;n<w[t].length;n++)(e=_[w[t][n]]).value=A(e.value,Y[t],!0,n);for(t=0;t<V;++t)if(!G.zeroExcept(t,j,U))for(n=0;n<w[t].length;n++)(e=_[w[t][n]]).value=M(e.value,Y[t],!1,n)}else{for(t=0;t<V;++t)(e=_[w[t]]).value=A(e.value,Y[t],!0);for(t=0;t<V;++t)G.zeroExcept(t,j,U)||((e=_[w[t]]).value=M(e.value,Y[t],!1))}}function F(){var t,n=_[0];for(n.value=k(),t=0;t<V;++t)n.value=A(n.value,Y[t],!0);for(t=0;t<V;++t)G.zeroExcept(t,j,U)||(n.value=M(n.value,Y[t],!1))}function a(){return R&&(L(),R=!1),_}function u(t,n,e){return A=t,M=n,k=e,R=!0,r}function t(){return u(rt.reduceIncrement,rt.reduceDecrement,Q)}function c(n){function t(t){return n(t.value)}return e=J.by(t),i=tt.by(t),r}function l(){var t=X.indexOf(N);return 0<=t&&X.splice(t,1),0<=(t=s.indexOf(n))&&s.splice(t,1),0<=(t=W.indexOf(o))&&W.splice(t,1),0<=(t=f.indexOf(r))&&f.splice(t,1),r}return arguments.length<1&&(x=K),X.push(N),s.push(n),W.push(o),n(q,H,0,V),t().orderNatural()}function m(){f.forEach(function(t){t.dispose()});var t=b.indexOf(o);return 0<=t&&b.splice(t,1),0<=(t=b.indexOf(a))&&b.splice(t,1),0<=(t=W.indexOf(u))&&W.splice(t,1),G.masks[j]&=U,p()}return j=i.offset,B=i.one,U=~B,t=j<<7|Math.log(B)/Math.log(2),o(Y,0,V),a(Y,0,V),h},groupAll:function(){var c,l,s,r,i={reduce:o,reduceCount:t,reduceSum:function(t){return o(rt.reduceAdd(t),rt.reduceSubtract(t),Q)},value:function(){f&&(function(){var t;for(c=r(),t=0;t<V;++t)c=l(c,Y[t],!0),G.zero(t)||(c=s(c,Y[t],!1))}(),f=!1);return c},dispose:a,remove:a},f=!0;function n(t,n){var e;if(!f)for(e=n;e<V;++e)c=l(c,Y[e],!0),G.zero(e)||(c=s(c,Y[e],!1))}function e(t,n,e,r,i){var o,a,u;if(!f){for(o=0,u=e.length;o<u;++o)G.zero(a=e[o])&&(c=l(c,Y[a],i));for(o=0,u=r.length;o<u;++o)G.only(a=r[o],n,t)&&(c=s(c,Y[a],i))}}function o(t,n,e){return l=t,s=n,r=e,f=!0,i}function t(){return o(rt.reduceIncrement,rt.reduceDecrement,Q)}function a(){var t=X.indexOf(e);return 0<=t&&X.splice(t,1),0<=(t=b.indexOf(n))&&b.splice(t,1),i}return X.push(e),b.push(n),n(Y,0),t()},size:function(){return V},all:function(){return Y},allFiltered:function(t){var n=[],e=0,r=i(t||[]);for(e=0;e<V;e++)G.zeroExceptMask(e,r)&&n.push(Y[e]);return n},onChange:function(t){return"function"==typeof t?(e.push(t),function(){e.splice(e.indexOf(t),1)}):void console.warn("onChange callback parameter must be a function!")},isElementFiltered:function(t,n){var e=i(n||[]);return G.zeroExceptMask(t,e)}},Y=[],V=0,X=[],b=[],W=[],e=[];function n(n){var e=V,r=n.length;return r&&(Y=Y.concat(n),G.lengthen(V+=r),b.forEach(function(t){t(n,e,r)}),x("dataAdded")),t}function i(t){var n,e,r,i,o=Array(G.subarrays);for(n=0;n<G.subarrays;n++)o[n]=-1;for(e=0,r=t.length;e<r;e++)o[(i=t[e].id())>>7]&=~(1<<(63&i));return o}function x(t){for(var n=0;n<e.length;n++)e[n](t)}return G=new $.bitarray(0),arguments.length?n(arguments[0]):t},e.crossfilter.heap=tt,e.crossfilter.heapselect=J,e.crossfilter.bisect=F,e.crossfilter.insertionsort=r,e.crossfilter.permute=nt,e.crossfilter.quicksort=et,e.crossfilter.version=i.version},{"./../package.json":3,"./array":4,"./bisect":5,"./filter":7,"./heap":8,"./heapselect":9,"./identity":10,"./insertionsort":11,"./null":12,"./permute":13,"./quicksort":14,"./reduce":15,"./zero":16,"lodash.result":2}],7:[function(t,n,e){"use strict";n.exports={filterExact:function(e,r){return function(t){var n=t.length;return[e.left(t,r,0,n),e.right(t,r,0,n)]}},filterRange:function(e,t){var r=t[0],i=t[1];return function(t){var n=t.length;return[e.left(t,r,0,n),e.left(t,i,0,n)]}},filterAll:function(t){return[0,t.length]}}},{}],8:[function(t,n,e){"use strict";var r=t("./identity");function i(u){function t(t,n,e){for(var r=e-n,i=1+(r>>>1);0<--i;)o(t,i,r,n);return t}function o(t,n,e,r){for(var i,o=t[--r+n],a=u(o);(i=n<<1)<=e&&(i<e&&u(t[r+i])>u(t[r+i+1])&&i++,!(a<=u(t[r+i])));)t[r+n]=t[r+i],n=i;t[r+n]=o}return t.sort=function(t,n,e){for(var r,i=e-n;0<--i;)r=t[n],t[n]=t[n+i],t[n+i]=r,o(t,1,i,n);return t},t}n.exports=i(r),n.exports.by=i},{"./identity":10}],9:[function(t,n,e){"use strict";var r=t("./identity"),i=t("./heap");function o(c){var l=i.by(c);return function(t,n,e,r){var i,o,a,u=new Array(r=Math.min(e-n,r));for(o=0;o<r;++o)u[o]=t[n++];if(l(u,0,r),n<e)for(i=c(u[0]);c(a=t[n])>i&&(u[0]=a,i=c(l(u,0,r)[0])),++n<e;);return u}}n.exports=o(r),n.exports.by=o},{"./heap":8,"./identity":10}],10:[function(t,n,e){"use strict";n.exports=function(t){return t}},{}],11:[function(t,n,e){"use strict";var r=t("./identity");function i(u){return function(t,n,e){for(var r=n+1;r<e;++r){for(var i=r,o=t[r],a=u(o);n<i&&u(t[i-1])>a;--i)t[i]=t[i-1];t[i]=o}return t}}n.exports=i(r),n.exports.by=i},{"./identity":10}],12:[function(t,n,e){"use strict";n.exports=function(){return null}},{}],13:[function(t,n,e){"use strict";n.exports=function(t,n,e){for(var r=0,i=n.length,o=e?JSON.parse(JSON.stringify(t)):new Array(i);r<i;++r)o[r]=t[n[r]];return o}},{}],14:[function(t,n,e){var r=t("./identity"),i=t("./insertionsort");function o(L){var r=i.by(L);function R(t,n,e){return(e-n<32?r:function(o,t,n){var e,r=(n-t)/6|0,i=t+r,a=n-1-r,u=t+n-1>>1,c=u-r,l=u+r,s=o[i],f=L(s),h=o[c],d=L(h),p=o[u],g=L(p),v=o[l],y=L(v),m=o[a],b=L(m);d<f&&(e=s,s=h,h=e,e=f,f=d,d=e);b<y&&(e=v,v=m,m=e,e=y,y=b,b=e);g<f&&(e=s,s=p,p=e,e=f,f=g,g=e);g<d&&(e=h,h=p,p=e,e=d,d=g,g=e);y<f&&(e=s,s=v,v=e,e=f,f=y,y=e);y<g&&(e=p,p=v,v=e,e=g,g=y,y=e);b<d&&(e=h,h=m,m=e,e=d,d=b,b=e);g<d&&(e=h,h=p,p=e,e=d,d=g,g=e);b<y&&(e=v,v=m,m=e,e=y,y=b,b=e);var x=h,_=d,w=v,A=y;o[i]=s,o[c]=o[t],o[u]=p,o[l]=o[n-1],o[a]=m;var M=t+1,k=n-2,E=_<=A&&A<=_;if(E)for(var S=M;S<=k;++S){var T=o[S],C=L(T);if(C<_)S!==M&&(o[S]=o[M],o[M]=T),++M;else if(_<C)for(;;){var N=L(o[k]);if(!(_<N)){if(N<_){o[S]=o[M],o[M++]=o[k],o[k--]=T;break}o[S]=o[k],o[k--]=T;break}k--}}else!function(){for(var t=M;t<=k;t++){var n=o[t],e=L(n);if(e<_)t!==M&&(o[t]=o[M],o[M]=n),++M;else if(A<e)for(;;){var r=L(o[k]);if(!(A<r)){r<_?(o[t]=o[M],o[M++]=o[k]):o[t]=o[k],o[k--]=n;break}if(--k<t)break}}}();if(o[t]=o[M-1],o[M-1]=x,o[n-1]=o[k+1],o[k+1]=w,R(o,t,M-1),R(o,k+2,n),E)return o;M<i&&a<k&&function(){for(var t,n;(t=L(o[M]))<=_&&_<=t;)++M;for(;(n=L(o[k]))<=A&&A<=n;)--k;for(var e=M;e<=k;e++){var r=o[e],i=L(r);if(i<=_&&_<=i)e!==M&&(o[e]=o[M],o[M]=r),M++;else if(i<=A&&A<=i)for(;;){if(!((n=L(o[k]))<=A&&A<=n)){n<_?(o[e]=o[M],o[M++]=o[k]):o[e]=o[k],o[k--]=r;break}if(--k<e)break}}}();return R(o,M,k+1)})(t,n,e)}return R}n.exports=o(r),n.exports.by=o},{"./identity":10,"./insertionsort":11}],15:[function(t,n,e){"use strict";n.exports={reduceIncrement:function(t){return t+1},reduceDecrement:function(t){return t-1},reduceAdd:function(e){return function(t,n){return t+ +e(n)}},reduceSubtract:function(e){return function(t,n){return t-e(n)}}}},{}],16:[function(t,n,e){"use strict";n.exports=function(){return 0}},{}]},{},[1])(1)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.reductio=t()}}(function(){return function o(a,u,c){function l(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};a[e][0].call(i.exports,function(t){var n=a[e][1][t];return l(n||t)},i,i.exports,o,a,u,c)}return u[e].exports}for(var s="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(o,a,t){(function(t){var n=o("./build.js"),e=o("./accessors.js"),r=o("./parameters.js"),f=o("./postprocess"),h="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null;function i(){var l=r(),s={};function t(t){if(s={reduceAdd:function(t){return t},reduceRemove:function(t){return t},reduceInitial:function(){return{}}},n.build(l,s),l.groupAll)if(t.top)console.warn("'groupAll' is defined but attempting to run on a standard dimension.group(). Must run on dimension.groupAll().");else{var r,i,o,a,u,c=h.bisect.by(function(t){return t.key}).left;t.reduce(function(t,n,e){for(o=l.groupAll(n),a=o.length,i=0;i<a;i++)u=o[i],t[r=c(t,u,0,t.length)]&&t[r].key===u||t.splice(r,0,{key:u,value:s.reduceInitial()}),s.reduceAdd(t[r].value,n,e);return t},function(t,n,e){for(o=l.groupAll(n),a=o.length,i=0;i<a;i++)r=c(t,o[i],0,t.length),s.reduceRemove(t[r].value,n,e);return t},function(){return[]}),t.all||(t.all=function(){return this.value()})}else t.reduce(s.reduceAdd,s.reduceRemove,s.reduceInitial);return f(t,l,s),t}return e.build(t,l),t}o("./postprocessors")(i),f=f(i),a.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessors.js":2,"./build.js":6,"./parameters.js":19,"./postprocess":20,"./postprocessors":21}],2:[function(t,n,e){var a=t("./parameters.js");_assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1;e<arguments.length;++e){var r=arguments[e];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}return n};var r={build:function e(r,i){function n(t){if("string"!=typeof t)return t;var n=t;return function(t){return t[n]}}function o(t){if("string"!=typeof t)return t;var n=t;return function(t){return+t[n]}}r.fromObject=function(t){return arguments.length?(_assign(i,t),r):i},r.toObject=function(){return i},r.count=function(t,n){return arguments.length?(n||(n="count"),i.count=n,r):i.count},r.sum=function(t){return arguments.length?(t=o(t),i.sum=t,r):i.sum},r.avg=function(t){return arguments.length?("function"==typeof(t=o(t))?(i.sum&&i.sum!==t&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),i.sum=t,i.avg=!0,i.count="count"):i.avg=t,r):i.avg},r.exception=function(t){return arguments.length?(t=n(t),i.exceptionAccessor=t,r):i.exceptionAccessor},r.filter=function(t){return arguments.length?(i.filter=t,r):i.filter},r.valueList=function(t){return arguments.length?(t=n(t),i.valueList=t,r):i.valueList},r.median=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),i.valueList=t),i.median=t,r):i.median},r.min=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by min aggregation"),i.valueList=t),i.min=t,r):i.min},r.max=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by max aggregation"),i.valueList=t),i.max=t,r):i.max},r.exceptionCount=function(t){return arguments.length?("function"==typeof(t=n(t))?(i.exceptionAccessor&&i.exceptionAccessor!==t&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),i.exceptionAccessor=t,i.exceptionCount=!0):i.exceptionCount=t,r):i.exceptionCount},r.exceptionSum=function(t){return arguments.length?(t=o(t),i.exceptionSum=t,r):i.exceptionSum},r.histogramValue=function(t){return arguments.length?(t=o(t),i.histogramValue=t,r):i.histogramValue},r.histogramBins=function(t){return arguments.length?(i.histogramThresholds=t,r):i.histogramThresholds},r.std=function(t){return arguments.length?("function"==typeof(t=o(t))?(i.sumOfSquares=t,i.sum=t,i.count="count",i.std=!0):i.std=t,r):i.std},r.sumOfSq=function(t){return arguments.length?(t=o(t),i.sumOfSquares=t,r):i.sumOfSquares},r.value=function(t,n){if(arguments.length&&"string"==typeof t)return i.values||(i.values={}),i.values[t]={},i.values[t].parameters=a(),e(i.values[t],i.values[t].parameters),n&&(i.values[t].accessor=n),i.values[t];console.error("'value' requires a string argument.")},r.nest=function(t){return arguments.length?(t.map(n),i.nestKeys=t,r):i.nestKeys},r.alias=function(t){return arguments.length?(i.aliasKeys=t,r):i.aliasKeys},r.aliasProp=function(t){return arguments.length?(i.aliasPropKeys=t,r):i.aliasPropKeys},r.groupAll=function(t){return arguments.length?(i.groupAll=t,r):i.groupAll},r.dataList=function(t){return arguments.length?(i.dataList=t,r):i.dataList},r.custom=function(t){return arguments.length?(i.custom=t,r):i.custom}}};n.exports=r},{"./parameters.js":19}],3:[function(t,n,e){n.exports={initial:function(r,i,o){return function(n){function t(t){return function(){return o[t](i(n))}}for(var e in r&&(n=r(n)),o)i(n)[e]=t(e);return n}}}},{}],4:[function(t,n,e){n.exports={add:function(i,o,a){return function(t,n,e){for(var r in o&&o(t,n,e),i)a(t)[r]=i[r](a(t),n);return t}}}},{}],5:[function(t,n,e){n.exports={add:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),0<i(t).count?i(t).avg=i(t).sum/i(t).count:i(t).avg=0,t}},remove:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),0<i(t).count?i(t).avg=i(t).sum/i(t).count:i(t).avg=0,t}},initial:function(n,e){return function(t){return t=n(t),e(t).avg=0,t}}}},{}],6:[function(t,n,e){var a=t("./filter.js"),u=t("./count.js"),c=t("./sum.js"),l=t("./avg.js"),s=t("./median.js"),f=t("./min.js"),h=t("./max.js"),d=t("./value-count.js"),p=t("./value-list.js"),g=t("./exception-count.js"),v=t("./exception-sum.js"),y=t("./histogram.js"),m=t("./sum-of-squares.js"),b=t("./std.js"),x=t("./nest.js"),_=t("./alias.js"),w=t("./aliasProp.js"),A=t("./data-list.js"),M=t("./custom.js");var r={build:function t(r,i,o){o||(o=function(t){return t});var n={reduceAdd:i.reduceAdd,reduceRemove:i.reduceRemove,reduceInitial:i.reduceInitial};(r.count||r.std)&&(i.reduceAdd=u.add(i.reduceAdd,o,r.count),i.reduceRemove=u.remove(i.reduceRemove,o,r.count),i.reduceInitial=u.initial(i.reduceInitial,o,r.count)),r.sum&&(i.reduceAdd=c.add(r.sum,i.reduceAdd,o),i.reduceRemove=c.remove(r.sum,i.reduceRemove,o),i.reduceInitial=c.initial(i.reduceInitial,o)),r.avg&&(r.count&&r.sum?(i.reduceAdd=l.add(r.sum,i.reduceAdd,o),i.reduceRemove=l.remove(r.sum,i.reduceRemove,o),i.reduceInitial=l.initial(i.reduceInitial,o)):console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true).")),r.exceptionCount&&(r.exceptionAccessor?(i.reduceAdd=g.add(r.exceptionAccessor,i.reduceAdd,o),i.reduceRemove=g.remove(r.exceptionAccessor,i.reduceRemove,o),i.reduceInitial=g.initial(i.reduceInitial,o)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),r.exceptionSum&&(r.exceptionAccessor?(i.reduceAdd=v.add(r.exceptionAccessor,r.exceptionSum,i.reduceAdd,o),i.reduceRemove=v.remove(r.exceptionAccessor,r.exceptionSum,i.reduceRemove,o),i.reduceInitial=v.initial(i.reduceInitial,o)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(r.valueList||r.median||r.min||r.max)&&(i.reduceAdd=p.add(r.valueList,i.reduceAdd,o),i.reduceRemove=p.remove(r.valueList,i.reduceRemove,o),i.reduceInitial=p.initial(i.reduceInitial,o)),r.dataList&&(i.reduceAdd=A.add(r.dataList,i.reduceAdd,o),i.reduceRemove=A.remove(r.dataList,i.reduceRemove,o),i.reduceInitial=A.initial(i.reduceInitial,o)),r.median&&(i.reduceAdd=s.add(i.reduceAdd,o),i.reduceRemove=s.remove(i.reduceRemove,o),i.reduceInitial=s.initial(i.reduceInitial,o)),r.min&&(i.reduceAdd=f.add(i.reduceAdd,o),i.reduceRemove=f.remove(i.reduceRemove,o),i.reduceInitial=f.initial(i.reduceInitial,o)),r.max&&(i.reduceAdd=h.add(i.reduceAdd,o),i.reduceRemove=h.remove(i.reduceRemove,o),i.reduceInitial=h.initial(i.reduceInitial,o)),r.exceptionAccessor&&(i.reduceAdd=d.add(r.exceptionAccessor,i.reduceAdd,o),i.reduceRemove=d.remove(r.exceptionAccessor,i.reduceRemove,o),i.reduceInitial=d.initial(i.reduceInitial,o)),r.histogramValue&&r.histogramThresholds&&(i.reduceAdd=y.add(r.histogramValue,i.reduceAdd,o),i.reduceRemove=y.remove(r.histogramValue,i.reduceRemove,o),i.reduceInitial=y.initial(r.histogramThresholds,i.reduceInitial,o)),r.sumOfSquares&&(i.reduceAdd=m.add(r.sumOfSquares,i.reduceAdd,o),i.reduceRemove=m.remove(r.sumOfSquares,i.reduceRemove,o),i.reduceInitial=m.initial(i.reduceInitial,o)),r.std&&(r.sumOfSquares&&r.sum?(i.reduceAdd=b.add(i.reduceAdd,o),i.reduceRemove=b.remove(i.reduceRemove,o),i.reduceInitial=b.initial(i.reduceInitial,o)):console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor).")),r.custom&&(i.reduceAdd=M.add(i.reduceAdd,o,r.custom.add),i.reduceRemove=M.remove(i.reduceRemove,o,r.custom.remove),i.reduceInitial=M.initial(i.reduceInitial,o,r.custom.initial)),r.nestKeys&&(i.reduceAdd=x.add(r.nestKeys,i.reduceAdd,o),i.reduceRemove=x.remove(r.nestKeys,i.reduceRemove,o),i.reduceInitial=x.initial(i.reduceInitial,o)),r.aliasKeys&&(i.reduceInitial=_.initial(i.reduceInitial,o,r.aliasKeys)),r.aliasPropKeys&&(i.reduceAdd=w.add(r.aliasPropKeys,i.reduceAdd,o),i.reduceRemove=w.add(r.aliasPropKeys,i.reduceRemove,o)),r.filter&&(i.reduceAdd=a.add(r.filter,i.reduceAdd,n.reduceAdd,o),i.reduceRemove=a.remove(r.filter,i.reduceRemove,n.reduceRemove,o)),r.values&&Object.getOwnPropertyNames(r.values).forEach(function(n){var e;i.reduceInitial=(e=i.reduceInitial,function(t){return t=e(t),o(t)[n]={},t}),t(r.values[n].parameters,i,function(t){return t[n]})})}};n.exports=r},{"./alias.js":3,"./aliasProp.js":4,"./avg.js":5,"./count.js":8,"./custom.js":9,"./data-list.js":10,"./exception-count.js":11,"./exception-sum.js":12,"./filter.js":13,"./histogram.js":14,"./max.js":15,"./median.js":16,"./min.js":17,"./nest.js":18,"./std.js":23,"./sum-of-squares.js":24,"./sum.js":25,"./value-count.js":26,"./value-list.js":27}],7:[function(t,n,e){function r(n){return function(t){return t[n]}}_grouper=function(i,o){return i||(i=function(t){return t}),function(t,n){o&&o(t,n);var e=i(t),r=i(n);return void 0!==r.count&&(e.count+=r.count),void 0!==r.sum&&(e.sum+=r.sum),void 0!==r.avg&&(e.avg=e.sum/e.count),t}},reductio_cap=function(u,c,t){c.reduceInitial();var n=t.values?Object.keys(t.values):[],l=_grouper();if(n.length)for(var e=0;e<n.length;++e)l=_grouper(r(n[e]),l);return function(t,n){if(!arguments.length)return u();if(t===1/0||!t)return u();var e=u(),r=t-1;if(e.length<=t)return e;var i=e.slice(0,r),o={key:n||"Others"};o.value=c.reduceInitial();for(var a=r;a<e.length;++a)l(o.value,e[a].value);return i.push(o),i}},n.exports=reductio_cap},{}],8:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return r&&r(t,n,e),i(t)[o]++,t}},remove:function(r,i,o){return function(t,n,e){return r&&r(t,n,e),i(t)[o]--,t}},initial:function(n,e,r){return function(t){return n&&(t=n(t)),e(t)[r]=0,t}}}},{}],9:[function(t,n,e){n.exports={add:function(r,t,i){return function(t,n,e){return r&&r(t,n,e),i(t,n)}},remove:function(r,t,i){return function(t,n,e){return r&&r(t,n,e),i(t,n)}},initial:function(n,t,e){return function(t){return n&&(t=n(t)),e(t)}}}},{}],10:[function(t,n,e){n.exports={add:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),i(t).dataList.push(n),t}},remove:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),i(t).dataList.splice(i(t).dataList.indexOf(n),1),t}},initial:function(n,e){return function(t){return n&&(t=n(t)),e(t).dataList=[],t}}}},{}],11:[function(t,n,e){n.exports={add:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)&&0!==u[1]||o(t).exceptionCount++,t}},remove:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)&&1===u[1]&&o(t).exceptionCount--,t}},initial:function(n,e){return function(t){return t=n(t),e(t).exceptionCount=0,t}}}},{}],12:[function(t,n,e){n.exports={add:function(r,i,o,a){var u,c;return function(t,n,e){return o&&o(t,n,e),u=a(t).bisect(a(t).values,r(n),0,a(t).values.length),(c=a(t).values[u])&&c[0]===r(n)&&0!==c[1]||(a(t).exceptionSum=a(t).exceptionSum+i(n)),t}},remove:function(r,i,o,a){var u,c;return function(t,n,e){return o&&o(t,n,e),u=a(t).bisect(a(t).values,r(n),0,a(t).values.length),(c=a(t).values[u])&&c[0]===r(n)&&1===c[1]&&(a(t).exceptionSum=a(t).exceptionSum-i(n)),t}},initial:function(n,e){return function(t){return t=n(t),e(t).exceptionSum=0,t}}}},{}],13:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return r(n,e)?i&&i(t,n,e):o&&o(t,n,e),t}},remove:function(r,i,o){return function(t,n,e){return r(n,e)?i&&i(t,n,e):o&&o(t,n,e),t}}}},{}],14:[function(t,r,n){(function(t){var n="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,e={add:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left,c=n.bisect.by(function(t){return t.x}).right;return function(t,n,e){return i&&i(t,n,e),(a=o(t).histogram[c(o(t).histogram,r(n),0,o(t).histogram.length)-1]).y++,a.splice(u(a,r(n),0,a.length),0,r(n)),t}},remove:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left,c=n.bisect.by(function(t){return t.x}).right;return function(t,n,e){return i&&i(t,n,e),(a=o(t).histogram[c(o(t).histogram,r(n),0,o(t).histogram.length)-1]).y--,a.splice(u(a,r(n),0,a.length),1),t}},initial:function(r,i,o){return function(t){t=i(t),o(t).histogram=[];for(var n=[],e=1;e<r.length;e++)(n=[]).x=r[e-1],n.dx=r[e]-r[e-1],n.y=0,o(t).histogram.push(n);return t}}};r.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,n,e){var r={add:function(r,i){return function(t,n,e){return r&&r(t,n,e),i(t).max=i(t).valueList[i(t).valueList.length-1],t}},remove:function(r,i){return function(t,n,e){return r&&r(t,n,e),0===i(t).valueList.length?i(t).max=void 0:i(t).max=i(t).valueList[i(t).valueList.length-1],t}},initial:function(n,e){return function(t){return t=n(t),e(t).max=void 0,t}}};n.exports=r},{}],16:[function(t,n,e){var r={add:function(r,i){var o;return function(t,n,e){return r&&r(t,n,e),o=Math.floor(i(t).valueList.length/2),i(t).valueList.length%2?i(t).median=i(t).valueList[o]:i(t).median=(i(t).valueList[o-1]+i(t).valueList[o])/2,t}},remove:function(r,i){var o;return function(t,n,e){return r&&r(t,n,e),o=Math.floor(i(t).valueList.length/2),0===i(t).valueList.length?i(t).median=void 0:1===i(t).valueList.length||i(t).valueList.length%2?i(t).median=i(t).valueList[o]:i(t).median=(i(t).valueList[o-1]+i(t).valueList[o])/2,t}},initial:function(n,e){return function(t){return t=n(t),e(t).median=void 0,t}}};n.exports=r},{}],17:[function(t,n,e){var r={add:function(r,i){return function(t,n,e){return r&&r(t,n,e),i(t).min=i(t).valueList[0],t}},remove:function(r,i){return function(t,n,e){return r&&r(t,n,e),0===i(t).valueList.length?i(t).min=void 0:i(t).min=i(t).valueList[0],t}},initial:function(n,e){return function(t){return t=n(t),e(t).min=void 0,t}}};n.exports=r},{}],18:[function(t,n,e){(function(t){"undefined"!=typeof window?window.crossfilter:void 0!==t&&t.crossfilter;n.exports={add:function(r,i,o){var a,u;return function(t,e,n){return i&&i(t,e,n),a=o(t).nest,r.forEach(function(n){a=(u=a.filter(function(t){return t.key===n(e)})[0])?u.values:(u=[],a.push({key:n(e),values:u}),u)}),a.push(e),t}},remove:function(r,i,o){var a;return function(t,e,n){return i&&i(t,e,n),a=o(t).nest,r.forEach(function(n){a=a.filter(function(t){return t.key===n(e)})[0].values}),a.splice(a.indexOf(e),1),t}},initial:function(n,e){return function(t){return t=n(t),e(t).nest=[],t}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,n,e){n.exports=function(){return{order:!1,avg:!1,count:!1,sum:!1,exceptionAccessor:!1,exceptionCount:!1,exceptionSum:!1,filter:!1,valueList:!1,median:!1,histogramValue:!1,min:!1,max:!1,histogramThresholds:!1,std:!1,sumOfSquares:!1,values:!1,nestKeys:!1,aliasKeys:!1,aliasPropKeys:!1,groupAll:!1,dataList:!1,custom:!1}}},{}],20:[function(t,n,e){n.exports=function(n){return function(t,o,a){t.post=function(){var r=function(){return r.all()};r.all=function(){return t.all()};var i=n.postprocessors;return Object.keys(i).forEach(function(e){r[e]=function(){var t=r.all,n=[].slice.call(arguments);return r.all=function(){return i[e](t,a,o).apply(null,n)},r}}),r}}}},{}],21:[function(t,n,e){n.exports=function(e){e.postprocessors={},e.registerPostProcessor=function(t,n){e.postprocessors[t]=n},e.registerPostProcessor("cap",t("./cap")),e.registerPostProcessor("sortBy",t("./sortBy"))}},{"./cap":7,"./sortBy":22}],22:[function(t,n,e){function r(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}n.exports=function(e){return function(t,n){return 1===arguments.length&&(n=r),e().sort(function(e,r){return function(t,n){return r(e(t),e(n))}}(function(n){if("function"==typeof n)return n;if(~n.indexOf(".")){var e=n.split(".");return function(t){return e.reduce(function(t,n){return t[n]},t)}}return function(t){return t[n]}}(t),n))}}},{}],23:[function(t,n,e){var r={add:function(i,o){return function(t,n,e){if(i&&i(t,n,e),0<o(t).count){o(t).std=0;var r=o(t).sumOfSq-o(t).sum*o(t).sum/o(t).count;0<r&&(o(t).std=Math.sqrt(r/(o(t).count-1)))}else o(t).std=0;return t}},remove:function(i,o){return function(t,n,e){if(i&&i(t,n,e),0<o(t).count){o(t).std=0;var r=o(t).sumOfSq-o(t).sum*o(t).sum/o(t).count;0<r&&(o(t).std=Math.sqrt(r/(o(t).count-1)))}else o(t).std=0;return t}},initial:function(n,e){return function(t){return t=n(t),e(t).std=0,t}}};n.exports=r},{}],24:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sumOfSq=o(t).sumOfSq+r(n)*r(n),t}},remove:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sumOfSq=o(t).sumOfSq-r(n)*r(n),t}},initial:function(n,e){return function(t){return t=n(t),e(t).sumOfSq=0,t}}}},{}],25:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sum=o(t).sum+r(n),t}},remove:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sum=o(t).sum-r(n),t}},initial:function(n,e){return function(t){return t=n(t),e(t).sum=0,t}}}},{}],26:[function(t,e,n){(function(t){var r="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,n={add:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)?u[1]++:o(t).values.splice(a,0,[r(n),1]),t}},remove:function(r,i,o){var a;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),o(t).values[a][1]--,t}},initial:function(n,e){return function(t){return t=n(t),e(t).values=[],e(t).bisect=r.bisect.by(function(t){return t[0]}).left,t}}};e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,r,n){(function(t){var n="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,e={add:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left;return function(t,n,e){return i&&i(t,n,e),a=u(o(t).valueList,r(n),0,o(t).valueList.length),o(t).valueList.splice(a,0,r(n)),t}},remove:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left;return function(t,n,e){return i&&i(t,n,e),a=u(o(t).valueList,r(n),0,o(t).valueList.length),o(t).valueList.splice(a,1),t}},initial:function(n,e){return function(t){return t=n(t),e(t).valueList=[],t}}};r.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(U){"use strict";function u(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function M(o){return 1===o.length&&(o=function(e){return function(t,n){return u(e(t),n)}}(o)),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;o(t[i],n)<0?e=1+i:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<o(t[i],n)?r=i:e=1+i}return e}}}var t=M(u),g=t.right,n=t.left;function s(t,n){return[t,n]}function l(t){return null===t?NaN:+t}function r(t,n){var e,r,i=t.length,o=0,a=-1,u=0,c=0;if(null==n)for(;++a<i;)isNaN(e=l(t[a]))||(c+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=l(n(t[a],a,t)))||(c+=(r=e-u)*(e-(u+=r/++o)));if(1<o)return c/(o-1)}function i(t,n){var e=r(t,n);return e?Math.sqrt(e):e}function c(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e<=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(e<r&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e<=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(e<r&&(r=e),i<e&&(i=e));return[r,i]}var e=Array.prototype,o=e.slice,a=e.map;function f(t){return function(){return t}}function v(t){return t}function k(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var h=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2);function y(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=m(t,n,e))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function m(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(h<=o?10:d<=o?5:p<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(h<=o?10:d<=o?5:p<=o?2:1)}function E(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return h<=o?i*=10:d<=o?i*=5:p<=o&&(i*=2),n<t?-i:i}function b(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function x(t,n,e){if(null==e&&(e=l),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(1<=n)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function _(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&r<e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r<e&&(r=e);return r}function S(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e}function w(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&e<r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e<r&&(r=e);return r}function A(t){if(!(i=t.length))return[];for(var n=-1,e=w(t,T),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function T(t){return t.length}var C=Array.prototype.slice;function N(t){return t}var L=1,R=2,D=3,O=4,P=1e-6;function z(t){return"translate("+(t+.5)+",0)"}function F(t){return"translate(0,"+(t+.5)+")"}function I(){return!this.__axis}function B(g,v){var y=[],m=null,b=null,x=6,_=6,w=3,A=g===L||g===O?-1:1,M=g===O||g===R?"x":"y",k=g===L||g===D?z:F;function n(t){var n=null==m?v.ticks?v.ticks.apply(v,y):v.domain():m,e=null==b?v.tickFormat?v.tickFormat.apply(v,y):N:b,r=Math.max(x,0)+w,i=v.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,u=(v.bandwidth?function(n){var e=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(e=Math.round(e)),function(t){return+n(t)+e}}:function(n){return function(t){return+n(t)}})(v.copy()),c=t.selection?t.selection():t,l=c.selectAll(".domain").data([null]),s=c.selectAll(".tick").data(n,v).order(),f=s.exit(),h=s.enter().append("g").attr("class","tick"),d=s.select("line"),p=s.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s=s.merge(h),d=d.merge(h.append("line").attr("stroke","currentColor").attr(M+"2",A*x)),p=p.merge(h.append("text").attr("fill","currentColor").attr(M,A*r).attr("dy",g===L?"0em":g===D?"0.71em":"0.32em")),t!==c&&(l=l.transition(t),s=s.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",P).attr("transform",function(t){return isFinite(t=u(t))?k(t):this.getAttribute("transform")}),h.attr("opacity",P).attr("transform",function(t){var n=this.parentNode.__axis;return k(n&&isFinite(n=n(t))?n:u(t))})),f.remove(),l.attr("d",g===O||g==R?_?"M"+A*_+","+o+"H0.5V"+a+"H"+A*_:"M0.5,"+o+"V"+a:_?"M"+o+","+A*_+"V0.5H"+a+"V"+A*_:"M"+o+",0.5H"+a),s.attr("opacity",1).attr("transform",function(t){return k(u(t))}),d.attr(M+"2",A*x),p.attr(M,A*r).text(e),c.filter(I).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===R?"start":g===O?"end":"middle"),c.each(function(){this.__axis=u})}return n.scale=function(t){return arguments.length?(v=t,n):v},n.ticks=function(){return y=C.call(arguments),n},n.tickArguments=function(t){return arguments.length?(y=null==t?[]:C.call(t),n):y.slice()},n.tickValues=function(t){return arguments.length?(m=null==t?null:C.call(t),n):m&&m.slice()},n.tickFormat=function(t){return arguments.length?(b=t,n):b},n.tickSize=function(t){return arguments.length?(x=_=+t,n):x},n.tickSizeInner=function(t){return arguments.length?(x=+t,n):x},n.tickSizeOuter=function(t){return arguments.length?(_=+t,n):_},n.tickPadding=function(t){return arguments.length?(w=+t,n):w},n}var j={value:function(){}};function q(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new H(r)}function H(t){this._=t}function G(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Y(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=j,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}H.prototype=q.prototype={constructor:H,on:function(t,n){var e,r=this._,i=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Y(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Y(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=G(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var V="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}function $(t){var n=W(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===V&&t.documentElement.namespaceURI===V?t.createElement(e):t.createElementNS(n,e)}})(n)}function K(){}function Z(t){return null==t?K:function(){return this.querySelector(t)}}function Q(){return[]}function J(t){return null==t?Q:function(){return this.querySelectorAll(t)}}function tt(t){return function(){return this.matches(t)}}function nt(t){return new Array(t.length)}function et(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}et.prototype={constructor:et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rt="$";function it(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new et(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function ot(t,n,e,r,i,o,a){var u,c,l,s={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(d[u]=l=rt+a.call(c,c.__data__,u,n),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l=rt+a.call(t,o[u],u,o)])?((r[u]=c).__data__=o[u],s[l]=null):e[u]=new et(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&s[d[u]]===c&&(i[u]=c)}function at(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function ut(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t,n){return t.style.getPropertyValue(n)||ut(t).getComputedStyle(t,null).getPropertyValue(n)}function lt(t){return t.trim().split(/^|\s+/)}function st(t){return t.classList||new ft(t)}function ft(t){this._node=t,this._names=lt(t.getAttribute("class")||"")}function ht(t,n){for(var e=st(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function dt(t,n){for(var e=st(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function pt(){this.textContent=""}function gt(){this.innerHTML=""}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function _t(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ft.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var wt={};U.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(wt={mouseenter:"mouseover",mouseleave:"mouseout"}));function At(e,t,n){return e=Mt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Mt(e,r,i){return function(t){var n=U.event;U.event=t;try{e.call(this,this.__data__,r,i)}finally{U.event=n}}}function kt(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function Et(c,l,s){var f=wt.hasOwnProperty(c.type)?At:Mt;return function(t,n,e){var r,i=this.__on,o=f(l,n,e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=s),void(r.value=l);this.addEventListener(c.type,o,s),r={type:c.type,name:c.name,value:l,listener:o,capture:s},i?i.push(r):this.__on=[r]}}function St(t,n,e,r){var i=U.event;t.sourceEvent=U.event,U.event=t;try{return n.apply(e,r)}finally{U.event=i}}function Tt(t,n,e){var r=ut(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Ct=[null];function Nt(t,n){this._groups=t,this._parents=n}function Lt(){return new Nt([[document.documentElement]],Ct)}function Rt(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],Ct)}Nt.prototype=Lt.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=Z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new Nt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=J(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Nt(r,i)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Nt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var e=n?ot:it,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var s=r[l],f=i[l],h=f.length,d=t.call(s,s&&s.__data__,l,r),p=d.length,g=u[l]=new Array(p),v=a[l]=new Array(p);e(s,f,g,v,c[l]=new Array(h),d,n);for(var y,m,b=0,x=0;b<p;++b)if(y=g[b]){for(x<=b&&(x=b+1);!(m=v[x])&&++x<p;);y._next=m||null}}return(a=new Nt(a,r))._enter=u,a._exit=c,a},enter:function(){return new Nt(this._enter||this._groups.map(nt),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(nt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Nt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=at);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new Nt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=W(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):ct(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=lt(t+"");if(arguments.length<2){for(var r=st(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?ht:dt)(this,t)}}:n?function(t){return function(){ht(this,t)}}:function(t){return function(){dt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(yt)},append:function(t){var n="function"==typeof t?t:$(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:$(t),r=null==n?mt:"function"==typeof n?n:Z(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?_t:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Et:kt,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Tt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Tt(this,t,n)}})(t,n))}};var Dt=0;function Ot(){return new Pt}function Pt(){this._="@"+(++Dt).toString(36)}function zt(){for(var t,n=U.event;t=n.sourceEvent;)n=t;return n}function Ft(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function It(t){var n=zt();return n.changedTouches&&(n=n.changedTouches[0]),Ft(t,n)}function Bt(t,n,e){arguments.length<3&&(e=n,n=zt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Ft(t,r);return null}function Ut(){U.event.stopImmediatePropagation()}function jt(){U.event.preventDefault(),U.event.stopImmediatePropagation()}function qt(t){var n=t.document.documentElement,e=Rt(t).on("dragstart.drag",jt,!0);"onselectstart"in n?e.on("selectstart.drag",jt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ht(t,n){var e=t.document.documentElement,r=Rt(t).on("dragstart.drag",null);n&&(r.on("click.drag",jt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Gt(t){return function(){return t}}function Yt(t,n,e,r,i,o,a,u,c,l){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=c,this._=l}function Vt(){return!U.event.button}function Xt(){return this.parentNode}function Wt(t){return null==t?{x:U.event.x,y:U.event.y}:t}function $t(){return"ontouchstart"in this}function Kt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Zt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Qt(){}Pt.prototype=Ot.prototype={constructor:Pt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Yt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Jt=1/.7,tn="\\s*([+-]?\\d+)\\s*",nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rn=/^#([0-9a-f]{3})$/,on=/^#([0-9a-f]{6})$/,an=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),un=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),cn=new RegExp("^rgba\\("+[tn,tn,tn,nn]+"\\)$"),ln=new RegExp("^rgba\\("+[en,en,en,nn]+"\\)$"),sn=new RegExp("^hsl\\("+[nn,en,en]+"\\)$"),fn=new RegExp("^hsla\\("+[nn,en,en,nn]+"\\)$"),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dn(t){var n;return t=(t+"").trim().toLowerCase(),(n=rn.exec(t))?new mn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=on.exec(t))?pn(parseInt(n[1],16)):(n=an.exec(t))?new mn(n[1],n[2],n[3],1):(n=un.exec(t))?new mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=cn.exec(t))?gn(n[1],n[2],n[3],n[4]):(n=ln.exec(t))?gn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=sn.exec(t))?xn(n[1],n[2]/100,n[3]/100,1):(n=fn.exec(t))?xn(n[1],n[2]/100,n[3]/100,n[4]):hn.hasOwnProperty(t)?pn(hn[t]):"transparent"===t?new mn(NaN,NaN,NaN,0):null}function pn(t){return new mn(t>>16&255,t>>8&255,255&t,1)}function gn(t,n,e,r){return r<=0&&(t=n=e=NaN),new mn(t,n,e,r)}function vn(t){return t instanceof Qt||(t=dn(t)),t?new mn((t=t.rgb()).r,t.g,t.b,t.opacity):new mn}function yn(t,n,e,r){return 1===arguments.length?vn(t):new mn(t,n,e,null==r?1:r)}function mn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new wn(t,n,e,r)}function _n(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof wn)return new wn(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=dn(t)),!t)return new wn;if(t instanceof wn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new wn(a,u,c,t.opacity)}(t):new wn(t,n,e,null==r?1:r)}function wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function An(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Kt(Qt,dn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Kt(mn,yn,Zt(Qt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Kt(wn,_n,Zt(Qt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new wn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new wn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mn(An(240<=t?t-240:120+t,i,r),An(t,i,r),An(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Mn=Math.PI/180,kn=180/Math.PI,En=.96422,Sn=1,Tn=.82521,Cn=4/29,Nn=6/29,Ln=3*Nn*Nn,Rn=Nn*Nn*Nn;function Dn(t){if(t instanceof Pn)return new Pn(t.l,t.a,t.b,t.opacity);if(t instanceof qn){if(isNaN(t.h))return new Pn(t.l,0,0,t.opacity);var n=t.h*Mn;return new Pn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof mn||(t=vn(t));var e,r,i=Bn(t.r),o=Bn(t.g),a=Bn(t.b),u=zn((.2225045*i+.7168786*o+.0606169*a)/Sn);return i===o&&o===a?e=r=u:(e=zn((.4360747*i+.3850649*o+.1430804*a)/En),r=zn((.0139322*i+.0971045*o+.7141733*a)/Tn)),new Pn(116*u-16,500*(e-u),200*(u-r),t.opacity)}function On(t,n,e,r){return 1===arguments.length?Dn(t):new Pn(t,n,e,null==r?1:r)}function Pn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function zn(t){return Rn<t?Math.pow(t,1/3):t/Ln+Cn}function Fn(t){return Nn<t?t*t*t:Ln*(t-Cn)}function In(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Un(t){if(t instanceof qn)return new qn(t.h,t.c,t.l,t.opacity);if(t instanceof Pn||(t=Dn(t)),0===t.a&&0===t.b)return new qn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*kn;return new qn(n<0?360+n:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function jn(t,n,e,r){return 1===arguments.length?Un(t):new qn(t,n,e,null==r?1:r)}function qn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Kt(Pn,On,Zt(Qt,{brighter:function(t){return new Pn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Pn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new mn(In(3.1338561*(n=En*Fn(n))-1.6168667*(t=Sn*Fn(t))-.4906146*(e=Tn*Fn(e))),In(-.9787684*n+1.9161415*t+.033454*e),In(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Kt(qn,jn,Zt(Qt,{brighter:function(t){return new qn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new qn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dn(this).rgb()}}));var Hn=1.78277,Gn=-.29227,Yn=-.90649,Vn=1.97294,Xn=Vn*Yn,Wn=Vn*Hn,$n=Hn*Gn- -.14861*Yn;function Kn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);t instanceof mn||(t=vn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=($n*r+Xn*n-Wn*e)/($n+Xn-Wn),o=r-i,a=(Vn*(e-i)-Gn*o)/Yn,u=Math.sqrt(a*a+o*o)/(Vn*i*(1-i)),c=u?Math.atan2(a,o)*kn-120:NaN;return new Zn(c<0?c+360:c,u,i,t.opacity)}(t):new Zn(t,n,e,null==r?1:r)}function Zn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Qn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Jn(a){var u=a.length-1;return function(t){var n=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),e=a[n],r=a[n+1],i=0<n?a[n-1]:2*e-r,o=n<u-1?a[n+2]:2*r-e;return Qn((t-n/u)*u,i,e,r,o)}}function te(a){var u=a.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*u),e=a[(n+u-1)%u],r=a[n%u],i=a[(n+1)%u],o=a[(n+2)%u];return Qn((t-n/u)*u,e,r,i,o)}}function ne(t){return function(){return t}}function ee(n,e){return function(t){return n+t*e}}function re(t,n){var e=n-t;return e?ee(t,180<e||e<-180?e-360*Math.round(e/360):e):ne(isNaN(t)?n:t)}function ie(e){return 1==(e=+e)?oe:function(t,n){return n-t?function(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(t){return Math.pow(n+t*e,r)}}(t,n,e):ne(isNaN(t)?n:t)}}function oe(t,n){var e=n-t;return e?ee(t,e):ne(isNaN(t)?n:t)}Kt(Zn,Kn,Zt(Qt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Mn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mn(255*(n+e*(-.14861*r+Hn*i)),255*(n+e*(Gn*r+Yn*i)),255*(n+Vn*r*e),this.opacity)}}));var ae=function t(n){var a=ie(n);function e(n,t){var e=a((n=yn(n)).r,(t=yn(t)).r),r=a(n.g,t.g),i=a(n.b,t.b),o=oe(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function ue(u){return function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)e=yn(t[n]),i[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return i=u(i),o=u(o),a=u(a),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e+""}}}var ce=ue(Jn),le=ue(te);function se(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=ye(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function fe(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}function he(n,e){return e-=n=+n,function(t){return n+e*t}}function de(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ye(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ge=new RegExp(pe.source,"g");function ve(t,r){var n,e,i,o=pe.lastIndex=ge.lastIndex=0,a=-1,u=[],c=[];for(t+="",r+="";(n=pe.exec(t))&&(e=ge.exec(r));)(i=e.index)>o&&(i=r.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(e=e[0])?u[a]?u[a]+=e:u[++a]=e:(u[++a]=null,c.push({i:a,x:he(n,e)})),o=ge.lastIndex;return o<r.length&&(i=r.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(n){return function(t){return n(t)+""}}(c[0].x):function(t){return function(){return t}}(r):(r=c.length,function(t){for(var n,e=0;e<r;++e)u[(n=c[e]).i]=n.x(t);return u.join("")})}function ye(t,n){var e,r=typeof n;return null==n||"boolean"==r?ne(n):("number"==r?he:"string"==r?(e=dn(n))?(n=e,ae):ve:n instanceof dn?ae:n instanceof Date?fe:Array.isArray(n)?se:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?de:he)(t,n)}function me(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}}var be,xe,_e,we,Ae=180/Math.PI,Me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ke(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ae,skewX:Math.atan(c)*Ae,scaleX:a,scaleY:u}}function Ee(e,u,c,a){function l(t){return t.length?t.pop()+" ":""}return function(t,n){var i=[],o=[];return t=e(t),n=e(n),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push("translate(",null,u,null,c);o.push({i:a-4,x:he(t,e)},{i:a-2,x:he(n,r)})}else(e||r)&&i.push("translate("+e+u+r+c)}(t.translateX,t.translateY,n.translateX,n.translateY,i,o),function(t,n,e,r){t!==n?(180<t-n?n+=360:180<n-t&&(t+=360),r.push({i:e.push(l(e)+"rotate(",null,a)-2,x:he(t,n)})):n&&e.push(l(e)+"rotate("+n+a)}(t.rotate,n.rotate,i,o),function(t,n,e,r){t!==n?r.push({i:e.push(l(e)+"skewX(",null,a)-2,x:he(t,n)}):n&&e.push(l(e)+"skewX("+n+a)}(t.skewX,n.skewX,i,o),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push(l(i)+"scale(",null,",",null,")");o.push({i:a-4,x:he(t,e)},{i:a-2,x:he(n,r)})}else 1===e&&1===r||i.push(l(i)+"scale("+e+","+r+")")}(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,o),t=n=null,function(t){for(var n,e=-1,r=o.length;++e<r;)i[(n=o[e]).i]=n.x(t);return i.join("")}}}var Se=Ee(function(t){return"none"===t?Me:(be||(be=document.createElement("DIV"),xe=document.documentElement,_e=document.defaultView),be.style.transform=t,t=_e.getComputedStyle(xe.appendChild(be),null).getPropertyValue("transform"),xe.removeChild(be),ke(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Te=Ee(function(t){return null==t?Me:(we||(we=document.createElementNS("http://www.w3.org/2000/svg","g")),we.setAttribute("transform",t),(t=we.transform.baseVal.consolidate())?ke((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Me)},", ",")",")"),Ce=Math.SQRT2,Ne=2,Le=4,Re=1e-12;function De(t){return((t=Math.exp(t))+1/t)/2}function Oe(t,n){var e,i,o=t[0],a=t[1],u=t[2],r=n[0],c=n[1],l=n[2],s=r-o,f=c-a,h=s*s+f*f;if(h<Re)i=Math.log(l/u)/Ce,e=function(t){return[o+t*s,a+t*f,u*Math.exp(Ce*t*i)]};else{var d=Math.sqrt(h),p=(l*l-u*u+Le*h)/(2*u*Ne*d),g=(l*l-u*u-Le*h)/(2*l*Ne*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);i=(y-v)/Ce,e=function(t){var n=t*i,e=De(v),r=u/(Ne*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ce*n+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[o+r*s,a+r*f,u*e/De(Ce*n+v)]}}return e.duration=1e3*i,e}function Pe(a){return function(n,t){var e=a((n=_n(n)).h,(t=_n(t)).h),r=oe(n.s,t.s),i=oe(n.l,t.l),o=oe(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(t),n.opacity=o(t),n+""}}}var ze=Pe(re),Fe=Pe(oe);function Ie(a){return function(n,t){var e=a((n=jn(n)).h,(t=jn(t)).h),r=oe(n.c,t.c),i=oe(n.l,t.l),o=oe(n.opacity,t.opacity);return function(t){return n.h=e(t),n.c=r(t),n.l=i(t),n.opacity=o(t),n+""}}}var Be=Ie(re),Ue=Ie(oe);function je(u){return function t(a){function n(n,t){var e=u((n=Kn(n)).h,(t=Kn(t)).h),r=oe(n.s,t.s),i=oe(n.l,t.l),o=oe(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(Math.pow(t,a)),n.opacity=o(t),n+""}}return a=+a,n.gamma=t,n}(1)}var qe=je(re),He=je(oe);var Ge,Ye,Ve=0,Xe=0,We=0,$e=1e3,Ke=0,Ze=0,Qe=0,Je="object"==typeof performance&&performance.now?performance:Date,tr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nr(){return Ze||(tr(er),Ze=Je.now()+Qe)}function er(){Ze=0}function rr(){this._call=this._time=this._next=null}function ir(t,n,e){var r=new rr;return r.restart(t,n,e),r}function or(){nr(),++Ve;for(var t,n=Ge;n;)0<=(t=Ze-n._time)&&n._call.call(null,t),n=n._next;--Ve}function ar(){Ze=(Ke=Je.now())+Qe,Ve=Xe=0;try{or()}finally{Ve=0,function(){var t,n,e=Ge,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:Ge=n);Ye=t,cr(r)}(),Ze=0}}function ur(){var t=Je.now(),n=t-Ke;$e<n&&(Qe-=n,Ke=t)}function cr(t){Ve||(Xe&&(Xe=clearTimeout(Xe)),24<t-Ze?(t<1/0&&(Xe=setTimeout(ar,t-Je.now()-Qe)),We&&(We=clearInterval(We))):(We||(Ke=Je.now(),We=setInterval(ur,$e)),Ve=1,tr(ar)))}function lr(n,e,t){var r=new rr;return e=null==e?0:+e,r.restart(function(t){r.stop(),n(t+e)},e,t),r}rr.prototype=ir.prototype={constructor:rr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?nr():+e)+(null==n?0:+n),this._next||Ye===this||(Ye?Ye._next=this:Ge=this,Ye=this),this._call=t,this._time=e,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};var sr=q("start","end","cancel","interrupt"),fr=[],hr=0,dr=1,pr=2,gr=3,vr=4,yr=5,mr=6;function br(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(o,a,u){var c,l=o.__transition;function s(t){var n,e,r,i;if(u.state!==dr)return h();for(n in l)if((i=l[n]).name===u.name){if(i.state===gr)return lr(s);i.state===vr?(i.state=mr,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[n]):+n<a&&(i.state=mr,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete l[n])}if(lr(function(){u.state===gr&&(u.state=vr,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=pr,u.on.call("start",o,o.__data__,u.index,u.group),u.state===pr){for(u.state=gr,c=new Array(r=u.tween.length),n=0,e=-1;n<r;++n)(i=u.tween[n].value.call(o,o.__data__,u.index,u.group))&&(c[++e]=i);c.length=e+1}}function f(t){for(var n=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=yr,1),e=-1,r=c.length;++e<r;)c[e].call(o,n);u.state===yr&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=mr,u.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=u).timer=ir(function(t){u.state=dr,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)},0,u.time)}(t,e,{name:n,index:r,group:i,on:sr,tween:fr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hr})}function xr(t,n){var e=wr(t,n);if(e.state>hr)throw new Error("too late; already scheduled");return e}function _r(t,n){var e=wr(t,n);if(e.state>gr)throw new Error("too late; already running");return e}function wr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ar(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>pr&&e.state<yr,e.state=mr,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Mr(t,n,e){var r=t._id;return t.each(function(){var t=_r(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return wr(t,r).value[n]}}function kr(t,n){var e;return("number"==typeof n?he:n instanceof dn?ae:(e=dn(n))?(n=e,ae):ve)(t,n)}var Er=Lt.prototype.constructor;function Sr(t){return function(){this.style.removeProperty(t)}}var Tr=0;function Cr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Nr(t){return Lt().transition(t)}function Lr(){return++Tr}var Rr=Lt.prototype;function Dr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Cr.prototype=Nr.prototype={constructor:Cr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Z(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,br(f[h],n,e,h,f,wr(u,e)));return new Cr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=J(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,d=t.call(c,c.__data__,f,l),p=wr(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&br(h,n,e,g,d,p);o.push(d),a.push(c)}return new Cr(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Cr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Cr(a,this._parents,this._name,this._id)},selection:function(){return new Er(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Lr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=wr(a,n);br(a,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Cr(r,this._parents,t,e)},call:Rr.call,nodes:Rr.nodes,node:Rr.node,size:Rr.size,empty:Rr.empty,each:Rr.each,on:function(t,n){var e=this._id;return arguments.length<2?wr(this.node(),e).on.on(t):this.each(function(e,r,i){var o,a,u=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t})}(r)?xr:_r;return function(){var t=u(this,e),n=t.on;n!==o&&(a=(o=n).copy()).on(r,i),t.on=a}}(e,t,n))},attr:function(t,n){var e=W(t),r="transform"===e?Te:kr;return this.attrTween(t,"function"==typeof n?(e.local?function(r,i,o){var a,u,c;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===a&&n===u?c:(u=n,c=i(a=t,e));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,u,c;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===a&&n===u?c:(u=n,c=i(a=t,e));this.removeAttribute(r)}})(e,r,Mr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(n.space,n.local);return t===a?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o,a=r+"";return function(){var t=this.getAttribute(n);return t===a?null:t===i?o:o=e(i=t,r)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=W(t);return this.tween(e,(r.local?function(n,e){var r,i;function t(){var t=e.apply(this,arguments);return t!==i&&(r=(i=t)&&function(n,e){return function(t){this.setAttributeNS(n.space,n.local,e(t))}}(n,t)),r}return t._value=e,t}:function(n,e){var r,i;function t(){var t=e.apply(this,arguments);return t!==i&&(r=(i=t)&&function(n,e){return function(t){this.setAttribute(n,e(t))}}(n,t)),r}return t._value=e,t})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Se:kr;return null==n?this.styleTween(t,function(e,r){var i,o,a;return function(){var t=ct(this,e),n=(this.style.removeProperty(e),ct(this,e));return t===n?null:t===i&&n===o?a:a=r(i=t,o=n)}}(t,r)).on("end.style."+t,Sr(t)):"function"==typeof n?this.styleTween(t,function(r,i,o){var a,u,c;return function(){var t=ct(this,r),n=o(this),e=n+"";return null==n&&(this.style.removeProperty(r),e=n=ct(this,r)),t===e?null:t===a&&e===u?c:(u=e,c=i(a=t,n))}}(t,r,Mr(this,"style."+t,n))).each(function(r,i){var o,a,u,c,l="style."+i,s="end."+l;return function(){var t=_r(this,r),n=t.on,e=null==t.value[l]?c||(c=Sr(i)):void 0;n===o&&u===e||(a=(o=n).copy()).on(s,u=e),t.on=a}}(this._id,t)):this.styleTween(t,function(n,e,r){var i,o,a=r+"";return function(){var t=ct(this,n);return t===a?null:t===i?o:o=e(i=t,r)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(n,e,r){var i,o;function t(){var t=e.apply(this,arguments);return t!==o&&(i=(o=t)&&function(n,e,r){return function(t){this.style.setProperty(n,e(t),r)}}(n,t,r)),i}return t._value=e,t}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Mr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=wr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var a,u;return function(){var t=_r(this,i),n=t.tween;if(n!==a)for(var e=0,r=(u=a=n).length;e<r;++e)if(u[e].name===o){(u=u.slice()).splice(e,1);break}t.tween=u}}:function(o,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=_r(this,o),n=t.tween;if(n!==c){l=(c=n).slice();for(var e={name:a,value:u},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=e;break}r===i&&l.push(e)}t.tween=l}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){xr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){xr(this,t).delay=n}})(n,t)):wr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){_r(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){_r(this,t).duration=n}})(n,t)):wr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){_r(this,t).ease=n}}(n,t)):wr(this.node(),n).ease},end:function(){var i,o,a=this,u=a._id,c=a.size();return new Promise(function(t,n){var e={value:n},r={value:function(){0==--c&&t()}};a.each(function(){var t=_r(this,u),n=t.on;n!==i&&((o=(i=n).copy())._.cancel.push(e),o._.interrupt.push(e),o._.end.push(r)),t.on=o})})}};var Pr=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),zr=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Fr=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Ir=Math.PI,Br=Ir/2;function Ur(t){return(1-Math.cos(Ir*t))/2}function jr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function qr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Hr=4/11,Gr=6/11,Yr=8/11,Vr=.75,Xr=9/11,Wr=10/11,$r=.9375,Kr=21/22,Zr=63/64,Qr=1/Hr/Hr;function Jr(t){return(t=+t)<Hr?Qr*t*t:t<Yr?Qr*(t-=Gr)*t+Vr:t<Wr?Qr*(t-=Xr)*t+$r:Qr*(t-=Kr)*t+Zr}var ti=1.70158,ni=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(ti),ei=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(ti),ri=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(ti),ii=2*Math.PI,oi=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ii);function t(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return n(t,r*ii)},t.period=function(t){return n(e,t)},t}(1,.3),ai=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ii);function t(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return n(t,r*ii)},t.period=function(t){return n(e,t)},t}(1,.3),ui=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ii);function t(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/r):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return n(t,r*ii)},t.period=function(t){return n(e,t)},t}(1,.3),ci={time:null,delay:0,duration:250,ease:Or};function li(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=nr(),ci;return e}Lt.prototype.interrupt=function(t){return this.each(function(){Ar(this,t)})},Lt.prototype.transition=function(t){var n,e;t=t instanceof Cr?(n=t._id,t._name):(n=Lr(),(e=ci).time=nr(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&br(a,t,n,l,u,e||li(a,n));return new Cr(r,this._parents,t,n)};var si=[null];function fi(t){return function(){return t}}function hi(t,n,e){this.target=t,this.type=n,this.selection=e}function di(){U.event.stopImmediatePropagation()}function pi(){U.event.preventDefault(),U.event.stopImmediatePropagation()}var gi={name:"drag"},vi={name:"space"},yi={name:"handle"},mi={name:"center"},bi={name:"x",handles:["e","w"].map(Si),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},xi={name:"y",handles:["n","s"].map(Si),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_i={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Si),input:function(t){return t},output:function(t){return t}},wi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ai={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Mi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ki={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ei={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Si(t){return{type:t}}function Ti(){return!U.event.button}function Ci(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ni(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Li(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ri(P){var z,n=Ci,F=Ti,e=q(i,"start","brush","end"),r=6;function i(t){var n=t.property("__brush",u).selectAll(".overlay").data([Si("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wi.overlay).merge(n).each(function(){var t=Ni(this).extent;Rt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Si("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=t.selectAll(".handle").data(P.handles,function(t){return t.type});e.exit().remove(),e.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return wi[t.type]}),t.each(I).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function I(){var t=Rt(this),n=Ni(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-r/2:n[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-r/2:n[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function B(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function a(){if(U.event.touches){if(U.event.changedTouches.length<U.event.touches.length)return pi()}else if(z)return;if(F.apply(this,arguments)){var n,e,r,i,o,a,u,c,l,s,f,h,d,p=this,g=U.event.target.__data__.type,v="selection"===(U.event.metaKey?g="overlay":g)?gi:U.event.altKey?mi:yi,y=P===xi?null:ki[g],m=P===bi?null:Ei[g],b=Ni(p),t=b.extent,x=b.selection,_=t[0][0],w=t[0][1],A=t[1][0],M=t[1][1],k=y&&m&&U.event.shiftKey,E=It(p),S=E,T=B(p,arguments).beforestart();"overlay"===g?b.selection=x=[[n=P===xi?_:E[0],r=P===bi?w:E[1]],[o=P===xi?A:n,u=P===bi?M:r]]:(n=x[0][0],r=x[0][1],o=x[1][0],u=x[1][1]),e=n,i=r,a=o,c=u;var C=Rt(p).attr("pointer-events","none"),N=C.selectAll(".overlay").attr("cursor",wi[g]);if(U.event.touches)C.on("touchmove.brush",R,!0).on("touchend.brush touchcancel.brush",O,!0);else{var L=Rt(U.event.view).on("keydown.brush",function(){switch(U.event.keyCode){case 16:k=y&&m;break;case 18:v===yi&&(y&&(o=a-l*y,n=e+l*y),m&&(u=c-s*m,r=i+s*m),v=mi,D());break;case 32:v!==yi&&v!==mi||(y<0?o=a-l:0<y&&(n=e-l),m<0?u=c-s:0<m&&(r=i-s),v=vi,N.attr("cursor",wi.selection),D());break;default:return}pi()},!0).on("keyup.brush",function(){switch(U.event.keyCode){case 16:k&&(h=d=k=!1,D());break;case 18:v===mi&&(y<0?o=a:0<y&&(n=e),m<0?u=c:0<m&&(r=i),v=yi,D());break;case 32:v===vi&&(v=U.event.altKey?(y&&(o=a-l*y,n=e+l*y),m&&(u=c-s*m,r=i+s*m),mi):(y<0?o=a:0<y&&(n=e),m<0?u=c:0<m&&(r=i),yi),N.attr("cursor",wi[g]),D());break;default:return}pi()},!0).on("mousemove.brush",R,!0).on("mouseup.brush",O,!0);qt(U.event.view)}di(),Ar(p),I.call(p),T.start()}function R(){var t=It(p);!k||h||d||(Math.abs(t[0]-S[0])>Math.abs(t[1]-S[1])?d=!0:h=!0),S=t,f=!0,pi(),D()}function D(){var t;switch(l=S[0]-E[0],s=S[1]-E[1],v){case vi:case gi:y&&(l=Math.max(_-n,Math.min(A-o,l)),e=n+l,a=o+l),m&&(s=Math.max(w-r,Math.min(M-u,s)),i=r+s,c=u+s);break;case yi:y<0?(l=Math.max(_-n,Math.min(A-n,l)),e=n+l,a=o):0<y&&(l=Math.max(_-o,Math.min(A-o,l)),e=n,a=o+l),m<0?(s=Math.max(w-r,Math.min(M-r,s)),i=r+s,c=u):0<m&&(s=Math.max(w-u,Math.min(M-u,s)),i=r,c=u+s);break;case mi:y&&(e=Math.max(_,Math.min(A,n-l*y)),a=Math.max(_,Math.min(A,o+l*y))),m&&(i=Math.max(w,Math.min(M,r-s*m)),c=Math.max(w,Math.min(M,u+s*m)))}a<e&&(y*=-1,t=n,n=o,o=t,t=e,e=a,a=t,g in Ai&&N.attr("cursor",wi[g=Ai[g]])),c<i&&(m*=-1,t=r,r=u,u=t,t=i,i=c,c=t,g in Mi&&N.attr("cursor",wi[g=Mi[g]])),b.selection&&(x=b.selection),h&&(e=x[0][0],a=x[1][0]),d&&(i=x[0][1],c=x[1][1]),x[0][0]===e&&x[0][1]===i&&x[1][0]===a&&x[1][1]===c||(b.selection=[[e,i],[a,c]],I.call(p),T.brush())}function O(){if(di(),U.event.touches){if(U.event.touches.length)return;z&&clearTimeout(z),z=setTimeout(function(){z=null},500),C.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ht(U.event.view,f),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),N.attr("cursor",wi.overlay),b.selection&&(x=b.selection),Li(x)&&(b.selection=null,I.call(p)),T.end()}}function u(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=P,t}return i.move=function(t,u){t.selection?t.on("start.brush",function(){B(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){B(this,arguments).end()}).tween("brush",function(){var n=this,e=n.__brush,r=B(n,arguments),t=e.selection,i=P.input("function"==typeof u?u.apply(this,arguments):u,e.extent),o=ye(t,i);function a(t){e.selection=1===t&&Li(i)?null:o(t),I.call(n),r.brush()}return t&&i?a:a(1)}):t.each(function(){var t=arguments,n=this.__brush,e=P.input("function"==typeof u?u.apply(this,t):u,n.extent),r=B(this,t).beforestart();Ar(this),n.selection=null==e||Li(e)?null:e,I.call(this),r.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){St(new hi(i,t,P.output(this.state.selection)),e.apply,e,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(n="function"==typeof t?t:fi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):n},i.filter=function(t){return arguments.length?(F="function"==typeof t?t:fi(!!t),i):F},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=e.on.apply(e,arguments);return t===e?i:t},i}var Di=Math.cos,Oi=Math.sin,Pi=Math.PI,zi=Pi/2,Fi=2*Pi,Ii=Math.max;var Bi=Array.prototype.slice;function Ui(t){return function(){return t}}var ji=Math.PI,qi=2*ji,Hi=1e-6,Gi=qi-Hi;function Yi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vi(){return new Yi}function Xi(t){return t.source}function Wi(t){return t.target}function $i(t){return t.radius}function Ki(t){return t.startAngle}function Zi(t){return t.endAngle}Yi.prototype=Vi.prototype={constructor:Yi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,c=r-n,l=o-t,s=a-n,f=l*l+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(Hi<f)if(Math.abs(s*u-c*l)>Hi&&i){var h=e-o,d=r-a,p=u*u+c*c,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((ji-Math.acos((p+f-g)/(2*v*y)))/2),b=m/y,x=m/v;Math.abs(b-1)>Hi&&(this._+="L"+(t+b*l)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(l*d<s*h)+","+(this._x1=t+x*u)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=t+a,l=n+u,s=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Hi||Math.abs(this._y1-l)>Hi)&&(this._+="L"+c+","+l),e&&(f<0&&(f=f%qi+qi),Gi<f?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=l):Hi<f&&(this._+="A"+e+","+e+",0,"+ +(ji<=f)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Qi="$";function Ji(){}function to(t,n){var e=new Ji;if(t instanceof Ji)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function no(){return{}}function eo(t,n,e){t[n]=e}function ro(){return to()}function io(t,n,e){t.set(n,e)}function oo(){}Ji.prototype=to.prototype={constructor:Ji,has:function(t){return Qi+t in this},get:function(t){return this[Qi+t]},set:function(t,n){return this[Qi+t]=n,this},remove:function(t){var n=Qi+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Qi&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Qi&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Qi&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Qi&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Qi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Qi)return!1;return!0},each:function(t){for(var n in this)n[0]===Qi&&t(this[n],n.slice(1),this)}};var ao=to.prototype;function uo(t,n){var e=new oo;if(t instanceof oo)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}oo.prototype=uo.prototype={constructor:oo,has:ao.has,add:function(t){return this[Qi+(t+="")]=t,this},remove:ao.remove,clear:ao.clear,values:ao.keys,size:ao.size,empty:ao.empty,each:ao.each};var co=Array.prototype.slice;function lo(t,n){return t-n}function so(t){return function(){return t}}function fo(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ho(t,n[r]))return e;return 0}function ho(t,n){for(var e,r,i,o,a=n[0],u=n[1],c=-1,l=0,s=t.length,f=s-1;l<s;f=l++){var h=t[l],d=h[0],p=h[1],g=t[f],v=g[0],y=g[1];if(o=void 0,function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(e=h,r=g,i=n)&&function(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}(e[o=+(e[0]===r[0])],i[o],r[o]))return 0;u<p!=u<y&&a<(v-d)*(u-p)/(y-p)+d&&(c=-c)}return c}function po(){}var go=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function vo(){var h=1,d=1,o=b,a=n;function r(n){var t=o(n);if(Array.isArray(t))t=t.slice().sort(lo);else{var e=c(n),r=e[0],i=e[1];t=E(r,i,t),t=k(Math.floor(r/t)*t,Math.floor(i/t)*t,t)}return t.map(function(t){return u(n,t)})}function u(n,e){var i=[],r=[];return function(t,n,u){var c,l,e,r,i,o,s=new Array,f=new Array;c=l=-1,r=t[0]>=n,go[r<<1].forEach(a);for(;++c<h-1;)e=r,r=t[c+1]>=n,go[e|r<<1].forEach(a);go[r<<0].forEach(a);for(;++l<d-1;){for(c=-1,r=t[l*h+h]>=n,i=t[l*h]>=n,go[r<<1|i<<2].forEach(a);++c<h-1;)e=r,r=t[l*h+h+c+1]>=n,o=i,i=t[l*h+c+1]>=n,go[e|r<<1|i<<2|o<<3].forEach(a);go[r|i<<3].forEach(a)}c=-1,i=t[l*h]>=n,go[i<<2].forEach(a);for(;++c<h-1;)o=i,i=t[l*h+c+1]>=n,go[i<<2|o<<3].forEach(a);function a(t){var n,e,r=[t[0][0]+c,t[0][1]+l],i=[t[1][0]+c,t[1][1]+l],o=p(r),a=p(i);(n=f[o])?(e=s[a])?(delete f[n.end],delete s[e.start],n===e?(n.ring.push(i),u(n.ring)):s[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[n.end],n.ring.push(i),f[n.end=a]=n):(n=s[a])?(e=f[o])?(delete s[n.start],delete f[e.end],n===e?(n.ring.push(i),u(n.ring)):s[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete s[n.start],n.ring.unshift(r),s[n.start=o]=n):s[o]=f[a]={start:o,end:a,ring:[r,i]}}go[i<<3].forEach(a)}(n,e,function(t){a(t,n,e),0<function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)?i.push([t]):r.push(t)}),r.forEach(function(t){for(var n,e=0,r=i.length;e<r;++e)if(-1!==fo((n=i[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:e,coordinates:i}}function p(t){return 2*t[0]+t[1]*(h+1)*4}function n(t,u,c){t.forEach(function(t){var n,e=t[0],r=t[1],i=0|e,o=0|r,a=u[o*h+i];0<e&&e<h&&i===e&&(n=u[o*h+i-1],t[0]=e+(c-n)/(a-n)-.5),0<r&&r<d&&o===r&&(n=u[(o-1)*h+i],t[1]=r+(c-n)/(a-n)-.5)})}return r.contour=u,r.size=function(t){if(!arguments.length)return[h,d];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(0<n&&0<e))throw new Error("invalid size");return h=n,d=e,r},r.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:Array.isArray(t)?so(co.call(t)):so(t),r):o},r.smooth=function(t){return arguments.length?(a=t?n:po,r):a===n},r}function yo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,c=0;u<r+e;++u)u<r&&(c+=t.data[u+a*r]),e<=u&&(o<=u&&(c-=t.data[u-o+a*r]),n.data[u-e+a*r]=c/Math.min(u+1,r-1+o-u,o))}function mo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,c=0;u<i+e;++u)u<i&&(c+=t.data[a+u*r]),e<=u&&(o<=u&&(c-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=c/Math.min(u+1,i-1+o-u,o))}function bo(t){return t[0]}function xo(t){return t[1]}function _o(){return 1}var wo={},Ao={},Mo=34,ko=10,Eo=13;function So(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function To(t){var e=Object.create(null),r=[];return t.forEach(function(t){for(var n in t)n in e||r.push(e[n]=n)}),r}function Co(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function No(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Co(-t,6):9999<t?"+"+Co(t,6):Co(t,4)}(t.getUTCFullYear())+"-"+Co(t.getUTCMonth()+1,2)+"-"+Co(t.getUTCDate(),2)+(i?"T"+Co(n,2)+":"+Co(e,2)+":"+Co(r,2)+"."+Co(i,3)+"Z":r?"T"+Co(n,2)+":"+Co(e,2)+":"+Co(r,2)+"Z":e||n?"T"+Co(n,2)+":"+Co(e,2)+"Z":"")}function Lo(r){var n=new RegExp('["'+r+"\n\r]"),f=r.charCodeAt(0);function o(r,t){var n,e=[],i=r.length,o=0,a=0,u=i<=0,c=!1;function l(){if(u)return Ao;if(c)return c=!1,wo;var t,n,e=o;if(r.charCodeAt(e)===Mo){for(;o++<i&&r.charCodeAt(o)!==Mo||r.charCodeAt(++o)===Mo;);return(t=o)>=i?u=!0:(n=r.charCodeAt(o++))===ko?c=!0:n===Eo&&(c=!0,r.charCodeAt(o)===ko&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if((n=r.charCodeAt(t=o++))===ko)c=!0;else if(n===Eo)c=!0,r.charCodeAt(o)===ko&&++o;else if(n!==f)continue;return r.slice(e,t)}return u=!0,r.slice(e,i)}for(r.charCodeAt(i-1)===ko&&--i,r.charCodeAt(i-1)===Eo&&--i;(n=l())!==Ao;){for(var s=[];n!==wo&&n!==Ao;)s.push(n),n=l();t&&null==(s=t(s,a++))||e.push(s)}return e}function e(t,e){return t.map(function(n){return e.map(function(t){return a(n[t])}).join(r)})}function i(t){return t.map(a).join(r)}function a(t){return null==t?"":t instanceof Date?No(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var r,i,n=o(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(e,r){var i=So(e);return function(t,n){return r(i(t),n,e)}}(t,e):So(t)});return n.columns=i||[],n},parseRows:o,format:function(t,n){return null==n&&(n=To(t)),[n.map(a).join(r)].concat(e(t,n)).join("\n")},formatBody:function(t,n){return null==n&&(n=To(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var Ro=Lo(","),Do=Ro.parse,Oo=Ro.parseRows,Po=Ro.format,zo=Ro.formatBody,Fo=Ro.formatRows,Io=Lo("\t"),Bo=Io.parse,Uo=Io.parseRows,jo=Io.format,qo=Io.formatBody,Ho=Io.formatRows;function Go(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Yo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Vo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Xo(t,n){return fetch(t,n).then(Vo)}function Wo(r){return function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),Xo(t,n).then(function(t){return r(t,e)})}}var $o=Wo(Do),Ko=Wo(Bo);function Zo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Qo(e){return function(t,n){return Xo(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var Jo=Qo("application/xml"),ta=Qo("text/html"),na=Qo("image/svg+xml");function ea(t){return function(){return t}}function ra(){return 1e-6*(Math.random()-.5)}function ia(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,l,s,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(a=(v+m)/2))?v=a:m=a,!(d=(i=d)[f=s<<1|l]))return i[f]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[f]=p:t._root=p,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(a=(v+m)/2))?v=a:m=a,(f=s<<1|l)==(h=(a<=c)<<1|o<=u););return i[h]=d,i[f]=p,t}function oa(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function aa(t){return t[0]}function ua(t){return t[1]}function ca(t,n,e){var r=new la(null==n?aa:n,null==e?ua:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function la(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function sa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var fa=ca.prototype=la.prototype;function ha(t){return t.x+t.vx}function da(t){return t.y+t.vy}function pa(t){return t.index}function ga(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function va(t){return t.x}function ya(t){return t.y}fa.copy=function(){var t,n,e=new la(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=sa(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=sa(n));return e},fa.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ia(this.cover(n,e),n,e,t)},fa.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,l=1/0,s=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||((a[e]=r)<c&&(c=r),s<r&&(s=r),(u[e]=i)<l&&(l=i),f<i&&(f=i));if(s<c||f<l)return this;for(this.cover(c,l).cover(s,f),e=0;e<o;++e)ia(this,a[e],u[e],t[e]);return this},fa.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e,l=this._root;t<e||i<=t||n<r||o<=n;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=l,l=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},fa.data=function(){var n=[];return this.visit(function(t){if(!t.length)for(;n.push(t.data),t=t.next;);}),n},fa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fa.find=function(t,n,e){var r,i,o,a,u,c,l,s=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new oa(g,s,f,h,d)),null==e?e=1/0:(s=t-e,f=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<s||(u=c.y1)<f))if(g.length){var v=(i+a)/2,y=(o+u)/2;p.push(new oa(g[3],v,y,a,u),new oa(g[2],i,y,v,u),new oa(g[1],v,o,a,y),new oa(g[0],i,o,v,y)),(l=(y<=n)<<1|v<=t)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var m=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),x=m*m+b*b;if(x<e){var _=Math.sqrt(e=x);s=t-_,f=n-_,h=t+_,d=n+_,r=g.data}}return r},fa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,l,s,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(u=(p+v)/2))?p=u:v=u,(s=a>=(c=(g+y)/2))?g=c:y=c,!(d=(n=d)[f=s<<1|l]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(!(d=(r=d).next))return this;return(i=d.next)&&delete d.next,r?i?r.next=i:delete r.next:n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d)):this._root=i,this},fa.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},fa.root=function(){return this._root},fa.size=function(){var n=0;return this.visit(function(t){if(!t.length)for(;++n,t=t.next;);}),n},fa.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new oa(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var l=(r+o)/2,s=(i+a)/2;(e=c[3])&&u.push(new oa(e,l,s,o,a)),(e=c[2])&&u.push(new oa(e,r,s,l,a)),(e=c[1])&&u.push(new oa(e,l,i,o,s)),(e=c[0])&&u.push(new oa(e,r,i,l,s))}return this},fa.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new oa(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,l=n.y1,s=(a+c)/2,f=(u+l)/2;(o=i[0])&&e.push(new oa(o,a,u,s,f)),(o=i[1])&&e.push(new oa(o,s,u,c,f)),(o=i[2])&&e.push(new oa(o,a,f,s,l)),(o=i[3])&&e.push(new oa(o,s,f,c,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},fa.x=function(t){return arguments.length?(this._x=t,this):this._x},fa.y=function(t){return arguments.length?(this._y=t,this):this._y};var ma=Math.PI*(3-Math.sqrt(5));function ba(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function xa(t){return(t=ba(Math.abs(t)))?t[1]:NaN}var _a,wa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Aa(t){return new Ma(t)}function Ma(t){if(!(n=wa.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function ka(t,n){var e=ba(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Aa.prototype=Ma.prototype,Ma.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ea={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ka(100*t,n)},r:ka,s:function(t,n){var e=ba(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(_a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ba(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Sa(t){return t}var Ta,Ca=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Na(t){var w=t.grouping&&t.thousands?function(u,c){return function(t,n){for(var e=t.length,r=[],i=0,o=u[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}}(t.grouping,t.thousands):Sa,r=t.currency,A=t.decimal,M=t.numerals?function(n){return function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}}(t.numerals):Sa,i=t.percent||"%";function a(t){var l=(t=Aa(t)).fill,s=t.align,f=t.sign,n=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Ea[y]||(null==g&&(g=12),v=!0,y="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var m="$"===n?r[0]:"#"===n&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===n?r[1]:/[%p]/.test(y)?i:"",x=Ea[y],_=/[defgprs%]/.test(y);function e(t){var n,e,r,i=m,o=b;if("c"===y)o=x(t)+o,t="";else{var a=(t=+t)<0;if(t=x(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===y?Ca[8+_a/3]:"")+o+(a&&"("===f?")":""),_)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?A+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,c=u<d?new Array(d-u+1).join(l):"";switch(p&&h&&(t=w(c+t,c.length?d-o.length:1/0),c=""),s){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return M(t)}return g=null==g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}return{format:a,formatPrefix:function(t,n){var e=a(((t=Aa(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xa(n)/3))),i=Math.pow(10,-r),o=Ca[8+r/3];return function(t){return e(i*t)+o}}}}function La(t){return Ta=Na(t),U.format=Ta.format,U.formatPrefix=Ta.formatPrefix,Ta}function Ra(t){return Math.max(0,-xa(Math.abs(t)))}function Da(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xa(n)/3)))-xa(Math.abs(t)))}function Oa(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,xa(n)-xa(t))+1}function Pa(){return new za}function za(){this.reset()}La({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),za.prototype={constructor:za,reset:function(){this.s=this.t=0},add:function(t){Ia(Fa,t,this.t),Ia(this,Fa.s,this.s),this.s?this.t+=Fa.t:this.s=Fa.t},valueOf:function(){return this.s}};var Fa=new za;function Ia(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Ba=1e-6,Ua=Math.PI,ja=Ua/2,qa=Ua/4,Ha=2*Ua,Ga=180/Ua,Ya=Ua/180,Va=Math.abs,Xa=Math.atan,Wa=Math.atan2,$a=Math.cos,Ka=Math.ceil,Za=Math.exp,Qa=Math.log,Ja=Math.pow,tu=Math.sin,nu=Math.sign||function(t){return 0<t?1:t<0?-1:0},eu=Math.sqrt,ru=Math.tan;function iu(t){return 1<t?0:t<-1?Ua:Math.acos(t)}function ou(t){return 1<t?ja:t<-1?-ja:Math.asin(t)}function au(t){return(t=tu(t/2))*t}function uu(){}function cu(t,n){t&&su.hasOwnProperty(t.type)&&su[t.type](t,n)}var lu={Feature:function(t,n){cu(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)cu(e[r].geometry,n)}},su={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){fu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)fu(e[r],n,0)},Polygon:function(t,n){hu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)hu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)cu(e[r],n)}};function fu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function hu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)fu(t[e],n,1);n.polygonEnd()}function du(t,n){t&&lu.hasOwnProperty(t.type)?lu[t.type](t,n):cu(t,n)}var pu,gu,vu,yu,mu,bu=Pa(),xu=Pa(),_u={point:uu,lineStart:uu,lineEnd:uu,polygonStart:function(){bu.reset(),_u.lineStart=wu,_u.lineEnd=Au},polygonEnd:function(){var t=+bu;xu.add(t<0?Ha+t:t),this.lineStart=this.lineEnd=this.point=uu},sphere:function(){xu.add(Ha)}};function wu(){_u.point=Mu}function Au(){ku(pu,gu)}function Mu(t,n){_u.point=ku,pu=t,gu=n,vu=t*=Ya,yu=$a(n=(n*=Ya)/2+qa),mu=tu(n)}function ku(t,n){var e=(t*=Ya)-vu,r=0<=e?1:-1,i=r*e,o=$a(n=(n*=Ya)/2+qa),a=tu(n),u=mu*a,c=yu*o+u*$a(i),l=u*r*tu(i);bu.add(Wa(l,c)),vu=t,yu=o,mu=a}function Eu(t){return[Wa(t[1],t[0]),ou(t[2])]}function Su(t){var n=t[0],e=t[1],r=$a(e);return[r*$a(n),r*tu(n),tu(e)]}function Tu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Cu(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Nu(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Lu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ru(t){var n=eu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Du,Ou,Pu,zu,Fu,Iu,Bu,Uu,ju,qu,Hu,Gu,Yu,Vu,Xu,Wu,$u,Ku,Zu,Qu,Ju,tc,nc,ec,rc,ic,oc=Pa(),ac={point:uc,lineStart:lc,lineEnd:sc,polygonStart:function(){ac.point=fc,ac.lineStart=hc,ac.lineEnd=dc,oc.reset(),_u.polygonStart()},polygonEnd:function(){_u.polygonEnd(),ac.point=uc,ac.lineStart=lc,ac.lineEnd=sc,bu<0?(Du=-(Pu=180),Ou=-(zu=90)):Ba<oc?zu=90:oc<-Ba&&(Ou=-90),qu[0]=Du,qu[1]=Pu}};function uc(t,n){ju.push(qu=[Du=t,Pu=t]),n<Ou&&(Ou=n),zu<n&&(zu=n)}function cc(t,n){var e=Su([t*Ya,n*Ya]);if(Uu){var r=Cu(Uu,e),i=Cu([r[1],-r[0],0],r);Ru(i),i=Eu(i);var o,a=t-Fu,u=0<a?1:-1,c=i[0]*Ga*u,l=180<Va(a);l^(u*Fu<c&&c<u*t)?(o=i[1]*Ga,zu<o&&(zu=o)):l^(u*Fu<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Ga)<Ou&&(Ou=o):(n<Ou&&(Ou=n),zu<n&&(zu=n)),l?t<Fu?pc(Du,t)>pc(Du,Pu)&&(Pu=t):pc(t,Pu)>pc(Du,Pu)&&(Du=t):Du<=Pu?(t<Du&&(Du=t),Pu<t&&(Pu=t)):Fu<t?pc(Du,t)>pc(Du,Pu)&&(Pu=t):pc(t,Pu)>pc(Du,Pu)&&(Du=t)}else ju.push(qu=[Du=t,Pu=t]);n<Ou&&(Ou=n),zu<n&&(zu=n),Uu=e,Fu=t}function lc(){ac.point=cc}function sc(){qu[0]=Du,qu[1]=Pu,ac.point=uc,Uu=null}function fc(t,n){if(Uu){var e=t-Fu;oc.add(180<Va(e)?e+(0<e?360:-360):e)}else Iu=t,Bu=n;_u.point(t,n),cc(t,n)}function hc(){_u.lineStart()}function dc(){fc(Iu,Bu),_u.lineEnd(),Va(oc)>Ba&&(Du=-(Pu=180)),qu[0]=Du,qu[1]=Pu,Uu=null}function pc(t,n){return(n-=t)<0?n+360:n}function gc(t,n){return t[0]-n[0]}function vc(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var yc={sphere:uu,point:mc,lineStart:xc,lineEnd:Ac,polygonStart:function(){yc.lineStart=Mc,yc.lineEnd=kc},polygonEnd:function(){yc.lineStart=xc,yc.lineEnd=Ac}};function mc(t,n){t*=Ya;var e=$a(n*=Ya);bc(e*$a(t),e*tu(t),tu(n))}function bc(t,n,e){Yu+=(t-Yu)/++Hu,Vu+=(n-Vu)/Hu,Xu+=(e-Xu)/Hu}function xc(){yc.point=_c}function _c(t,n){t*=Ya;var e=$a(n*=Ya);ec=e*$a(t),rc=e*tu(t),ic=tu(n),yc.point=wc,bc(ec,rc,ic)}function wc(t,n){t*=Ya;var e=$a(n*=Ya),r=e*$a(t),i=e*tu(t),o=tu(n),a=Wa(eu((a=rc*o-ic*i)*a+(a=ic*r-ec*o)*a+(a=ec*i-rc*r)*a),ec*r+rc*i+ic*o);Gu+=a,Wu+=a*(ec+(ec=r)),$u+=a*(rc+(rc=i)),Ku+=a*(ic+(ic=o)),bc(ec,rc,ic)}function Ac(){yc.point=mc}function Mc(){yc.point=Ec}function kc(){Sc(tc,nc),yc.point=mc}function Ec(t,n){tc=t,nc=n,t*=Ya,n*=Ya,yc.point=Sc;var e=$a(n);ec=e*$a(t),rc=e*tu(t),ic=tu(n),bc(ec,rc,ic)}function Sc(t,n){t*=Ya;var e=$a(n*=Ya),r=e*$a(t),i=e*tu(t),o=tu(n),a=rc*o-ic*i,u=ic*r-ec*o,c=ec*i-rc*r,l=eu(a*a+u*u+c*c),s=ou(l),f=l&&-s/l;Zu+=f*a,Qu+=f*u,Ju+=f*c,Gu+=s,Wu+=s*(ec+(ec=r)),$u+=s*(rc+(rc=i)),Ku+=s*(ic+(ic=o)),bc(ec,rc,ic)}function Tc(t){return function(){return t}}function Cc(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function Nc(t,n){return[Va(t)>Ua?t+Math.round(-t/Ha)*Ha:t,n]}function Lc(t,n,e){return(t%=Ha)?n||e?Cc(Dc(t),Oc(n,e)):Dc(t):n||e?Oc(n,e):Nc}function Rc(e){return function(t,n){return[Ua<(t+=e)?t-Ha:t<-Ua?t+Ha:t,n]}}function Dc(t){var n=Rc(t);return n.invert=Rc(-t),n}function Oc(t,n){var u=$a(t),c=tu(t),l=$a(n),s=tu(n);function e(t,n){var e=$a(n),r=$a(t)*e,i=tu(t)*e,o=tu(n),a=o*u+r*c;return[Wa(i*l-a*s,r*u-o*c),ou(a*l+i*s)]}return e.invert=function(t,n){var e=$a(n),r=$a(t)*e,i=tu(t)*e,o=tu(n),a=o*l-i*s;return[Wa(i*l+o*s,r*u+a*c),ou(a*u-r*c)]},e}function Pc(n){function t(t){return(t=n(t[0]*Ya,t[1]*Ya))[0]*=Ga,t[1]*=Ga,t}return n=Lc(n[0]*Ya,n[1]*Ya,2<n.length?n[2]*Ya:0),t.invert=function(t){return(t=n.invert(t[0]*Ya,t[1]*Ya))[0]*=Ga,t[1]*=Ga,t},t}function zc(t,n,e,r,i,o){if(e){var a=$a(n),u=tu(n),c=r*e;null==i?(i=n+r*Ha,o=n-c/2):(i=Fc(a,i),o=Fc(a,o),(0<r?i<o:o<i)&&(i+=r*Ha));for(var l,s=i;0<r?o<s:s<o;s-=c)l=Eu([a,-u*$a(s),-u*tu(s)]),t.point(l[0],l[1])}}function Fc(t,n){(n=Su(n))[0]-=t,Ru(n);var e=iu(-n[1]);return((-n[2]<0?-e:e)+Ha-Ba)%Ha}function Ic(){var e,n=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){n.push(e=[])},lineEnd:uu,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Bc(t,n){return Va(t[0]-n[0])<Ba&&Va(t[1]-n[1])<Ba}function Uc(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function jc(t,n,e,r,o){var a,i,u=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],i=t[n];if(Bc(r,i)){for(o.lineStart(),a=0;a<n;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else u.push(e=new Uc(r,t,null,!0)),c.push(e.o=new Uc(r,null,e,!1)),u.push(e=new Uc(i,t,null,!1)),c.push(e.o=new Uc(i,null,e,!0))}}),u.length){for(c.sort(n),qc(u),qc(c),a=0,i=c.length;a<i;++a)c[a].e=e=!e;for(var l,s,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,i=l.length;a<i;++a)o.point((s=l[a])[0],s[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;0<=a;--a)o.point((s=l[a])[0],s[1]);else r(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);o.lineEnd()}}}function qc(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Nc.invert=Nc;var Hc=Pa();function Gc(t,n){var e=n[0],r=n[1],i=tu(r),o=[tu(e),-$a(e),0],a=0,u=0;Hc.reset(),1===i?r=ja+Ba:-1===i&&(r=-ja-Ba);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],d=h[0],p=h[1]/2+qa,g=tu(p),v=$a(p),y=0;y<f;++y,d=b,g=_,v=w,h=m){var m=s[y],b=m[0],x=m[1]/2+qa,_=tu(x),w=$a(x),A=b-d,M=0<=A?1:-1,k=M*A,E=Ua<k,S=g*_;if(Hc.add(Wa(S*M*tu(k),v*w+S*$a(k))),a+=E?A+M*Ha:A,E^e<=d^e<=b){var T=Cu(Su(h),Su(m));Ru(T);var C=Cu(o,T);Ru(C);var N=(E^0<=A?-1:1)*ou(C[2]);(N<r||r===N&&(T[0]||T[1]))&&(u+=E^0<=A?1:-1)}}return(a<-Ba||a<Ba&&Hc<-Ba)^1&u}function Yc(v,y,m,b){return function(u){var c,l,s,e=y(u),f=Ic(),h=y(f),d=!1,n={point:r,lineStart:i,lineEnd:o,polygonStart:function(){n.point=p,n.lineStart=a,n.lineEnd=g,l=[],c=[]},polygonEnd:function(){n.point=r,n.lineStart=i,n.lineEnd=o,l=S(l);var t=Gc(c,b);l.length?(d||(u.polygonStart(),d=!0),jc(l,Xc,t,m,u)):t&&(d||(u.polygonStart(),d=!0),u.lineStart(),m(null,null,1,u),u.lineEnd()),d&&(u.polygonEnd(),d=!1),l=c=null},sphere:function(){u.polygonStart(),u.lineStart(),m(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function r(t,n){v(t,n)&&u.point(t,n)}function t(t,n){e.point(t,n)}function i(){n.point=t,e.lineStart()}function o(){n.point=r,e.lineEnd()}function p(t,n){s.push([t,n]),h.point(t,n)}function a(){h.lineStart(),s=[]}function g(){p(s[0][0],s[0][1]),h.lineEnd();var t,n,e,r,i=h.clean(),o=f.result(),a=o.length;if(s.pop(),c.push(s),s=null,a)if(1&i){if(0<(n=(e=o[0]).length-1)){for(d||(u.polygonStart(),d=!0),u.lineStart(),t=0;t<n;++t)u.point((r=e[t])[0],r[1]);u.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(Vc))}return n}}function Vc(t){return 1<t.length}function Xc(t,n){return((t=t.x)[0]<0?t[1]-ja-Ba:ja-t[1])-((n=n.x)[0]<0?n[1]-ja-Ba:ja-n[1])}var Wc=Yc(function(){return!0},function(i){var o,a=NaN,u=NaN,c=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,n){var e=0<t?Ua:-Ua,r=Va(t-a);Va(r-Ua)<Ba?(i.point(a,u=0<(u+n)/2?ja:-ja),i.point(c,u),i.lineEnd(),i.lineStart(),i.point(e,u),i.point(t,u),o=0):c!==e&&Ua<=r&&(Va(a-c)<Ba&&(a-=c*Ba),Va(t-e)<Ba&&(t-=e*Ba),u=function(t,n,e,r){var i,o,a=tu(t-e);return Va(a)>Ba?Xa((tu(n)*(o=$a(r))*tu(e)-tu(r)*(i=$a(n))*tu(t))/(i*o*a)):(n+r)/2}(a,u,t,n),i.point(c,u),i.lineEnd(),i.lineStart(),i.point(e,u),o=0),i.point(a=t,u=n),c=e},lineEnd:function(){i.lineEnd(),a=u=NaN},clean:function(){return 2-o}}},function(t,n,e,r){var i;if(null==t)i=e*ja,r.point(-Ua,i),r.point(0,i),r.point(Ua,i),r.point(Ua,0),r.point(Ua,-i),r.point(0,-i),r.point(-Ua,-i),r.point(-Ua,0),r.point(-Ua,i);else if(Va(t[0]-n[0])>Ba){var o=t[0]<n[0]?Ua:-Ua;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Ua,-ja]);function $c(i){var E=$a(i),o=6*Ya,d=0<E,p=Va(E)>Ba;function g(t,n){return $a(t)*$a(n)>E}function v(t,n,e){var r=[1,0,0],i=Cu(Su(t),Su(n)),o=Tu(i,i),a=i[0],u=o-a*a;if(!u)return!e&&t;var c=E*o/u,l=-E*a/u,s=Cu(r,i),f=Lu(r,c);Nu(f,Lu(i,l));var h=s,d=Tu(f,h),p=Tu(h,h),g=d*d-p*(Tu(f,f)-1);if(!(g<0)){var v=eu(g),y=Lu(h,(-d-v)/p);if(Nu(y,f),y=Eu(y),!e)return y;var m,b=t[0],x=n[0],_=t[1],w=n[1];x<b&&(m=b,b=x,x=m);var A=x-b,M=Va(A-Ua)<Ba;if(!M&&w<_&&(m=_,_=w,w=m),M||A<Ba?M?0<_+w^y[1]<(Va(y[0]-b)<Ba?_:w):_<=y[1]&&y[1]<=w:Ua<A^(b<=y[0]&&y[0]<=x)){var k=Lu(h,(-d+v)/p);return Nu(k,f),[y,Eu(k)]}}}function y(t,n){var e=d?i:Ua-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}return Yc(g,function(u){var c,l,s,f,h;return{lineStart:function(){f=s=!1,h=1},point:function(t,n){var e,r=[t,n],i=g(t,n),o=d?i?0:y(t,n):i?y(t+(t<0?Ua:-Ua),n):0;if(!c&&(f=s=i)&&u.lineStart(),i!==s&&((e=v(c,r))&&!Bc(c,e)&&!Bc(r,e)||(r[0]+=Ba,r[1]+=Ba,i=g(r[0],r[1]))),i!==s)h=0,i?(u.lineStart(),e=v(r,c),u.point(e[0],e[1])):(e=v(c,r),u.point(e[0],e[1]),u.lineEnd()),c=e;else if(p&&c&&d^i){var a;o&l||!(a=v(r,c,!0))||(h=0,d?(u.lineStart(),u.point(a[0][0],a[0][1]),u.point(a[1][0],a[1][1]),u.lineEnd()):(u.point(a[1][0],a[1][1]),u.lineEnd(),u.lineStart(),u.point(a[0][0],a[0][1])))}!i||c&&Bc(c,r)||u.point(r[0],r[1]),c=r,s=i,l=o},lineEnd:function(){s&&u.lineEnd(),c=null},clean:function(){return h|(f&&s)<<1}}},function(t,n,e,r){zc(r,i,o,e,t,n)},d?[0,-i]:[-Ua,i-Ua])}var Kc=1e9,Zc=-Kc;function Qc(y,m,b,x){function _(t,n){return y<=t&&t<=b&&m<=n&&n<=x}function w(t,n,e,r){var i=0,o=0;if(null==t||(i=a(t,e))!==(o=a(n,e))||u(t,n)<0^0<e)for(;r.point(0===i||3===i?y:b,1<i?x:m),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function a(t,n){return Va(t[0]-y)<Ba?0<n?0:3:Va(t[0]-b)<Ba?0<n?2:1:Va(t[1]-m)<Ba?0<n?1:0:0<n?3:2}function A(t,n){return u(t.x,n.x)}function u(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(r){var i,f,o,a,u,c,l,s,h,d,p,g=r,t=Ic(),n={point:e,lineStart:function(){n.point=v,f&&f.push(o=[]);d=!0,h=!1,l=s=NaN},lineEnd:function(){i&&(v(a,u),c&&h&&t.rejoin(),i.push(t.result()));n.point=e,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,e=f.length;n<e;++n)for(var r,i,o=f[n],a=1,u=o.length,c=o[0],l=c[0],s=c[1];a<u;++a)r=l,i=s,c=o[a],l=c[0],s=c[1],i<=x?x<s&&(s-i)*(y-r)<(l-r)*(x-i)&&++t:s<=x&&(l-r)*(x-i)<(s-i)*(y-r)&&--t;return t}(),n=p&&t,e=(i=S(i)).length;(n||e)&&(r.polygonStart(),n&&(r.lineStart(),w(null,null,1,r),r.lineEnd()),e&&jc(i,A,t,w,r),r.polygonEnd());g=r,i=f=o=null}};function e(t,n){_(t,n)&&g.point(t,n)}function v(t,n){var e=_(t,n);if(f&&o.push([t,n]),d)a=t,u=n,d=!1,(c=e)&&(g.lineStart(),g.point(t,n));else if(e&&h)g.point(t,n);else{var r=[l=Math.max(Zc,Math.min(Kc,l)),s=Math.max(Zc,Math.min(Kc,s))],i=[t=Math.max(Zc,Math.min(Kc,t)),n=Math.max(Zc,Math.min(Kc,n))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],l=0,s=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(0<a)){if(a/=f,f<0){if(a<l)return;a<s&&(s=a)}else if(0<f){if(s<a)return;l<a&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(s<a)return;l<a&&(l=a)}else if(0<f){if(a<l)return;a<s&&(s=a)}if(a=r-c,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<s&&(s=a)}else if(0<h){if(s<a)return;l<a&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(s<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<s&&(s=a)}return 0<l&&(t[0]=u+l*f,t[1]=c+l*h),s<1&&(n[0]=u+s*f,n[1]=c+s*h),!0}}}}}(r,i,y,m,b,x)?e&&(g.lineStart(),g.point(t,n),p=!1):(h||(g.lineStart(),g.point(r[0],r[1])),g.point(i[0],i[1]),e||g.lineEnd(),p=!1)}l=t,s=n,h=e}return n}}var Jc,tl,nl,el=Pa(),rl={sphere:uu,point:uu,lineStart:function(){rl.point=ol,rl.lineEnd=il},lineEnd:uu,polygonStart:uu,polygonEnd:uu};function il(){rl.point=rl.lineEnd=uu}function ol(t,n){Jc=t*=Ya,tl=tu(n*=Ya),nl=$a(n),rl.point=al}function al(t,n){t*=Ya;var e=tu(n*=Ya),r=$a(n),i=Va(t-Jc),o=$a(i),a=r*tu(i),u=nl*e-tl*r*o,c=tl*e+nl*r*o;el.add(Wa(eu(a*a+u*u),c)),Jc=t,tl=e,nl=r}function ul(t){return el.reset(),du(t,rl),+el}var cl=[null,null],ll={type:"LineString",coordinates:cl};function sl(t,n){return cl[0]=t,cl[1]=n,ul(ll)}var fl={Feature:function(t,n){return dl(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(dl(e[r].geometry,n))return!0;return!1}},hl={Sphere:function(){return!0},Point:function(t,n){return pl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(pl(e[r],n))return!0;return!1},LineString:function(t,n){return gl(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(gl(e[r],n))return!0;return!1},Polygon:function(t,n){return vl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(vl(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(dl(e[r],n))return!0;return!1}};function dl(t,n){return!(!t||!hl.hasOwnProperty(t.type))&&hl[t.type](t,n)}function pl(t,n){return 0===sl(t,n)}function gl(t,n){var e=sl(t[0],t[1]);return sl(t[0],n)+sl(n,t[1])<=e+Ba}function vl(t,n){return!!Gc(t.map(yl),ml(n))}function yl(t){return(t=t.map(ml)).pop(),t}function ml(t){return[t[0]*Ya,t[1]*Ya]}function bl(t,n,e){var r=k(t,n-Ba,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function xl(t,n,e){var r=k(t,n-Ba,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function _l(){var n,e,r,i,o,a,u,c,l,s,f,h,d=10,p=d,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return k(Ka(i/g)*g,r,g).map(f).concat(k(Ka(c/v)*v,u,v).map(h)).concat(k(Ka(e/d)*d,n,d).filter(function(t){return Va(t%g)>Ba}).map(l)).concat(k(Ka(a/p)*p,o,p).filter(function(t){return Va(t%v)>Ba}).map(s))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(r).reverse().slice(1),h(c).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],c=+t[0][1],u=+t[1][1],r<i&&(t=i,i=r,r=t),u<c&&(t=c,c=u,u=t),m.precision(y)):[[i,c],[r,u]]},m.extentMinor=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<e&&(t=e,e=n,n=t),o<a&&(t=a,a=o,o=t),m.precision(y)):[[e,a],[n,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],m):[g,v]},m.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(t){return arguments.length?(y=+t,l=bl(a,o,90),s=xl(e,n,y),f=bl(c,u,90),h=xl(i,r,y),m):y},m.extentMajor([[-180,-90+Ba],[180,90-Ba]]).extentMinor([[-180,-80-Ba],[180,80+Ba]])}function wl(t){return t}var Al,Ml,kl,El,Sl=Pa(),Tl=Pa(),Cl={point:uu,lineStart:uu,lineEnd:uu,polygonStart:function(){Cl.lineStart=Nl,Cl.lineEnd=Dl},polygonEnd:function(){Cl.lineStart=Cl.lineEnd=Cl.point=uu,Sl.add(Va(Tl)),Tl.reset()},result:function(){var t=Sl/2;return Sl.reset(),t}};function Nl(){Cl.point=Ll}function Ll(t,n){Cl.point=Rl,Al=kl=t,Ml=El=n}function Rl(t,n){Tl.add(El*t-kl*n),kl=t,El=n}function Dl(){Rl(Al,Ml)}var Ol=1/0,Pl=Ol,zl=-Ol,Fl=zl,Il={point:function(t,n){t<Ol&&(Ol=t);zl<t&&(zl=t);n<Pl&&(Pl=n);Fl<n&&(Fl=n)},lineStart:uu,lineEnd:uu,polygonStart:uu,polygonEnd:uu,result:function(){var t=[[Ol,Pl],[zl,Fl]];return zl=Fl=-(Pl=Ol=1/0),t}};var Bl,Ul,jl,ql,Hl=0,Gl=0,Yl=0,Vl=0,Xl=0,Wl=0,$l=0,Kl=0,Zl=0,Ql={point:Jl,lineStart:ts,lineEnd:rs,polygonStart:function(){Ql.lineStart=is,Ql.lineEnd=os},polygonEnd:function(){Ql.point=Jl,Ql.lineStart=ts,Ql.lineEnd=rs},result:function(){var t=Zl?[$l/Zl,Kl/Zl]:Wl?[Vl/Wl,Xl/Wl]:Yl?[Hl/Yl,Gl/Yl]:[NaN,NaN];return Hl=Gl=Yl=Vl=Xl=Wl=$l=Kl=Zl=0,t}};function Jl(t,n){Hl+=t,Gl+=n,++Yl}function ts(){Ql.point=ns}function ns(t,n){Ql.point=es,Jl(jl=t,ql=n)}function es(t,n){var e=t-jl,r=n-ql,i=eu(e*e+r*r);Vl+=i*(jl+t)/2,Xl+=i*(ql+n)/2,Wl+=i,Jl(jl=t,ql=n)}function rs(){Ql.point=Jl}function is(){Ql.point=as}function os(){us(Bl,Ul)}function as(t,n){Ql.point=us,Jl(Bl=jl=t,Ul=ql=n)}function us(t,n){var e=t-jl,r=n-ql,i=eu(e*e+r*r);Vl+=i*(jl+t)/2,Xl+=i*(ql+n)/2,Wl+=i,$l+=(i=ql*t-jl*n)*(jl+t),Kl+=i*(ql+n),Zl+=3*i,Jl(jl=t,ql=n)}function cs(t){this._context=t}cs.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ha)}},result:uu};var ls,ss,fs,hs,ds,ps=Pa(),gs={point:uu,lineStart:function(){gs.point=vs},lineEnd:function(){ls&&ys(ss,fs),gs.point=uu},polygonStart:function(){ls=!0},polygonEnd:function(){ls=null},result:function(){var t=+ps;return ps.reset(),t}};function vs(t,n){gs.point=ys,ss=hs=t,fs=ds=n}function ys(t,n){hs-=t,ds-=n,ps.add(eu(hs*hs+ds*ds)),hs=t,ds=n}function ms(){this._string=[]}function bs(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function xs(r){return function(t){var n=new _s;for(var e in r)n[e]=r[e];return n.stream=t,n}}function _s(){}function ws(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),du(e,t.stream(Il)),n(Il.result()),null!=r&&t.clipExtent(r),t}function As(a,u,t){return ws(a,function(t){var n=u[1][0]-u[0][0],e=u[1][1]-u[0][1],r=Math.min(n/(t[1][0]-t[0][0]),e/(t[1][1]-t[0][1])),i=+u[0][0]+(n-r*(t[1][0]+t[0][0]))/2,o=+u[0][1]+(e-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function Ms(t,n,e){return As(t,[[0,0],n],e)}function ks(o,a,t){return ws(o,function(t){var n=+a,e=n/(t[1][0]-t[0][0]),r=(n-e*(t[1][0]+t[0][0]))/2,i=-e*t[0][1];o.scale(150*e).translate([r,i])},t)}function Es(o,a,t){return ws(o,function(t){var n=+a,e=n/(t[1][1]-t[0][1]),r=-e*t[0][0],i=(n-e*(t[1][1]+t[0][1]))/2;o.scale(150*e).translate([r,i])},t)}ms.prototype={_radius:4.5,_circle:bs(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=bs(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},_s.prototype={constructor:_s,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ss=16,Ts=$a(30*Ya);function Cs(t,n){return+n?function(C,N){function L(t,n,e,r,i,o,a,u,c,l,s,f,h,d){var p=a-t,g=u-n,v=p*p+g*g;if(4*N<v&&h--){var y=r+l,m=i+s,b=o+f,x=eu(y*y+m*m+b*b),_=ou(b/=x),w=Va(Va(b)-1)<Ba||Va(e-c)<Ba?(e+c)/2:Wa(m,y),A=C(w,_),M=A[0],k=A[1],E=M-t,S=k-n,T=g*E-p*S;(N<T*T/v||.3<Va((p*E+g*S)/v-.5)||r*l+i*s+o*f<Ts)&&(L(t,n,e,r,i,o,M,k,w,y/=x,m/=x,b,h,d),d.point(M,k),L(M,k,w,y,m,b,a,u,c,l,s,f,h,d))}}return function(i){var e,r,o,a,u,c,l,s,f,h,d,p,g={point:t,lineStart:n,lineEnd:y,polygonStart:function(){i.polygonStart(),g.lineStart=m},polygonEnd:function(){i.polygonEnd(),g.lineStart=n}};function t(t,n){t=C(t,n),i.point(t[0],t[1])}function n(){s=NaN,g.point=v,i.lineStart()}function v(t,n){var e=Su([t,n]),r=C(t,n);L(s,f,l,h,d,p,s=r[0],f=r[1],l=t,h=e[0],d=e[1],p=e[2],Ss,i),i.point(s,f)}function y(){g.point=t,i.lineEnd()}function m(){n(),g.point=b,g.lineEnd=x}function b(t,n){v(e=t,n),r=s,o=f,a=h,u=d,c=p,g.point=v}function x(){L(s,f,l,h,d,p,r,o,e,a,u,c,Ss,i),(g.lineEnd=y)()}return g}}(t,n):function(e){return xs({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(t)}var Ns=xs({point:function(t,n){this.stream.point(t*Ya,n*Ya)}});function Ls(t,e,r,n){var i=$a(n),o=tu(n),a=i*t,u=o*t,c=i/t,l=o/t,s=(o*r-i*e)/t,f=(o*e+i*r)/t;function h(t,n){return[a*t-u*n+e,r-u*t-a*n]}return h.invert=function(t,n){return[c*t-l*n+s,f-l*t-c*n]},h}function Rs(t){return Ds(function(){return t})()}function Ds(t){var e,r,n,i,o,a,u,c,l,s,f=150,h=480,d=250,p=0,g=0,v=0,y=0,m=0,b=0,x=null,_=Wc,w=null,A=wl,M=.5;function k(t){return c(t[0]*Ya,t[1]*Ya)}function E(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Ga,t[1]*Ga]}function S(){var t=Ls(f,0,0,b).apply(null,e(p,g)),n=(b?Ls:function(e,r,i){function t(t,n){return[r+e*t,i-e*n]}return t.invert=function(t,n){return[(t-r)/e,(i-n)/e]},t})(f,h-t[0],d-t[1],b);return r=Lc(v,y,m),u=Cc(e,n),c=Cc(r,u),a=Cs(u,M),T()}function T(){return l=s=null,k}return k.stream=function(t){return l&&s===t?l:l=Ns(function(r){return xs({point:function(t,n){var e=r(t,n);return this.stream.point(e[0],e[1])}})}(r)(_(a(A(s=t)))))},k.preclip=function(t){return arguments.length?(_=t,x=void 0,T()):_},k.postclip=function(t){return arguments.length?(A=t,w=n=i=o=null,T()):A},k.clipAngle=function(t){return arguments.length?(_=+t?$c(x=t*Ya):(x=null,Wc),T()):x*Ga},k.clipExtent=function(t){return arguments.length?(A=null==t?(w=n=i=o=null,wl):Qc(w=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==w?null:[[w,n],[i,o]]},k.scale=function(t){return arguments.length?(f=+t,S()):f},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*Ya,g=t[1]%360*Ya,S()):[p*Ga,g*Ga]},k.rotate=function(t){return arguments.length?(v=t[0]%360*Ya,y=t[1]%360*Ya,m=2<t.length?t[2]%360*Ya:0,S()):[v*Ga,y*Ga,m*Ga]},k.angle=function(t){return arguments.length?(b=t%360*Ya,S()):b*Ga},k.precision=function(t){return arguments.length?(a=Cs(u,M=t*t),T()):eu(M)},k.fitExtent=function(t,n){return As(k,t,n)},k.fitSize=function(t,n){return Ms(k,t,n)},k.fitWidth=function(t,n){return ks(k,t,n)},k.fitHeight=function(t,n){return Es(k,t,n)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&E,S()}}function Os(t){var n=0,e=Ua/3,r=Ds(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Ya,e=t[1]*Ya):[n*Ga,e*Ga]},i}function Ps(t,n){var e=tu(t),r=(e+tu(n))/2;if(Va(r)<Ba)return function(t){var e=$a(t);function n(t,n){return[t*e,tu(n)/e]}return n.invert=function(t,n){return[t/e,ou(n*e)]},n}(t);var i=1+e*(2*r-e),o=eu(i)/r;function a(t,n){var e=eu(i-2*r*tu(n))/r;return[e*tu(t*=r),o-e*$a(t)]}return a.invert=function(t,n){var e=o-n;return[Wa(t,Va(e))/r*nu(e),ou((i-(t*t+e*e)*r*r)/(2*r))]},a}function zs(){return Os(Ps).scale(155.424).center([0,33.6442])}function Fs(){return zs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Is(o){return function(t,n){var e=$a(t),r=$a(n),i=o(e*r);return[i*r*tu(t),i*tu(n)]}}function Bs(a){return function(t,n){var e=eu(t*t+n*n),r=a(e),i=tu(r),o=$a(r);return[Wa(t*i,e*o),ou(e&&n*i/e)]}}var Us=Is(function(t){return eu(2/(1+t))});Us.invert=Bs(function(t){return 2*ou(t/2)});var js=Is(function(t){return(t=iu(t))&&t/tu(t)});function qs(t,n){return[t,Qa(ru((ja+n)/2))]}function Hs(e){var r,i,o,a=Rs(e),n=a.center,u=a.scale,c=a.translate,l=a.clipExtent,s=null;function f(){var t=Ua*u(),n=a(Pc(a.rotate()).invert([0,0]));return l(null==s?[[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]]:e===qs?[[Math.max(n[0]-t,s),r],[Math.min(n[0]+t,i),o]]:[[s,Math.max(n[1]-t,r)],[i,Math.min(n[1]+t,o)]])}return a.scale=function(t){return arguments.length?(u(t),f()):u()},a.translate=function(t){return arguments.length?(c(t),f()):c()},a.center=function(t){return arguments.length?(n(t),f()):n()},a.clipExtent=function(t){return arguments.length?(null==t?s=r=i=o=null:(s=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==s?null:[[s,r],[i,o]]},f()}function Gs(t){return ru((ja+t)/2)}function Ys(t,n){var e=$a(t),i=t===n?tu(t):Qa(e/$a(n))/Qa(Gs(n)/Gs(t)),o=e*Ja(Gs(t),i)/i;if(!i)return qs;function r(t,n){0<o?n<-ja+Ba&&(n=-ja+Ba):ja-Ba<n&&(n=ja-Ba);var e=o/Ja(Gs(n),i);return[e*tu(i*t),o-e*$a(i*t)]}return r.invert=function(t,n){var e=o-n,r=nu(i)*eu(t*t+e*e);return[Wa(t,Va(e))/i*nu(e),2*Xa(Ja(o/r,1/i))-ja]},r}function Vs(t,n){return[t,n]}function Xs(t,n){var e=$a(t),i=t===n?tu(t):(e-$a(n))/(n-t),o=e/i+t;if(Va(i)<Ba)return Vs;function r(t,n){var e=o-n,r=i*t;return[e*tu(r),o-e*$a(r)]}return r.invert=function(t,n){var e=o-n;return[Wa(t,Va(e))/i*nu(e),o-nu(i)*eu(t*t+e*e)]},r}js.invert=Bs(function(t){return t}),qs.invert=function(t,n){return[t,2*Xa(Za(n))-ja]},Vs.invert=Vs;var Ws=1.340264,$s=-.081106,Ks=893e-6,Zs=.003796,Qs=eu(3)/2;function Js(t,n){var e=ou(Qs*tu(n)),r=e*e,i=r*r*r;return[t*$a(e)/(Qs*(Ws+3*$s*r+i*(7*Ks+9*Zs*r))),e*(Ws+$s*r+i*(Ks+Zs*r))]}function tf(t,n){var e=$a(n),r=$a(t)*e;return[e*tu(t)/r,tu(n)/r]}function nf(e,r,i,o){return 1===e&&1===r&&0===i&&0===o?wl:xs({point:function(t,n){this.stream.point(t*e+i,n*r+o)}})}function ef(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function rf(t,n){return[$a(n)*tu(t),tu(n)]}function of(t,n){var e=$a(n),r=1+$a(t)*e;return[e*tu(t)/r,tu(n)/r]}function af(t,n){return[Qa(ru((ja+n)/2)),-t]}function uf(t,n){return t.parent===n.parent?1:2}function cf(t,n){return t+n.x}function lf(t,n){return Math.max(t,n.y)}function sf(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;0<=--r;)n+=e[r].value;else n=1;t.value=n}function ff(t,n){var e,r,i,o,a,u=new gf(t),c=+t.value&&(u.value=t.value),l=[u];for(null==n&&(n=hf);e=l.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;0<=o;--o)l.push(r=e.children[o]=new gf(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(pf)}function hf(t){return t.children}function df(t){t.data=t.data.data}function pf(t){for(var n=0;t.height=n,(t=t.parent)&&t.height<++n;);}function gf(t){this.data=t,this.depth=this.height=0,this.parent=null}Js.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Ws+$s*i+o*(Ks+Zs*i))-n)/(Ws+3*$s*i+o*(7*Ks+9*Zs*i)))*r)*i*i,!(Va(e)<1e-12));++a);return[Qs*t*(Ws+3*$s*i+o*(7*Ks+9*Zs*i))/$a(r),ou(tu(r)/Qs)]},tf.invert=Bs(Xa),ef.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Va(e)>Ba&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},rf.invert=Bs(ou),of.invert=Bs(function(t){return 2*Xa(t)}),af.invert=function(t,n){return[-n,2*Xa(Za(t))-ja]},gf.prototype=ff.prototype={constructor:gf,count:function(){return this.eachAfter(sf)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;0<=e;--e)i.push(n[e]);return this},sum:function(i){return this.eachAfter(function(t){for(var n=+i(t.data)||0,e=t.children,r=e&&e.length;0<=--r;)n+=e[r].value;t.value=n})},sort:function(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var n=[];return this.each(function(t){n.push(t)}),n},leaves:function(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n},links:function(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function(){return ff(this).eachBefore(df)}};var vf=Array.prototype.slice;function yf(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(vf.call(t))).length,o=[];r<i;)n=t[r],e&&xf(e,n)?++r:(e=wf(o=mf(o,n)),r=0);return e}function mf(t,n){var e,r;if(_f(n,t))return[n];for(e=0;e<t.length;++e)if(bf(n,t[e])&&_f(Af(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(bf(Af(t[e],t[r]),n)&&bf(Af(t[e],n),t[r])&&bf(Af(t[r],n),t[e])&&_f(Mf(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function bf(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function xf(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return 0<e&&r*r+i*i<e*e}function _f(t,n){for(var e=0;e<n.length;++e)if(!xf(t,n[e]))return!1;return!0}function wf(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Af(t[0],t[1]);case 3:return Mf(t[0],t[1],t[2])}}function Af(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,c=o-e,l=a-r,s=u-i,f=Math.sqrt(c*c+l*l);return{x:(e+o+c/f*s)/2,y:(r+a+l/f*s)/2,r:(f+i+u)/2}}function Mf(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,c=n.r,l=e.x,s=e.y,f=e.r,h=r-a,d=r-l,p=i-u,g=i-s,v=c-o,y=f-o,m=r*r+i*i-o*o,b=m-a*a-u*u+c*c,x=m-l*l-s*s+f*f,_=d*p-h*g,w=(p*x-g*b)/(2*_)-r,A=(g*v-p*y)/_,M=(d*b-h*x)/(2*_)-i,k=(h*y-d*v)/_,E=A*A+k*k-1,S=2*(o+w*A+M*k),T=w*w+M*M-o*o,C=-(E?(S+Math.sqrt(S*S-4*E*T))/(2*E):T/S);return{x:r+w+A*C,y:i+M+k*C,r:C}}function kf(t,n,e){var r,i,o,a,u=t.x-n.x,c=t.y-n.y,l=u*u+c*c;l?(i=n.r+e.r,i*=i,a=t.r+e.r,(a*=a)<i?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),e.x=t.x-r*u-o*c,e.y=t.y-r*c+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),e.x=n.x+r*u-o*c,e.y=n.y+r*c+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Ef(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return 0<e&&r*r+i*i<e*e}function Sf(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Tf(t){this._=t,this.next=null,this.previous=null}function Cf(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,c,l,s,f;if((n=t[0]).x=0,n.y=0,!(1<i))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(2<i))return n.r+e.r;kf(e,n,r=t[2]),n=new Tf(n),e=new Tf(e),r=new Tf(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){kf(n._,e._,r=t[u]),r=new Tf(r),c=e.next,l=n.previous,s=e._.r,f=n._.r;do{if(s<=f){if(Ef(c._,r._)){e=c,(n.next=e).previous=n,--u;continue t}s+=c._.r,c=c.next}else{if(Ef(l._,r._)){((n=l).next=e).previous=n,--u;continue t}f+=l._.r,l=l.previous}}while(c!==l.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Sf(n);(r=r.next)!==e;)(a=Sf(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=yf(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function Nf(t){if("function"!=typeof t)throw new Error;return t}function Lf(){return 0}function Rf(t){return function(){return t}}function Df(t){return Math.sqrt(t.value)}function Of(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function Pf(a,u){return function(t){if(n=t.children){var n,e,r,i=n.length,o=a(t)*u||0;if(o)for(e=0;e<i;++e)n[e].r+=o;if(r=Cf(n),o)for(e=0;e<i;++e)n[e].r-=o;t.r=r+o}}}function zf(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Ff(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function If(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,l=t.value&&(r-n)/t.value;++u<c;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*l}var Bf={depth:-1},Uf={};function jf(t){return t.id}function qf(t){return t.parentId}function Hf(t,n){return t.parent===n.parent?1:2}function Gf(t){var n=t.children;return n?n[0]:t.t}function Yf(t){var n=t.children;return n?n[n.length-1]:t.t}function Vf(t,n){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Xf(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,l=t.value&&(i-e)/t.value;++u<c;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*l}Vf.prototype=Object.create(gf.prototype);var Wf=(1+Math.sqrt(5))/2;function $f(t,n,e,r,i,o){for(var a,u,c,l,s,f,h,d,p,g,v,y=[],m=n.children,b=0,x=0,_=m.length,w=n.value;b<_;){for(c=i-e,l=o-r;!(s=m[x++].value)&&x<_;);for(f=h=s,v=s*s*(g=Math.max(l/c,c/l)/(w*t)),p=Math.max(h/v,v/f);x<_;++x){if(s+=u=m[x].value,u<f&&(f=u),h<u&&(h=u),v=s*s*g,p<(d=Math.max(h/v,v/f))){s-=u;break}p=d}y.push(a={value:s,dice:c<l,children:m.slice(b,x)}),a.dice?If(a,e,r,i,w?r+=l*s/w:o):Xf(a,e,r,w?e+=c*s/w:i,o),w-=s,b=x}return y}var Kf=function n(o){function t(t,n,e,r,i){$f(o,t,n,e,r,i)}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t}(Wf);var Zf=function n(d){function t(t,n,e,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,u,c,l,s=-1,f=o.length,h=t.value;++s<f;){for(u=(a=o[s]).children,c=a.value=0,l=u.length;c<l;++c)a.value+=u[c].value;a.dice?If(a,n,e,r,e+=(i-e)*a.value/h):Xf(a,n,e,n+=(r-n)*a.value/h,i),h-=a.value}else t._squarify=o=$f(d,t,n,e,r,i),o.ratio=d}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t}(Wf);function Qf(t,n){return t[0]-n[0]||t[1]-n[1]}function Jf(t){for(var n,e,r,i=t.length,o=[0,1],a=2,u=2;u<i;++u){for(;1<a&&(n=t[o[a-2]],e=t[o[a-1]],r=t[u],(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])<=0);)--a;o[a++]=u}return o.slice(0,a)}function th(){return Math.random()}var nh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(th),eh=function t(o){function n(n,e){var r,i;return n=null==n?0:+n,e=null==e?1:+e,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,!(i=r*r+t*t)||1<i;);return n+e*t*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(th),rh=function t(n){function e(){var t=eh.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(th),ih=function t(r){function n(e){return function(){for(var t=0,n=0;n<e;++n)t+=r();return t}}return n.source=t,n}(th),oh=function t(e){function n(t){var n=ih.source(e)(t);return function(){return n()/t}}return n.source=t,n}(th),ah=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(th);function uh(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function ch(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var lh=Array.prototype,sh=lh.map,fh=lh.slice,hh={name:"implicit"};function dh(){var o=to(),a=[],r=[],i=hh;function u(t){var n=t+"",e=o.get(n);if(!e){if(i!==hh)return i;o.set(n,e=a.push(t))}return r[(e-1)%r.length]}return u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=to();for(var n,e,r=-1,i=t.length;++r<i;)o.has(e=(n=t[r])+"")||o.set(e,a.push(n));return u},u.range=function(t){return arguments.length?(r=fh.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return dh(a,r).unknown(i)},uh.apply(u,arguments),u}function ph(){var o,a,t=dh().unknown(void 0),u=t.domain,c=t.range,l=[0,1],s=!1,f=0,h=0,d=.5;function n(){var t=u().length,n=l[1]<l[0],e=l[n-0],r=l[1-n];o=(r-e)/Math.max(1,t-f+2*h),s&&(o=Math.floor(o)),e+=(r-e-o*(t-f))*d,a=o*(1-f),s&&(e=Math.round(e),a=Math.round(a));var i=k(t).map(function(t){return e+o*t});return c(n?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(u(t),n()):u()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],n()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],s=!0,n()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(s=!!t,n()):s},t.padding=function(t){return arguments.length?(f=Math.min(1,h=+t),n()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),n()):f},t.paddingOuter=function(t){return arguments.length?(h=+t,n()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),n()):d},t.copy=function(){return ph(u(),l).round(s).paddingInner(f).paddingOuter(h).align(d)},uh.apply(n(),arguments)}function gh(t){return+t}var vh=[0,1];function yh(t){return t}function mh(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function bh(t){var n,e=t[0],r=t[t.length-1];return r<e&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function xh(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return o=i<r?(r=mh(i,r),e(a,o)):(r=mh(r,i),e(o,a)),function(t){return o(r(t))}}function _h(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=mh(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=g(e,t,1,r)-1;return o[n](i[n](t))}}function wh(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ah(){var e,r,n,i,o,a,u=vh,c=vh,l=ye,s=yh;function f(){return i=2<Math.min(u.length,c.length)?_h:xh,o=a=null,h}function h(t){return isNaN(t=+t)?n:(o||(o=i(u.map(e),c,l)))(e(s(t)))}return h.invert=function(t){return s(r((a||(a=i(c,u.map(e),he)))(t)))},h.domain=function(t){return arguments.length?(u=sh.call(t,gh),s===yh||(s=bh(u)),f()):u.slice()},h.range=function(t){return arguments.length?(c=fh.call(t),f()):c.slice()},h.rangeRound=function(t){return c=fh.call(t),l=me,f()},h.clamp=function(t){return arguments.length?(s=t?bh(u):yh,h):s!==yh},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(t,n){return e=t,r=n,f()}}function Mh(t,n){return Ah()(t,n)}function kh(t,n,e,r){var i,o=E(t,n,e);switch((r=Aa(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Da(o,a))||(r.precision=i),U.formatPrefix(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Oa(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ra(o))||(r.precision=i-2*("%"===r.type))}return U.format(r)}function Eh(u){var c=u.domain;return u.ticks=function(t){var n=c();return y(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(t,n){var e=c();return kh(e[0],e[e.length-1],null==t?10:t,n)},u.nice=function(t){null==t&&(t=10);var n,e=c(),r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=o,o=a,a=n,n=r,r=i,i=n),0<(n=m(o,a,t))?n=m(o=Math.floor(o/n)*n,a=Math.ceil(a/n)*n,t):n<0&&(n=m(o=Math.ceil(o*n)/n,a=Math.floor(a*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(a/n)*n,c(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(a*n)/n,c(e)),u},u}function Sh(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Th(t){return Math.log(t)}function Ch(t){return Math.exp(t)}function Nh(t){return-Math.log(-t)}function Lh(t){return-Math.exp(-t)}function Rh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dh(n){return function(t){return-n(-t)}}function Oh(t){var h,d,n=t(Th,Ch),p=n.domain,g=10;function e(){return h=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(g),d=function(n){return 10===n?Rh:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(g),p()[0]<0?(h=Dh(h),d=Dh(d),t(Nh,Lh)):t(Th,Ch),n}return n.base=function(t){return arguments.length?(g=+t,e()):g},n.domain=function(t){return arguments.length?(p(t),e()):p()},n.ticks=function(t){var n,e=p(),r=e[0],i=e[e.length-1];(n=i<r)&&(c=r,r=i,i=c);var o,a,u,c=h(r),l=h(i),s=null==t?10:+t,f=[];if(!(g%1)&&l-c<s){if(c=Math.round(c)-1,l=Math.round(l)+1,0<r){for(;c<l;++c)for(a=1,o=d(c);a<g;++a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else for(;c<l;++c)for(a=g-1,o=d(c);1<=a;--a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else f=y(c,l,Math.min(l-c,s)).map(d);return n?f.reverse():f},n.tickFormat=function(t,e){if(null==e&&(e=10===g?".0e":","),"function"!=typeof e&&(e=U.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,g*t/n.ticks().length);return function(t){var n=t/d(Math.round(h(t)));return n*g<g-.5&&(n*=g),n<=r?e(t):""}},n.nice=function(){return p(Sh(p(),{floor:function(t){return d(Math.floor(h(t)))},ceil:function(t){return d(Math.ceil(h(t)))}}))},n}function Ph(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function zh(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Fh(n){var e=1,t=n(Ph(e),zh(e));return t.constant=function(t){return arguments.length?n(Ph(e=+t),zh(e)):e},Eh(t)}function Ih(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Bh(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uh(t){return t<0?-t*t:t*t}function jh(n){var t=n(yh,yh),e=1;return t.exponent=function(t){return arguments.length?1===(e=+t)?n(yh,yh):.5===e?n(Bh,Uh):n(Ih(e),Ih(1/e)):e},Eh(t)}function qh(){var t=jh(Ah());return t.copy=function(){return wh(t,qh()).exponent(t.exponent())},uh.apply(t,arguments),t}var Hh=new Date,Gh=new Date;function Yh(o,a,e,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,n){return a(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(t,n,e){var r,i=[];if(t=u.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),a(t,e),o(t),r<t&&t<n;);return i},u.filter=function(e){return Yh(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;0<=--n;)for(;a(t,1),!e(t););})},e&&(u.count=function(t,n){return Hh.setTime(+t),Gh.setTime(+n),o(Hh),o(Gh),Math.floor(e(Hh,Gh))},u.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u.filter(r?function(t){return r(t)%n==0}:function(t){return u.count(0,t)%n==0}):u:null}),u}var Vh=Yh(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Vh.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?Yh(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Vh:null};var Xh=Vh.range,Wh=Yh(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),$h=Wh.range,Kh=Yh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getMinutes()}),Zh=Kh.range,Qh=Yh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Jh=Qh.range,td=Yh(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),nd=td.range;function ed(n){return Yh(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var rd=ed(0),id=ed(1),od=ed(2),ad=ed(3),ud=ed(4),cd=ed(5),ld=ed(6),sd=rd.range,fd=id.range,hd=od.range,dd=ad.range,pd=ud.range,gd=cd.range,vd=ld.range,yd=Yh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),md=yd.range,bd=Yh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});bd.every=function(e){return isFinite(e=Math.floor(e))&&0<e?Yh(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var xd=bd.range,_d=Yh(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getUTCMinutes()}),wd=_d.range,Ad=Yh(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),Md=Ad.range,kd=Yh(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),Ed=kd.range;function Sd(n){return Yh(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var Td=Sd(0),Cd=Sd(1),Nd=Sd(2),Ld=Sd(3),Rd=Sd(4),Dd=Sd(5),Od=Sd(6),Pd=Td.range,zd=Cd.range,Fd=Nd.range,Id=Ld.range,Bd=Rd.range,Ud=Dd.range,jd=Od.range,qd=Yh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Hd=qd.range,Gd=Yh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Gd.every=function(e){return isFinite(e=Math.floor(e))&&0<e?Yh(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Yd=Gd.range;function Vd(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xd(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wd(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function $d(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,l=rp(n),s=ip(n),f=rp(e),h=ip(e),d=rp(a),p=ip(a),g=rp(u),v=ip(u),y=rp(c),m=ip(c),b={a:function(t){return a[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Mp,e:Mp,f:Cp,H:kp,I:Ep,j:Sp,L:Tp,m:Np,M:Lp,p:function(t){return n[+(12<=t.getHours())]},Q:og,s:ag,S:Rp,u:Dp,U:Op,V:Pp,w:zp,W:Fp,x:null,X:null,y:Ip,Y:Bp,Z:Up,"%":ig},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:jp,e:jp,f:Vp,H:qp,I:Hp,j:Gp,L:Yp,m:Xp,M:Wp,p:function(t){return n[+(12<=t.getUTCHours())]},Q:og,s:ag,S:$p,u:Kp,U:Zp,V:Qp,w:Jp,W:tg,x:null,X:null,y:ng,Y:eg,Z:rg,"%":ig},_={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return M(t,r,n,e)},d:pp,e:pp,f:xp,H:vp,I:vp,j:gp,L:bp,m:dp,M:yp,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},Q:wp,s:Ap,S:mp,u:ap,U:up,V:cp,w:op,W:lp,x:function(t,n,e){return M(t,i,n,e)},X:function(t,n,e){return M(t,o,n,e)},y:fp,Y:sp,Z:hp,"%":_p};function w(c,l){return function(t){var n,e,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(e=Zd[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=l[n])&&(n=r(t,e)),i.push(n),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function A(i,o){return function(t){var n,e,r=Wd(1900);if(M(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(n=4<(e=(n=Xd(Wd(r.y))).getUTCDay())||0===e?Cd.ceil(n):Cd(n),n=kd.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),r.d=n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(Wd(r.y))).getDay())||0===e?id.ceil(n):id(n),n=td.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),r.d=n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Xd(Wd(r.y)).getUTCDay():o(Wd(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Xd(r)):o(r)}}function M(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(c<=r)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in Zd?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),x.x=w(i,x),x.X=w(o,x),x.c=w(r,x),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",Vd);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,Xd);return n.toString=function(){return t},n}}}var Kd,Zd={"-":"",_:" ",0:"0"},Qd=/^\s*\d+/,Jd=/^%/,tp=/[\\^$*+?|[\]().{}]/g;function np(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function ep(t){return t.replace(tp,"\\$&")}function rp(t){return new RegExp("^(?:"+t.map(ep).join("|")+")","i")}function ip(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function op(t,n,e){var r=Qd.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ap(t,n,e){var r=Qd.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function up(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function cp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function lp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function sp(t,n,e){var r=Qd.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function fp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function hp(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function dp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function pp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function gp(t,n,e){var r=Qd.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function vp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function yp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function mp(t,n,e){var r=Qd.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function bp(t,n,e){var r=Qd.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function xp(t,n,e){var r=Qd.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function _p(t,n,e){var r=Jd.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function wp(t,n,e){var r=Qd.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Ap(t,n,e){var r=Qd.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Mp(t,n){return np(t.getDate(),n,2)}function kp(t,n){return np(t.getHours(),n,2)}function Ep(t,n){return np(t.getHours()%12||12,n,2)}function Sp(t,n){return np(1+td.count(bd(t),t),n,3)}function Tp(t,n){return np(t.getMilliseconds(),n,3)}function Cp(t,n){return Tp(t,n)+"000"}function Np(t,n){return np(t.getMonth()+1,n,2)}function Lp(t,n){return np(t.getMinutes(),n,2)}function Rp(t,n){return np(t.getSeconds(),n,2)}function Dp(t){var n=t.getDay();return 0===n?7:n}function Op(t,n){return np(rd.count(bd(t),t),n,2)}function Pp(t,n){var e=t.getDay();return t=4<=e||0===e?ud(t):ud.ceil(t),np(ud.count(bd(t),t)+(4===bd(t).getDay()),n,2)}function zp(t){return t.getDay()}function Fp(t,n){return np(id.count(bd(t),t),n,2)}function Ip(t,n){return np(t.getFullYear()%100,n,2)}function Bp(t,n){return np(t.getFullYear()%1e4,n,4)}function Up(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+np(n/60|0,"0",2)+np(n%60,"0",2)}function jp(t,n){return np(t.getUTCDate(),n,2)}function qp(t,n){return np(t.getUTCHours(),n,2)}function Hp(t,n){return np(t.getUTCHours()%12||12,n,2)}function Gp(t,n){return np(1+kd.count(Gd(t),t),n,3)}function Yp(t,n){return np(t.getUTCMilliseconds(),n,3)}function Vp(t,n){return Yp(t,n)+"000"}function Xp(t,n){return np(t.getUTCMonth()+1,n,2)}function Wp(t,n){return np(t.getUTCMinutes(),n,2)}function $p(t,n){return np(t.getUTCSeconds(),n,2)}function Kp(t){var n=t.getUTCDay();return 0===n?7:n}function Zp(t,n){return np(Td.count(Gd(t),t),n,2)}function Qp(t,n){var e=t.getUTCDay();return t=4<=e||0===e?Rd(t):Rd.ceil(t),np(Rd.count(Gd(t),t)+(4===Gd(t).getUTCDay()),n,2)}function Jp(t){return t.getUTCDay()}function tg(t,n){return np(Cd.count(Gd(t),t),n,2)}function ng(t,n){return np(t.getUTCFullYear()%100,n,2)}function eg(t,n){return np(t.getUTCFullYear()%1e4,n,4)}function rg(){return"+0000"}function ig(){return"%"}function og(t){return+t}function ag(t){return Math.floor(+t/1e3)}function ug(t){return Kd=$d(t),U.timeFormat=Kd.format,U.timeParse=Kd.parse,U.utcFormat=Kd.utcFormat,U.utcParse=Kd.utcParse,Kd}ug({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var cg="%Y-%m-%dT%H:%M:%S.%LZ";var lg=Date.prototype.toISOString?function(t){return t.toISOString()}:U.utcFormat(cg);var sg=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:U.utcParse(cg),fg=1e3,hg=60*fg,dg=60*hg,pg=24*dg,gg=7*pg,vg=30*pg,yg=365*pg;function mg(t){return new Date(t)}function bg(t){return t instanceof Date?+t:+new Date(+t)}function xg(a,n,e,r,i,o,u,c,l){var s=Mh(yh,yh),f=s.invert,h=s.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),m=l("%b %d"),b=l("%B"),x=l("%Y"),_=[[u,1,fg],[u,5,5*fg],[u,15,15*fg],[u,30,30*fg],[o,1,hg],[o,5,5*hg],[o,15,15*hg],[o,30,30*hg],[i,1,dg],[i,3,3*dg],[i,6,6*dg],[i,12,12*dg],[r,1,pg],[r,2,2*pg],[e,1,gg],[n,1,vg],[n,3,3*vg],[a,1,yg]];function w(t){return(u(t)<t?d:o(t)<t?p:i(t)<t?g:r(t)<t?v:n(t)<t?e(t)<t?y:m:a(t)<t?b:x)(t)}function A(t,n,e,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(e-n)/t,o=M(function(t){return t[2]}).right(_,i);t=o===_.length?(r=E(n/yg,e/yg,t),a):o?(r=(o=_[i/_[o-1][2]<_[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(E(n,e,t),1),c)}return null==r?t:t.every(r)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?h(sh.call(t,bg)):h().map(mg)},s.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=A(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},s.tickFormat=function(t,n){return null==n?w:l(n)},s.nice=function(t,n){var e=h();return(t=A(t,e[0],e[e.length-1],n))?h(Sh(e,t)):s},s.copy=function(){return wh(s,xg(a,n,e,r,i,o,u,c,l))},s}function _g(){var n,e,r,i,o,a=0,u=1,c=yh,l=!1;function s(t){return isNaN(t=+t)?o:c(0===r?.5:(t=(i(t)-n)*r,l?Math.max(0,Math.min(1,t)):t))}return s.domain=function(t){return arguments.length?(n=i(a=+t[0]),e=i(u=+t[1]),r=n===e?0:1/(e-n),s):[a,u]},s.clamp=function(t){return arguments.length?(l=!!t,s):l},s.interpolator=function(t){return arguments.length?(c=t,s):c},s.unknown=function(t){return arguments.length?(o=t,s):o},function(t){return n=(i=t)(a),e=t(u),r=n===e?0:1/(e-n),s}}function wg(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ag(){var t=jh(_g());return t.copy=function(){return wg(t,Ag()).exponent(t.exponent())},ch.apply(t,arguments)}function Mg(){var n,e,r,i,o,a,u,c=0,l=.5,s=1,f=yh,h=!1;function d(t){return isNaN(t=+t)?u:(t=.5+((t=+a(t))-e)*(t<e?i:o),f(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(n=a(c=+t[0]),e=a(l=+t[1]),r=a(s=+t[2]),i=n===e?0:.5/(e-n),o=e===r?0:.5/(r-e),d):[c,l,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.unknown=function(t){return arguments.length?(u=t,d):u},function(t){return n=(a=t)(c),e=t(l),r=t(s),i=n===e?0:.5/(e-n),o=e===r?0:.5/(r-e),d}}function kg(){var t=jh(Mg());return t.copy=function(){return wg(t,kg()).exponent(t.exponent())},ch.apply(t,arguments)}function Eg(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var Sg=Eg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Tg=Eg("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Cg=Eg("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ng=Eg("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Lg=Eg("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Rg=Eg("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dg=Eg("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Og=Eg("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Pg=Eg("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function zg(t){return ce(t[t.length-1])}var Fg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Eg),Ig=zg(Fg),Bg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Eg),Ug=zg(Bg),jg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Eg),qg=zg(jg),Hg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Eg),Gg=zg(Hg),Yg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Eg),Vg=zg(Yg),Xg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Eg),Wg=zg(Xg),$g=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Eg),Kg=zg($g),Zg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Eg),Qg=zg(Zg),Jg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Eg),tv=zg(Jg),nv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Eg),ev=zg(nv),rv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Eg),iv=zg(rv),ov=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Eg),av=zg(ov),uv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Eg),cv=zg(uv),lv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Eg),sv=zg(lv),fv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Eg),hv=zg(fv),dv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Eg),pv=zg(dv),gv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Eg),vv=zg(gv),yv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Eg),mv=zg(yv),bv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Eg),xv=zg(bv),_v=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Eg),wv=zg(_v),Av=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Eg),Mv=zg(Av),kv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Eg),Ev=zg(kv),Sv=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Eg),Tv=zg(Sv),Cv=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Eg),Nv=zg(Cv),Lv=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Eg),Rv=zg(Lv),Dv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Eg),Ov=zg(Dv),Pv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Eg),zv=zg(Pv),Fv=He(Kn(300,.5,0),Kn(-240,.5,1)),Iv=He(Kn(-100,.75,.35),Kn(80,1.5,.8)),Bv=He(Kn(260,.75,.35),Kn(80,1.5,.8)),Uv=Kn();var jv=yn(),qv=Math.PI/3,Hv=2*Math.PI/3;function Gv(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}var Yv=Gv(Eg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vv=Gv(Eg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xv=Gv(Eg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Wv=Gv(Eg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $v(t){return function(){return t}}var Kv=Math.abs,Zv=Math.atan2,Qv=Math.cos,Jv=Math.max,ty=Math.min,ny=Math.sin,ey=Math.sqrt,ry=1e-12,iy=Math.PI,oy=iy/2,ay=2*iy;function uy(t){return 1<=t?oy:t<=-1?-oy:Math.asin(t)}function cy(t){return t.innerRadius}function ly(t){return t.outerRadius}function sy(t){return t.startAngle}function fy(t){return t.endAngle}function hy(t){return t&&t.padAngle}function dy(t,n,e,r,i,o,a){var u=t-e,c=n-r,l=(a?o:-o)/ey(u*u+c*c),s=l*c,f=-l*u,h=t+s,d=n+f,p=e+s,g=r+f,v=(h+p)/2,y=(d+g)/2,m=p-h,b=g-d,x=m*m+b*b,_=i-o,w=h*g-p*d,A=(b<0?-1:1)*ey(Jv(0,_*_*x-w*w)),M=(w*b-m*A)/x,k=(-w*m-b*A)/x,E=(w*b+m*A)/x,S=(-w*m+b*A)/x,T=M-v,C=k-y,N=E-v,L=S-y;return N*N+L*L<T*T+C*C&&(M=E,k=S),{cx:M,cy:k,x01:-s,y01:-f,x11:M*(i/_-1),y11:k*(i/_-1)}}function py(t){this._context=t}function gy(t){return new py(t)}function vy(t){return t[0]}function yy(t){return t[1]}function my(){var a=vy,u=yy,c=$v(!0),l=null,s=gy,f=null;function n(t){var n,e,r,i=t.length,o=!1;for(null==l&&(f=s(r=Vi())),n=0;n<=i;++n)!(n<i&&c(e=t[n],n,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(e,n,t),+u(e,n,t));if(r)return f=null,r+""||null}return n.x=function(t){return arguments.length?(a="function"==typeof t?t:$v(+t),n):a},n.y=function(t){return arguments.length?(u="function"==typeof t?t:$v(+t),n):u},n.defined=function(t){return arguments.length?(c="function"==typeof t?t:$v(!!t),n):c},n.curve=function(t){return arguments.length?(s=t,null!=l&&(f=s(l)),n):s},n.context=function(t){return arguments.length?(null==t?l=f=null:f=s(l=t),n):l},n}function by(){var s=vy,f=null,h=$v(0),d=yy,p=$v(!0),g=null,v=gy,y=null;function n(t){var n,e,r,i,o,a=t.length,u=!1,c=new Array(a),l=new Array(a);for(null==g&&(y=v(o=Vi())),n=0;n<=a;++n){if(!(n<a&&p(i=t[n],n,t))===u)if(u=!u)e=n,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=n-1;e<=r;--r)y.point(c[r],l[r]);y.lineEnd(),y.areaEnd()}u&&(c[n]=+s(i,n,t),l[n]=+h(i,n,t),y.point(f?+f(i,n,t):c[n],d?+d(i,n,t):l[n]))}if(o)return y=null,o+""||null}function t(){return my().defined(p).curve(v).context(g)}return n.x=function(t){return arguments.length?(s="function"==typeof t?t:$v(+t),f=null,n):s},n.x0=function(t){return arguments.length?(s="function"==typeof t?t:$v(+t),n):s},n.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:$v(+t),n):f},n.y=function(t){return arguments.length?(h="function"==typeof t?t:$v(+t),d=null,n):h},n.y0=function(t){return arguments.length?(h="function"==typeof t?t:$v(+t),n):h},n.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:$v(+t),n):d},n.lineX0=n.lineY0=function(){return t().x(s).y(h)},n.lineY1=function(){return t().x(s).y(d)},n.lineX1=function(){return t().x(f).y(h)},n.defined=function(t){return arguments.length?(p="function"==typeof t?t:$v(!!t),n):p},n.curve=function(t){return arguments.length?(v=t,null!=g&&(y=v(g)),n):v},n.context=function(t){return arguments.length?(null==t?g=y=null:y=v(g=t),n):g},n}function xy(t,n){return n<t?-1:t<n?1:t<=n?0:NaN}function _y(t){return t}py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var wy=My(gy);function Ay(t){this._curve=t}function My(n){function t(t){return new Ay(n(t))}return t._curve=n,t}function ky(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(My(t)):n()._curve},t}function Ey(){return ky(my().curve(wy))}function Sy(){var t=by().curve(wy),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ky(e())},delete t.lineX0,t.lineEndAngle=function(){return ky(r())},delete t.lineX1,t.lineInnerRadius=function(){return ky(i())},delete t.lineY0,t.lineOuterRadius=function(){return ky(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(My(t)):n()._curve},t}function Ty(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Ay.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Cy=Array.prototype.slice;function Ny(t){return t.source}function Ly(t){return t.target}function Ry(i){var o=Ny,a=Ly,u=vy,c=yy,l=null;function n(){var t,n=Cy.call(arguments),e=o.apply(this,n),r=a.apply(this,n);if(l||(l=t=Vi()),i(l,+u.apply(this,(n[0]=e,n)),+c.apply(this,n),+u.apply(this,(n[0]=r,n)),+c.apply(this,n)),t)return l=null,t+""||null}return n.source=function(t){return arguments.length?(o=t,n):o},n.target=function(t){return arguments.length?(a=t,n):a},n.x=function(t){return arguments.length?(u="function"==typeof t?t:$v(+t),n):u},n.y=function(t){return arguments.length?(c="function"==typeof t?t:$v(+t),n):c},n.context=function(t){return arguments.length?(l=null==t?null:t,n):l},n}function Dy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Oy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Py(t,n,e,r,i){var o=Ty(n,e),a=Ty(n,e=(e+i)/2),u=Ty(r,e),c=Ty(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}var zy={draw:function(t,n){var e=Math.sqrt(n/iy);t.moveTo(e,0),t.arc(0,0,e,0,ay)}},Fy={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Iy=Math.sqrt(1/3),By=2*Iy,Uy={draw:function(t,n){var e=Math.sqrt(n/By),r=e*Iy;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},jy=Math.sin(iy/10)/Math.sin(7*iy/10),qy=Math.sin(ay/10)*jy,Hy=-Math.cos(ay/10)*jy,Gy={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=qy*e,i=Hy*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=ay*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*e,-u*e),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Yy={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Vy=Math.sqrt(3),Xy={draw:function(t,n){var e=-Math.sqrt(n/(3*Vy));t.moveTo(0,2*e),t.lineTo(-Vy*e,-e),t.lineTo(Vy*e,-e),t.closePath()}},Wy=-.5,$y=Math.sqrt(3)/2,Ky=1/Math.sqrt(12),Zy=3*(Ky/2+1),Qy={draw:function(t,n){var e=Math.sqrt(n/Zy),r=e/2,i=e*Ky,o=r,a=e*Ky+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(Wy*r-$y*i,$y*r+Wy*i),t.lineTo(Wy*o-$y*a,$y*o+Wy*a),t.lineTo(Wy*u-$y*c,$y*u+Wy*c),t.lineTo(Wy*r+$y*i,Wy*i-$y*r),t.lineTo(Wy*o+$y*a,Wy*a-$y*o),t.lineTo(Wy*u+$y*c,Wy*c-$y*u),t.closePath()}},Jy=[zy,Fy,Uy,Yy,Gy,Xy,Qy];function tm(){}function nm(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function em(t){this._context=t}function rm(t){this._context=t}function im(t){this._context=t}function om(t,n){this._basis=new em(t),this._beta=n}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},rm.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:nm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:nm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},om.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(0<e)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var am=function n(e){function t(t){return 1===e?new em(t):new om(t,e)}return t.beta=function(t){return n(+t)},t}(.85);function um(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function cm(t,n){this._context=t,this._k=(1-n)/6}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:um(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:um(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var lm=function n(e){function t(t){return new cm(t,e)}return t.tension=function(t){return n(+t)},t}(0);function sm(t,n){this._context=t,this._k=(1-n)/6}sm.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:um(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var fm=function n(e){function t(t){return new sm(t,e)}return t.tension=function(t){return n(+t)},t}(0);function hm(t,n){this._context=t,this._k=(1-n)/6}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:um(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var dm=function n(e){function t(t){return new hm(t,e)}return t.tension=function(t){return n(+t)},t}(0);function pm(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>ry){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>ry){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*l+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function gm(t,n){this._context=t,this._alpha=n}gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:pm(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var vm=function n(e){function t(t){return e?new gm(t,e):new cm(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function ym(t,n){this._context=t,this._alpha=n}ym.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:pm(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var mm=function n(e){function t(t){return e?new ym(t,e):new sm(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function bm(t,n){this._context=t,this._alpha=n}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pm(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var xm=function n(e){function t(t){return e?new bm(t,e):new hm(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function _m(t){this._context=t}function wm(t){return t<0?-1:1}function Am(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(wm(o)+wm(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Mm(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function km(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Em(t){this._context=t}function Sm(t){this._context=new Tm(t)}function Tm(t){this._context=t}function Cm(t){this._context=t}function Nm(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;0<=n;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Lm(t,n){this._context=t,this._t=n}function Rm(t,n){if(1<(i=t.length))for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Dm(t){for(var n=t.length,e=new Array(n);0<=--n;)e[n]=n;return e}function Om(t,n){return t[n]}function Pm(t){var e=t.map(zm);return Dm(t).sort(function(t,n){return e[t]-e[n]})}function zm(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function Fm(t){var e=t.map(Im);return Dm(t).sort(function(t,n){return e[t]-e[n]})}function Im(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Bm(t){return function(){return t}}function Um(t){return t[0]}function jm(t){return t[1]}function qm(){this._=null}function Hm(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gm(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Ym(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Vm(t){for(;t.L;)t=t.L;return t}function Xm(t,n,e,r){var i=[null,null],o=gb.push(i)-1;return i.left=t,i.right=n,e&&$m(i,t,n,e),r&&$m(i,n,t,r),db[t.index].halfedges.push(o),db[n.index].halfedges.push(o),i}function Wm(t,n,e){var r=[n,e];return r.left=t,r}function $m(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Km(t,n,e,r,i){var o,a=t[0],u=t[1],c=a[0],l=a[1],s=0,f=1,h=u[0]-c,d=u[1]-l;if(o=n-c,h||!(0<o)){if(o/=h,h<0){if(o<s)return;o<f&&(f=o)}else if(0<h){if(f<o)return;s<o&&(s=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(f<o)return;s<o&&(s=o)}else if(0<h){if(o<s)return;o<f&&(f=o)}if(o=e-l,d||!(0<o)){if(o/=d,d<0){if(o<s)return;o<f&&(f=o)}else if(0<d){if(f<o)return;s<o&&(s=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(f<o)return;s<o&&(s=o)}else if(0<d){if(o<s)return;o<f&&(f=o)}return(0<s||f<1)&&(0<s&&(t[0]=[c+s*h,l+s*d]),f<1&&(t[1]=[c+f*h,l+f*d])),!0}}}}}function Zm(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,c=t[0],l=t.left,s=t.right,f=l[0],h=l[1],d=s[0],p=s[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<n||r<=g)return;if(d<f){if(c){if(c[1]>=i)return}else c=[g,e];o=[g,i]}else{if(c){if(c[1]<e)return}else c=[g,i];o=[g,e]}}else if(u=v-(a=(f-d)/(p-h))*g,a<-1||1<a)if(d<f){if(c){if(c[1]>=i)return}else c=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(c){if(c[1]<e)return}else c=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,a*n+u];o=[r,a*r+u]}else{if(c){if(c[0]<n)return}else c=[r,a*r+u];o=[n,a*n+u]}return t[0]=c,t[1]=o,!0}function Qm(t,n){return n[+(n.left!==t.site)]}_m.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:km(this,this._t0,Mm(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,km(this,Mm(this,e=Am(this,t,n)),e);break;default:km(this,this._t0,e=Am(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Sm.prototype=Object.create(Em.prototype)).point=function(t,n){Em.prototype.point.call(this,n,t)},Tm.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Nm(t),i=Nm(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},qm.prototype={constructor:qm,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else e=this._?(t=Vm(this._),n.P=null,(n.N=t).P=t.L=n,t):(n.P=n.N=null,this._=n,null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Gm(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ym(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Ym(this,e),e=(t=e).U),e.C=!1,r.C=!0,Gm(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Vm(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,((e.L=o).U=e)!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,(e.R=a).U=e):(e.U=i,t=(i=e).R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Gm(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Ym(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Gm(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Ym(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Gm(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Ym(this,i),t=this._;break}n.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var Jm,tb=[];function nb(){Hm(this),this.x=this.y=this.arc=this.site=this.cy=null}function eb(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],c=r[0]-a,l=r[1]-u,s=o[0]-a,f=o[1]-u,h=2*(c*f-l*s);if(!(-yb<=h)){var d=c*c+l*l,p=s*s+f*f,g=(f*d-l*p)/h,v=(c*p-s*d)/h,y=tb.pop()||new nb;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+u)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,b=pb._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}pb.insert(m,y),m||(Jm=y)}}}}function rb(t){var n=t.circle;n&&(n.P||(Jm=n.N),pb.remove(n),tb.push(n),Hm(n),t.circle=null)}var ib=[];function ob(){Hm(this),this.edge=this.site=this.circle=null}function ab(t){var n=ib.pop()||new ob;return n.site=t,n}function ub(t){rb(t),hb.remove(t),ib.push(t),Hm(t)}function cb(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];ub(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<vb&&Math.abs(r-c.circle.cy)<vb;)o=c.P,u.unshift(c),ub(c),c=o;u.unshift(c),rb(c);for(var l=a;l.circle&&Math.abs(e-l.circle.x)<vb&&Math.abs(r-l.circle.cy)<vb;)a=l.N,u.push(l),ub(l),l=a;u.push(l),rb(l);var s,f=u.length;for(s=1;s<f;++s)l=u[s],c=u[s-1],$m(l.edge,c.site,l.site,i);c=u[0],(l=u[f-1]).edge=Xm(c.site,l.site,null,i),eb(c),eb(l)}function lb(t){for(var n,e,r,i,o=t[0],a=t[1],u=hb._;u;)if(r=sb(u,a)-o,vb<r)u=u.L;else{if(i=o-fb(u,a),!(vb<i)){-vb<r?(n=u.P,e=u):-vb<i?e=(n=u).N:n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){db[t.index]={site:t,halfedges:[]}}(t);var c=ab(t);if(hb.insert(n,c),n||e){if(n===e)return rb(n),e=ab(n.site),hb.insert(c,e),c.edge=e.edge=Xm(n.site,c.site),eb(n),void eb(e);if(e){rb(n),rb(e);var l=n.site,s=l[0],f=l[1],h=t[0]-s,d=t[1]-f,p=e.site,g=p[0]-s,v=p[1]-f,y=2*(h*v-d*g),m=h*h+d*d,b=g*g+v*v,x=[(v*m-d*b)/y+s,(h*b-g*m)/y+f];$m(e.edge,l,p,x),c.edge=Xm(l,t,null,x),e.edge=Xm(t,p,null,x),eb(n),eb(e)}else c.edge=Xm(n.site,c.site)}}function sb(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],c=e[1],l=c-n;if(!l)return u;var s=u-r,f=1/o-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+i-o/2)))/f+r:(r+u)/2}function fb(t,n){var e=t.N;if(e)return sb(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var hb,db,pb,gb,vb=1e-6,yb=1e-12;function mb(t,n){return n[1]-t[1]||n[0]-t[0]}function bb(t,n){var e,r,i,o=t.sort(mb).pop();for(gb=[],db=new Array(t.length),hb=new qm,pb=new qm;;)if(i=Jm,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(lb(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;cb(i.arc)}if(function(){for(var t,n,e,r,i=0,o=db.length;i<o;++i)if((t=db[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=(c=t,l=gb[n[e]],h=f=void 0,s=c.site,f=l.left,h=l.right,s===h&&(h=f,f=s),h?Math.atan2(h[1]-f[1],h[0]-f[0]):(h=s===f?(f=l[1],l[0]):(f=l[0],l[1]),Math.atan2(f[0]-h[0],h[1]-f[1])));for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}var c,l,s,f,h}(),n){var a=+n[0][0],u=+n[0][1],c=+n[1][0],l=+n[1][1];!function(t,n,e,r){for(var i,o=gb.length;o--;)Zm(i=gb[o],t,n,e,r)&&Km(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>vb||Math.abs(i[0][1]-i[1][1])>vb)||delete gb[o]}(a,u,c,l),function(t,n,e,r){var i,o,a,u,c,l,s,f,h,d,p,g,v,y,m=db.length,b=!0;for(i=0;i<m;++i)if(o=db[i]){for(a=o.site,u=(c=o.halfedges).length;u--;)gb[c[u]]||c.splice(u,1);for(u=0,l=c.length;u<l;)v=o,p=(d=(y=gb[c[u]])[+(y.left===v.site)])[0],g=d[1],f=(s=Qm(o,gb[c[++u%l]]))[0],h=s[1],(Math.abs(p-f)>vb||Math.abs(g-h)>vb)&&(c.splice(u,0,gb.push(Wm(a,d,Math.abs(p-t)<vb&&vb<r-g?[t,Math.abs(f-t)<vb?h:r]:Math.abs(g-r)<vb&&vb<e-p?[Math.abs(h-r)<vb?f:e,r]:Math.abs(p-e)<vb&&vb<g-n?[e,Math.abs(f-e)<vb?h:n]:Math.abs(g-n)<vb&&vb<p-t?[Math.abs(h-n)<vb?f:t,n]:null))-1),++l);l&&(b=!1)}if(b){var x,_,w,A=1/0;for(i=0,b=null;i<m;++i)(o=db[i])&&(w=(x=(a=o.site)[0]-t)*x+(_=a[1]-n)*_)<A&&(A=w,b=o);if(b){var M=[t,n],k=[t,r],E=[e,r],S=[e,n];b.halfedges.push(gb.push(Wm(a=b.site,M,k))-1,gb.push(Wm(a,k,E))-1,gb.push(Wm(a,E,S))-1,gb.push(Wm(a,S,M))-1)}}for(i=0;i<m;++i)(o=db[i])&&(o.halfedges.length||delete db[i])}(a,u,c,l)}this.edges=gb,this.cells=db,hb=pb=gb=db=null}function xb(t){return function(){return t}}function _b(t,n,e){this.target=t,this.type=n,this.transform=e}function wb(t,n,e){this.k=t,this.x=n,this.y=e}bb.prototype={constructor:bb,polygons:function(){var e=this.edges;return this.cells.map(function(n){var t=n.halfedges.map(function(t){return Qm(n,e[t])});return t.data=n.site.data,t})},triangles:function(){var h=[],d=this.edges;return this.cells.forEach(function(t,n){if(r=(e=t.halfedges).length)for(var e,r,i,o,a,u,c=t.site,l=-1,s=d[e[r-1]],f=s.left===c?s.right:s.left;++l<r;)i=f,f=(s=d[e[l]]).left===c?s.right:s.left,i&&f&&n<i.index&&n<f.index&&(a=i,u=f,((o=c)[0]-u[0])*(a[1]-o[1])-(o[0]-a[0])*(u[1]-o[1])<0)&&h.push([c.data,i.data,f.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,u,t){for(var n,c,l=this,s=l._found||0,e=l.cells.length;!(c=l.cells[s]);)if(++s>=e)return null;for(var r=a-c.site[0],i=u-c.site[1],f=r*r+i*i;c=l.cells[n=s],s=null,c.halfedges.forEach(function(t){var n=l.edges[t],e=n.left;if(e!==c.site&&e||(e=n.right)){var r=a-e[0],i=u-e[1],o=r*r+i*i;o<f&&(f=o,s=e.index)}}),null!==s;);return l._found=n,null==t||f<=t*t?c.site:null}},wb.prototype={constructor:wb,scale:function(t){return 1===t?this:new wb(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new wb(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ab=new wb(1,0,0);function Mb(t){return t.__zoom||Ab}function kb(){U.event.stopImmediatePropagation()}function Eb(){U.event.preventDefault(),U.event.stopImmediatePropagation()}function Sb(){return!U.event.button}function Tb(){var t,n,e=this;return n=e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,e.height.baseVal.value):(t=e.clientWidth,e.clientHeight),[[0,0],[t,n]]}function Cb(){return this.__zoom||Ab}function Nb(){return-U.event.deltaY*(U.event.deltaMode?120:1)/500}function Lb(){return"ontouchstart"in this}function Rb(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Mb.prototype=wb.prototype,U.version="5.9.2",U.bisect=g,U.bisectRight=g,U.bisectLeft=n,U.ascending=u,U.bisector=M,U.cross=function(t,n,e){var r,i,o,a,u=t.length,c=n.length,l=new Array(u*c);for(null==e&&(e=s),r=o=0;r<u;++r)for(a=t[r],i=0;i<c;++i,++o)l[o]=e(a,n[i]);return l},U.descending=function(t,n){return n<t?-1:t<n?1:t<=n?0:NaN},U.deviation=i,U.extent=c,U.histogram=function(){var h=v,d=c,p=b;function n(t){var n,e,r=t.length,i=new Array(r);for(n=0;n<r;++n)i[n]=h(t[n],n,t);var o=d(i),a=o[0],u=o[1],c=p(i,a,u);Array.isArray(c)||(c=E(a,u,c),c=k(Math.ceil(a/c)*c,u,c));for(var l=c.length;c[0]<=a;)c.shift(),--l;for(;c[l-1]>u;)c.pop(),--l;var s,f=new Array(l+1);for(n=0;n<=l;++n)(s=f[n]=[]).x0=0<n?c[n-1]:a,s.x1=n<l?c[n]:u;for(n=0;n<r;++n)a<=(e=i[n])&&e<=u&&f[g(c,e,0,l)].push(t[n]);return f}return n.value=function(t){return arguments.length?(h="function"==typeof t?t:f(t),n):h},n.domain=function(t){return arguments.length?(d="function"==typeof t?t:f([t[0],t[1]]),n):d},n.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?f(o.call(t)):f(t),n):p},n},U.thresholdFreedmanDiaconis=function(t,n,e){return t=a.call(t,l).sort(u),Math.ceil((e-n)/(2*(x(t,.75)-x(t,.25))*Math.pow(t.length,-1/3)))},U.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*i(t)*Math.pow(t.length,-1/3)))},U.thresholdSturges=b,U.max=_,U.mean=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=l(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=l(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},U.median=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=l(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=l(n(t[i],i,t)))||o.push(e);return x(o.sort(u),.5)},U.merge=S,U.min=w,U.pairs=function(t,n){null==n&&(n=s);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o},U.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},U.quantile=x,U.range=k,U.scan=function(t,n){if(e=t.length){var e,r,i=0,o=0,a=t[o];for(null==n&&(n=u);++i<e;)(n(r=t[i],a)<0||0!==n(a,a))&&(a=r,o=i);return 0===n(a,a)?o:void 0}},U.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},U.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},U.ticks=y,U.tickIncrement=m,U.tickStep=E,U.transpose=A,U.variance=r,U.zip=function(){return A(arguments)},U.axisTop=function(t){return B(L,t)},U.axisRight=function(t){return B(R,t)},U.axisBottom=function(t){return B(D,t)},U.axisLeft=function(t){return B(O,t)},U.brush=function(){return Ri(_i)},U.brushX=function(){return Ri(bi)},U.brushY=function(){return Ri(xi)},U.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},U.chord=function(){var _=0,w=null,A=null,M=null;function n(r){var t,n,e,i,o,a,u=r.length,c=[],l=k(u),s=[],f=[],h=f.groups=new Array(u),d=new Array(u*u);for(t=0,o=-1;++o<u;){for(n=0,a=-1;++a<u;)n+=r[o][a];c.push(n),s.push(k(u)),t+=n}for(w&&l.sort(function(t,n){return w(c[t],c[n])}),A&&s.forEach(function(t,e){t.sort(function(t,n){return A(r[e][t],r[e][n])})}),i=(t=Ii(0,Fi-_*u)/t)?_:Fi/u,n=0,o=-1;++o<u;){for(e=n,a=-1;++a<u;){var p=l[o],g=s[p][a],v=r[p][g],y=n,m=n+=v*t;d[g*u+p]={index:p,subindex:g,startAngle:y,endAngle:m,value:v}}h[p]={index:p,startAngle:e,endAngle:n,value:c[p]},n+=i}for(o=-1;++o<u;)for(a=o-1;++a<u;){var b=d[a*u+o],x=d[o*u+a];(b.value||x.value)&&f.push(b.value<x.value?{source:x,target:b}:{source:b,target:x})}return M?f.sort(M):f}return n.padAngle=function(t){return arguments.length?(_=Ii(0,t),n):_},n.sortGroups=function(t){return arguments.length?(w=t,n):w},n.sortSubgroups=function(t){return arguments.length?(A=t,n):A},n.sortChords=function(t){return arguments.length?(null==t?M=null:(M=function(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}(t))._=t,n):M&&M._},n},U.ribbon=function(){var h=Xi,d=Wi,p=$i,g=Ki,v=Zi,y=null;function n(){var t,n=Bi.call(arguments),e=h.apply(this,n),r=d.apply(this,n),i=+p.apply(this,(n[0]=e,n)),o=g.apply(this,n)-zi,a=v.apply(this,n)-zi,u=i*Di(o),c=i*Oi(o),l=+p.apply(this,(n[0]=r,n)),s=g.apply(this,n)-zi,f=v.apply(this,n)-zi;if(y||(y=t=Vi()),y.moveTo(u,c),y.arc(0,0,i,o,a),o==s&&a==f||(y.quadraticCurveTo(0,0,l*Di(s),l*Oi(s)),y.arc(0,0,l,s,f)),y.quadraticCurveTo(0,0,u,c),y.closePath(),t)return y=null,t+""||null}return n.radius=function(t){return arguments.length?(p="function"==typeof t?t:Ui(+t),n):p},n.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:Ui(+t),n):g},n.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:Ui(+t),n):v},n.source=function(t){return arguments.length?(h=t,n):h},n.target=function(t){return arguments.length?(d=t,n):d},n.context=function(t){return arguments.length?(y=null==t?null:t,n):y},n},U.nest=function(){var h,d,n,p=[],a=[];function g(t,e,r,i){if(e>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var n,o,a,u=-1,c=t.length,l=p[e++],s=to(),f=r();++u<c;)(a=s.get(n=l(o=t[u])+""))?a.push(o):s.set(n,[o]);return s.each(function(t,n){i(f,n,g(t,e,r,i))}),f}return n={object:function(t){return g(t,0,no,eo)},map:function(t){return g(t,0,ro,io)},entries:function(t){return function e(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=d&&r>=p.length?i=t.entries():(i=[],t.each(function(t,n){i.push({key:n,values:e(t,r)})})),null!=o?i.sort(function(t,n){return o(t.key,n.key)}):i}(g(t,0,ro,io),0)},key:function(t){return p.push(t),n},sortKeys:function(t){return a[p.length-1]=t,n},sortValues:function(t){return h=t,n},rollup:function(t){return d=t,n}}},U.set=uo,U.map=to,U.keys=function(t){var n=[];for(var e in t)n.push(e);return n},U.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},U.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},U.color=dn,U.rgb=yn,U.hsl=_n,U.lab=On,U.hcl=jn,U.lch=function(t,n,e,r){return 1===arguments.length?Un(t):new qn(e,n,t,null==r?1:r)},U.gray=function(t,n){return new Pn(t,0,0,null==n?1:n)},U.cubehelix=Kn,U.contours=vo,U.contourDensity=function(){var u=bo,c=xo,l=_o,r=960,i=500,o=20,s=2,f=3*o,h=r+2*f>>s,d=i+2*f>>s,p=so(20);function n(t){var a=new Float32Array(h*d),n=new Float32Array(h*d);t.forEach(function(t,n,e){var r=+u(t,n,e)+f>>s,i=+c(t,n,e)+f>>s,o=+l(t,n,e);0<=r&&r<h&&0<=i&&i<d&&(a[r+i*h]+=o)}),yo({width:h,height:d,data:a},{width:h,height:d,data:n},o>>s),mo({width:h,height:d,data:n},{width:h,height:d,data:a},o>>s),yo({width:h,height:d,data:a},{width:h,height:d,data:n},o>>s),mo({width:h,height:d,data:n},{width:h,height:d,data:a},o>>s),yo({width:h,height:d,data:a},{width:h,height:d,data:n},o>>s),mo({width:h,height:d,data:n},{width:h,height:d,data:a},o>>s);var e=p(a);if(!Array.isArray(e)){var r=_(a);e=E(0,r,e),(e=k(0,Math.floor(r/e)*e,e)).shift()}return vo().thresholds(e).size([h,d])(a).map(g)}function g(t){return t.value*=Math.pow(2,-2*s),t.coordinates.forEach(e),t}function e(t){t.forEach(a)}function a(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,s)-f,t[1]=t[1]*Math.pow(2,s)-f}function y(){return h=r+2*(f=3*o)>>s,d=i+2*f>>s,n}return n.x=function(t){return arguments.length?(u="function"==typeof t?t:so(+t),n):u},n.y=function(t){return arguments.length?(c="function"==typeof t?t:so(+t),n):c},n.weight=function(t){return arguments.length?(l="function"==typeof t?t:so(+t),n):l},n.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(0<=n||0<=n))throw new Error("invalid size");return r=n,i=e,y()},n.cellSize=function(t){if(!arguments.length)return 1<<s;if(!(1<=(t=+t)))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),y()},n.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?so(co.call(t)):so(t),n):p},n.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},n},U.dispatch=q,U.drag=function(){var e,r,i,o,a=Vt,u=Xt,n=Wt,c=$t,p={},g=q("start","drag","end"),v=0,l=0;function y(t){t.on("mousedown.drag",s).filter(c).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(){if(!o&&a.apply(this,arguments)){var t=x("mouse",u.apply(this,arguments),It,this,arguments);t&&(Rt(U.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),qt(U.event.view),Ut(),i=!1,e=U.event.clientX,r=U.event.clientY,t("start"))}}function f(){if(jt(),!i){var t=U.event.clientX-e,n=U.event.clientY-r;i=l<t*t+n*n}p.mouse("drag")}function h(){Rt(U.event.view).on("mousemove.drag mouseup.drag",null),Ht(U.event.view,i),jt(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,n,e=U.event.changedTouches,r=u.apply(this,arguments),i=e.length;for(t=0;t<i;++t)(n=x(e[t].identifier,r,Bt,this,arguments))&&(Ut(),n("start"))}}function m(){var t,n,e=U.event.changedTouches,r=e.length;for(t=0;t<r;++t)(n=p[e[t].identifier])&&(jt(),n("drag"))}function b(){var t,n,e=U.event.changedTouches,r=e.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(n=p[e[t].identifier])&&(Ut(),n("end"))}function x(i,o,a,u,c){var l,s,f,h=a(o,i),d=g.copy();if(St(new Yt(y,"beforestart",l,i,v,h[0],h[1],0,0,d),function(){return null!=(U.event.subject=l=n.apply(u,c))&&(s=l.x-h[0]||0,f=l.y-h[1]||0,!0)}))return function t(n){var e,r=h;switch(n){case"start":p[i]=t,e=v++;break;case"end":delete p[i],--v;case"drag":h=a(o,i),e=v}St(new Yt(y,n,l,i,e,h[0]+s,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[n,u,c])}}return y.filter=function(t){return arguments.length?(a="function"==typeof t?t:Gt(!!t),y):a},y.container=function(t){return arguments.length?(u="function"==typeof t?t:Gt(t),y):u},y.subject=function(t){return arguments.length?(n="function"==typeof t?t:Gt(t),y):n},y.touchable=function(t){return arguments.length?(c="function"==typeof t?t:Gt(!!t),y):c},y.on=function(){var t=g.on.apply(g,arguments);return t===g?y:t},y.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,y):Math.sqrt(l)},y},U.dragDisable=qt,U.dragEnable=Ht,U.dsvFormat=Lo,U.csvParse=Do,U.csvParseRows=Oo,U.csvFormat=Po,U.csvFormatBody=zo,U.csvFormatRows=Fo,U.tsvParse=Bo,U.tsvParseRows=Uo,U.tsvFormat=jo,U.tsvFormatBody=qo,U.tsvFormatRows=Ho,U.autoType=function(t){for(var n in t){var e,r=t[n].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(e=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=e;else r=null;t[n]=r}return t},U.easeLinear=function(t){return+t},U.easeQuad=Dr,U.easeQuadIn=function(t){return t*t},U.easeQuadOut=function(t){return t*(2-t)},U.easeQuadInOut=Dr,U.easeCubic=Or,U.easeCubicIn=function(t){return t*t*t},U.easeCubicOut=function(t){return--t*t*t+1},U.easeCubicInOut=Or,U.easePoly=Fr,U.easePolyIn=Pr,U.easePolyOut=zr,U.easePolyInOut=Fr,U.easeSin=Ur,U.easeSinIn=function(t){return 1-Math.cos(t*Br)},U.easeSinOut=function(t){return Math.sin(t*Br)},U.easeSinInOut=Ur,U.easeExp=jr,U.easeExpIn=function(t){return Math.pow(2,10*t-10)},U.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},U.easeExpInOut=jr,U.easeCircle=qr,U.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},U.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},U.easeCircleInOut=qr,U.easeBounce=Jr,U.easeBounceIn=function(t){return 1-Jr(1-t)},U.easeBounceOut=Jr,U.easeBounceInOut=function(t){return((t*=2)<=1?1-Jr(1-t):Jr(t-1)+1)/2},U.easeBack=ri,U.easeBackIn=ni,U.easeBackOut=ei,U.easeBackInOut=ri,U.easeElastic=ai,U.easeElasticIn=oi,U.easeElasticOut=ai,U.easeElasticInOut=ui,U.blob=function(t,n){return fetch(t,n).then(Go)},U.buffer=function(t,n){return fetch(t,n).then(Yo)},U.dsv=function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Lo(t);return Xo(n,e).then(function(t){return i.parse(t,r)})},U.csv=$o,U.tsv=Ko,U.image=function(i,o){return new Promise(function(t,n){var e=new Image;for(var r in o)e[r]=o[r];e.onerror=n,e.onload=function(){t(e)},e.src=i})},U.json=function(t,n){return fetch(t,n).then(Zo)},U.text=Xo,U.xml=Jo,U.html=ta,U.svg=na,U.forceCenter=function(o,a){var u;function n(){var t,n,e=u.length,r=0,i=0;for(t=0;t<e;++t)r+=(n=u[t]).x,i+=n.y;for(r=r/e-o,i=i/e-a,t=0;t<e;++t)(n=u[t]).x-=r,n.y-=i}return null==o&&(o=0),null==a&&(a=0),n.initialize=function(t){u=t},n.x=function(t){return arguments.length?(o=+t,n):o},n.y=function(t){return arguments.length?(a=+t,n):a},n},U.forceCollide=function(r){var o,a,v=1,u=1;function n(){for(var t,n,f,h,d,p,g,e=o.length,r=0;r<u;++r)for(n=ca(o,ha,da).visitAfter(c),t=0;t<e;++t)f=o[t],p=a[f.index],g=p*p,h=f.x+f.vx,d=f.y+f.vy,n.visit(i);function i(t,n,e,r,i){var o=t.data,a=t.r,u=p+a;if(!o)return h+u<n||r<h-u||d+u<e||i<d-u;if(o.index>f.index){var c=h-o.x-o.vx,l=d-o.y-o.vy,s=c*c+l*l;s<u*u&&(0===c&&(s+=(c=ra())*c),0===l&&(s+=(l=ra())*l),s=(u-(s=Math.sqrt(s)))/s*v,f.vx+=(c*=s)*(u=(a*=a)/(g+a)),f.vy+=(l*=s)*u,o.vx-=c*(u=1-u),o.vy-=l*u)}}}function c(t){if(t.data)return t.r=a[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function e(){if(o){var t,n,e=o.length;for(a=new Array(e),t=0;t<e;++t)n=o[t],a[n.index]=+r(n,t,o)}}return"function"!=typeof r&&(r=ea(null==r?1:+r)),n.initialize=function(t){o=t,e()},n.iterations=function(t){return arguments.length?(u=+t,n):u},n.strength=function(t){return arguments.length?(v=+t,n):v},n.radius=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),e(),n):r},n},U.forceLink=function(f){var h,d,o,a,p,u=pa,e=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=ea(30),g=1;function n(t){for(var n=0,e=f.length;n<g;++n)for(var r,i,o,a,u,c,l,s=0;s<e;++s)i=(r=f[s]).source,a=(o=r.target).x+o.vx-i.x-i.vx||ra(),u=o.y+o.vy-i.y-i.vy||ra(),a*=c=((c=Math.sqrt(a*a+u*u))-d[s])/c*t*h[s],u*=c,o.vx-=a*(l=p[s]),o.vy-=u*l,i.vx+=a*(l=1-l),i.vy+=u*l}function i(){if(o){var t,n,e=o.length,r=f.length,i=to(o,u);for(t=0,a=new Array(e);t<r;++t)(n=f[t]).index=t,"object"!=typeof n.source&&(n.source=ga(i,n.source)),"object"!=typeof n.target&&(n.target=ga(i,n.target)),a[n.source.index]=(a[n.source.index]||0)+1,a[n.target.index]=(a[n.target.index]||0)+1;for(t=0,p=new Array(r);t<r;++t)n=f[t],p[t]=a[n.source.index]/(a[n.source.index]+a[n.target.index]);h=new Array(r),c(),d=new Array(r),l()}}function c(){if(o)for(var t=0,n=f.length;t<n;++t)h[t]=+e(f[t],t,f)}function l(){if(o)for(var t=0,n=f.length;t<n;++t)d[t]=+r(f[t],t,f)}return null==f&&(f=[]),n.initialize=function(t){o=t,i()},n.links=function(t){return arguments.length?(f=t,i(),n):f},n.id=function(t){return arguments.length?(u=t,n):u},n.iterations=function(t){return arguments.length?(g=+t,n):g},n.strength=function(t){return arguments.length?(e="function"==typeof t?t:ea(+t),c(),n):e},n.distance=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),l(),n):r},n},U.forceManyBody=function(){var i,c,l,s,r=ea(-30),f=1,h=1/0,d=.81;function n(t){var n,e=i.length,r=ca(i,va,ya).visitAfter(o);for(l=t,n=0;n<e;++n)c=i[n],r.visit(a)}function e(){if(i){var t,n,e=i.length;for(s=new Array(e),t=0;t<e;++t)n=i[t],s[n.index]=+r(n,t,i)}}function o(t){var n,e,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(a+=n.value,u+=e,r+=e*n.x,i+=e*n.y);t.x=r/u,t.y=i/u}else for((n=t).x=n.data.x,n.y=n.data.y;a+=s[n.data.index],n=n.next;);t.value=a}function a(t,n,e,r){if(!t.value)return!0;var i=t.x-c.x,o=t.y-c.y,a=r-n,u=i*i+o*o;if(a*a/d<u)return u<h&&(0===i&&(u+=(i=ra())*i),0===o&&(u+=(o=ra())*o),u<f&&(u=Math.sqrt(f*u)),c.vx+=i*t.value*l/u,c.vy+=o*t.value*l/u),!0;if(!(t.length||h<=u))for(t.data===c&&!t.next||(0===i&&(u+=(i=ra())*i),0===o&&(u+=(o=ra())*o),u<f&&(u=Math.sqrt(f*u)));t.data!==c&&(a=s[t.data.index]*l/u,c.vx+=i*a,c.vy+=o*a),t=t.next;);}return n.initialize=function(t){i=t,e()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),e(),n):r},n.distanceMin=function(t){return arguments.length?(f=t*t,n):Math.sqrt(f)},n.distanceMax=function(t){return arguments.length?(h=t*t,n):Math.sqrt(h)},n.theta=function(t){return arguments.length?(d=t*t,n):Math.sqrt(d)},n},U.forceRadial=function(e,c,l){var s,f,h,r=ea(.1);function n(t){for(var n=0,e=s.length;n<e;++n){var r=s[n],i=r.x-c||1e-6,o=r.y-l||1e-6,a=Math.sqrt(i*i+o*o),u=(h[n]-a)*f[n]*t/a;r.vx+=i*u,r.vy+=o*u}}function i(){if(s){var t,n=s.length;for(f=new Array(n),h=new Array(n),t=0;t<n;++t)h[t]=+e(s[t],t,s),f[t]=isNaN(h[t])?0:+r(s[t],t,s)}}return"function"!=typeof e&&(e=ea(+e)),null==c&&(c=0),null==l&&(l=0),n.initialize=function(t){s=t,i()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),i(),n):r},n.radius=function(t){return arguments.length?(e="function"==typeof t?t:ea(+t),i(),n):e},n.x=function(t){return arguments.length?(c=+t,n):c},n.y=function(t){return arguments.length?(l=+t,n):l},n},U.forceSimulation=function(s){var o,a=1,n=.001,u=1-Math.pow(n,1/300),c=0,l=.6,f=to(),t=ir(r),e=q("tick","end");function r(){i(),e.call("tick",o),a<n&&(t.stop(),e.call("end",o))}function i(t){var n,e,r=s.length;void 0===t&&(t=1);for(var i=0;i<t;++i)for(a+=(c-a)*u,f.each(function(t){t(a)}),n=0;n<r;++n)null==(e=s[n]).fx?e.x+=e.vx*=l:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=l:(e.y=e.fy,e.vy=0);return o}function h(){for(var t,n=0,e=s.length;n<e;++n){if((t=s[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(n),i=n*ma;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(s),t}return null==s&&(s=[]),h(),o={tick:i,restart:function(){return t.restart(r),o},stop:function(){return t.stop(),o},nodes:function(t){return arguments.length?(s=t,h(),f.each(d),o):s},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(n=+t,o):n},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(c=+t,o):c},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,n){return 1<arguments.length?(null==n?f.remove(t):f.set(t,d(n)),o):f.get(t)},find:function(t,n,e){var r,i,o,a,u,c=0,l=s.length;for(null==e?e=1/0:e*=e,c=0;c<l;++c)(o=(r=t-(a=s[c]).x)*r+(i=n-a.y)*i)<e&&(u=a,e=o);return u},on:function(t,n){return 1<arguments.length?(e.on(t,n),o):e.on(t)}}},U.forceX=function(e){var i,o,a,r=ea(.1);function n(t){for(var n,e=0,r=i.length;e<r;++e)(n=i[e]).vx+=(a[e]-n.x)*o[e]*t}function u(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof e&&(e=ea(null==e?0:+e)),n.initialize=function(t){i=t,u()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),u(),n):r},n.x=function(t){return arguments.length?(e="function"==typeof t?t:ea(+t),u(),n):e},n},U.forceY=function(e){var i,o,a,r=ea(.1);function n(t){for(var n,e=0,r=i.length;e<r;++e)(n=i[e]).vy+=(a[e]-n.y)*o[e]*t}function u(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof e&&(e=ea(null==e?0:+e)),n.initialize=function(t){i=t,u()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:ea(+t),u(),n):r},n.y=function(t){return arguments.length?(e="function"==typeof t?t:ea(+t),u(),n):e},n},U.formatDefaultLocale=La,U.formatLocale=Na,U.formatSpecifier=Aa,U.precisionFixed=Ra,U.precisionPrefix=Da,U.precisionRound=Oa,U.geoArea=function(t){return xu.reset(),du(t,_u),2*xu},U.geoBounds=function(t){var n,e,r,i,o,a,u;if(zu=Pu=-(Du=Ou=1/0),ju=[],du(t,ac),e=ju.length){for(ju.sort(gc),n=1,o=[r=ju[0]];n<e;++n)vc(r,(i=ju[n])[0])||vc(r,i[1])?(pc(r[0],i[1])>pc(r[0],r[1])&&(r[1]=i[1]),pc(i[0],r[1])>pc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=pc(r[1],i[0]))>a&&(a=u,Du=i[0],Pu=r[1])}return ju=qu=null,Du===1/0||Ou===1/0?[[NaN,NaN],[NaN,NaN]]:[[Du,Ou],[Pu,zu]]},U.geoCentroid=function(t){Hu=Gu=Yu=Vu=Xu=Wu=$u=Ku=Zu=Qu=Ju=0,du(t,yc);var n=Zu,e=Qu,r=Ju,i=n*n+e*e+r*r;return i<1e-12&&(n=Wu,e=$u,r=Ku,Gu<Ba&&(n=Yu,e=Vu,r=Xu),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[Wa(e,n)*Ga,ou(r/eu(i))*Ga]},U.geoCircle=function(){var r,i,o=Tc([0,0]),a=Tc(90),u=Tc(6),c={point:function(t,n){r.push(t=i(t,n)),t[0]*=Ga,t[1]*=Ga}};function n(){var t=o.apply(this,arguments),n=a.apply(this,arguments)*Ya,e=u.apply(this,arguments)*Ya;return r=[],i=Lc(-t[0]*Ya,-t[1]*Ya,0).invert,zc(c,n,e,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return n.center=function(t){return arguments.length?(o="function"==typeof t?t:Tc([+t[0],+t[1]]),n):o},n.radius=function(t){return arguments.length?(a="function"==typeof t?t:Tc(+t),n):a},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:Tc(+t),n):u},n},U.geoClipAntimeridian=Wc,U.geoClipCircle=$c,U.geoClipExtent=function(){var n,e,r,i=0,o=0,a=960,u=500;return r={stream:function(t){return n&&e===t?n:n=Qc(i,o,a,u)(e=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],u=+t[1][1],n=e=null,r):[[i,o],[a,u]]}}},U.geoClipRectangle=Qc,U.geoContains=function(t,n){return(t&&fl.hasOwnProperty(t.type)?fl[t.type]:dl)(t,n)},U.geoDistance=sl,U.geoGraticule=_l,U.geoGraticule10=function(){return _l()()},U.geoInterpolate=function(t,n){var e=t[0]*Ya,r=t[1]*Ya,i=n[0]*Ya,o=n[1]*Ya,a=$a(r),u=tu(r),c=$a(o),l=tu(o),s=a*$a(e),f=a*tu(e),h=c*$a(i),d=c*tu(i),p=2*ou(eu(au(o-r)+a*c*au(i-e))),g=tu(p),v=p?function(t){var n=tu(t*=p)/g,e=tu(p-t)/g,r=e*s+n*h,i=e*f+n*d,o=e*u+n*l;return[Wa(i,r)*Ga,Wa(o,eu(r*r+i*i))*Ga]}:function(){return[e*Ga,r*Ga]};return v.distance=p,v},U.geoLength=ul,U.geoPath=function(n,e){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),du(t,r(i))),i.result()}return a.area=function(t){return du(t,r(Cl)),Cl.result()},a.measure=function(t){return du(t,r(gs)),gs.result()},a.bounds=function(t){return du(t,r(Il)),Il.result()},a.centroid=function(t){return du(t,r(Ql)),Ql.result()},a.projection=function(t){return arguments.length?(r=null==t?(n=null,wl):(n=t).stream,a):n},a.context=function(t){return arguments.length?(i=null==t?(e=null,new ms):new cs(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(n).context(e)},U.geoAlbers=Fs,U.geoAlbersUsa=function(){var n,e,i,o,a,r,u=Fs(),c=zs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=zs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){r=[t,n]}};function f(t){var n=t[0],e=t[1];return r=null,i.point(n,e),r||(o.point(n,e),r)||(a.point(n,e),r)}function h(){return n=e=null,f}return f.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:u).invert(t)},f.stream=function(t){return n&&e===t?n:n=function(r){var i=r.length;return{point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}}}([u.stream(e=t),c.stream(t),l.stream(t)])},f.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),h()):u.precision()},f.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),l.scale(t),f.translate(u.translate())):u.scale()},f.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),e=+t[0],r=+t[1];return i=u.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(s),o=c.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+Ba,r+.12*n+Ba],[e-.214*n-Ba,r+.234*n-Ba]]).stream(s),a=l.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+Ba,r+.166*n+Ba],[e-.115*n-Ba,r+.234*n-Ba]]).stream(s),h()},f.fitExtent=function(t,n){return As(f,t,n)},f.fitSize=function(t,n){return Ms(f,t,n)},f.fitWidth=function(t,n){return ks(f,t,n)},f.fitHeight=function(t,n){return Es(f,t,n)},f.scale(1070)},U.geoAzimuthalEqualArea=function(){return Rs(Us).scale(124.75).clipAngle(179.999)},U.geoAzimuthalEqualAreaRaw=Us,U.geoAzimuthalEquidistant=function(){return Rs(js).scale(79.4188).clipAngle(179.999)},U.geoAzimuthalEquidistantRaw=js,U.geoConicConformal=function(){return Os(Ys).scale(109.5).parallels([30,30])},U.geoConicConformalRaw=Ys,U.geoConicEqualArea=zs,U.geoConicEqualAreaRaw=Ps,U.geoConicEquidistant=function(){return Os(Xs).scale(131.154).center([0,13.9389])},U.geoConicEquidistantRaw=Xs,U.geoEqualEarth=function(){return Rs(Js).scale(177.158)},U.geoEqualEarthRaw=Js,U.geoEquirectangular=function(){return Rs(Vs).scale(152.63)},U.geoEquirectangularRaw=Vs,U.geoGnomonic=function(){return Rs(tf).scale(144.049).clipAngle(60)},U.geoGnomonicRaw=tf,U.geoIdentity=function(){var n,e,r,i,o,a,u=1,c=0,l=0,s=1,f=1,h=wl,d=null,p=wl;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(p(o=t))},postclip:function(t){return arguments.length?(p=t,d=n=e=r=null,g()):p},clipExtent:function(t){return arguments.length?(p=null==t?(d=n=e=r=null,wl):Qc(d=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),g()):null==d?null:[[d,n],[e,r]]},scale:function(t){return arguments.length?(h=nf((u=+t)*s,u*f,c,l),g()):u},translate:function(t){return arguments.length?(h=nf(u*s,u*f,c=+t[0],l=+t[1]),g()):[c,l]},reflectX:function(t){return arguments.length?(h=nf(u*(s=t?-1:1),u*f,c,l),g()):s<0},reflectY:function(t){return arguments.length?(h=nf(u*s,u*(f=t?-1:1),c,l),g()):f<0},fitExtent:function(t,n){return As(a,t,n)},fitSize:function(t,n){return Ms(a,t,n)},fitWidth:function(t,n){return ks(a,t,n)},fitHeight:function(t,n){return Es(a,t,n)}}},U.geoProjection=Rs,U.geoProjectionMutator=Ds,U.geoMercator=function(){return Hs(qs).scale(961/Ha)},U.geoMercatorRaw=qs,U.geoNaturalEarth1=function(){return Rs(ef).scale(175.295)},U.geoNaturalEarth1Raw=ef,U.geoOrthographic=function(){return Rs(rf).scale(249.5).clipAngle(90+Ba)},U.geoOrthographicRaw=rf,U.geoStereographic=function(){return Rs(of).scale(250).clipAngle(142)},U.geoStereographicRaw=of,U.geoTransverseMercator=function(){var t=Hs(af),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},U.geoTransverseMercatorRaw=af,U.geoRotation=Pc,U.geoStream=du,U.geoTransform=function(t){return{stream:xs(t)}},U.cluster=function(){var u=uf,c=1,l=1,s=!1;function n(n){var e,r=0;n.eachAfter(function(t){var n=t.children;n?(t.x=function(t){return t.reduce(cf,0)/t.length}(n),t.y=function(t){return 1+t.reduce(lf,0)}(n)):(t.x=e?r+=u(t,e):0,t.y=0,e=t)});var t=function(t){for(var n;n=t.children;)t=n[0];return t}(n),i=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(n),o=t.x-u(t,i)/2,a=i.x+u(i,t)/2;return n.eachAfter(s?function(t){t.x=(t.x-n.x)*c,t.y=(n.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*c,t.y=(1-(n.y?t.y/n.y:1))*l})}return n.separation=function(t){return arguments.length?(u=t,n):u},n.size=function(t){return arguments.length?(s=!1,c=+t[0],l=+t[1],n):s?null:[c,l]},n.nodeSize=function(t){return arguments.length?(s=!0,c=+t[0],l=+t[1],n):s?[c,l]:null},n},U.hierarchy=ff,U.pack=function(){var n=null,e=1,r=1,i=Lf;function o(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Of(n)).eachAfter(Pf(i,.5)).eachBefore(zf(1)):t.eachBefore(Of(Df)).eachAfter(Pf(Lf,1)).eachAfter(Pf(i,t.r/Math.min(e,r))).eachBefore(zf(Math.min(e,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=function(t){return null==t?null:Nf(t)}(t),o):n},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:Rf(+t),o):i},o},U.packSiblings=function(t){return Cf(t),t},U.packEnclose=yf,U.partition=function(){var e=1,r=1,u=0,i=!1;function n(t){var n=t.height+1;return t.x0=t.y0=u,t.x1=e,t.y1=r/n,t.eachBefore(function(o,a){return function(t){t.children&&If(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var n=t.x0,e=t.y0,r=t.x1-u,i=t.y1-u;r<n&&(n=r=(n+r)/2),i<e&&(e=i=(e+i)/2),t.x0=n,t.y0=e,t.x1=r,t.y1=i}}(r,n)),i&&t.eachBefore(Ff),t}return n.round=function(t){return arguments.length?(i=!!t,n):i},n.size=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.padding=function(t){return arguments.length?(u=+t,n):u},n},U.stratify=function(){var f=jf,h=qf;function n(t){var n,e,r,i,o,a,u,c=t.length,l=new Array(c),s={};for(e=0;e<c;++e)n=t[e],o=l[e]=new gf(n),null!=(a=f(n,e,t))&&(a+="")&&(s[u="$"+(o.id=a)]=u in s?Uf:o);for(e=0;e<c;++e)if(o=l[e],null!=(a=h(t[e],e,t))&&(a+="")){if(!(i=s["$"+a]))throw new Error("missing: "+a);if(i===Uf)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=Bf,r.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(pf),r.parent=null,0<c)throw new Error("cycle");return r}return n.id=function(t){return arguments.length?(f=Nf(t),n):f},n.parentId=function(t){return arguments.length?(h=Nf(t),n):h},n},U.tree=function(){var b=Hf,l=1,s=1,f=null;function n(t){var n=function(t){for(var n,e,r,i,o,a=new Vf(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;0<=i;--i)u.push(e=n.children[i]=new Vf(r[i],i)),e.parent=n;return(a.parent=new Vf(null,0)).children=[a],a}(t);if(n.eachAfter(h),n.parent.m=-n.z,n.eachBefore(d),f)t.eachBefore(p);else{var e=t,r=t,i=t;t.eachBefore(function(t){t.x<e.x&&(e=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=e===r?1:b(e,r)/2,a=o-e.x,u=l/(r.x+o+a),c=s/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*u,t.y=t.depth*c})}return t}function h(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;0<=--o;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+b(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+b(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,i=t,o=t,a=n,u=i.parent.children[0],c=i.m,l=o.m,s=a.m,f=u.m;a=Yf(a),i=Gf(i),a&&i;)u=Gf(u),(o=Yf(o)).a=t,0<(r=a.z+s-i.z-c+b(a._,i._))&&(y=t,m=e,h=(v=a).a.parent===y.parent?v.a:m,void 0,g=(p=r)/((d=t).i-h.i),d.c-=g,d.s+=p,h.c+=g,d.z+=p,d.m+=p,c+=r,l+=r),s+=a.m,c+=i.m,f+=u.m,l+=o.m;a&&!Yf(o)&&(o.t=a,o.m+=s-l),i&&!Gf(u)&&(u.t=i,u.m+=c-f,e=t)}var h,d,p,g;var v,y,m;return e}(t,r,t.parent.A||e[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=l,t.y=t.depth*s}return n.separation=function(t){return arguments.length?(b=t,n):b},n.size=function(t){return arguments.length?(f=!1,l=+t[0],s=+t[1],n):f?null:[l,s]},n.nodeSize=function(t){return arguments.length?(f=!0,l=+t[0],s=+t[1],n):f?[l,s]:null},n},U.treemap=function(){var a=Kf,n=!1,e=1,r=1,u=[0],c=Lf,l=Lf,s=Lf,f=Lf,h=Lf;function i(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(o),u=[0],n&&t.eachBefore(Ff),t}function o(t){var n=u[t.depth],e=t.x0+n,r=t.y0+n,i=t.x1-n,o=t.y1-n;i<e&&(e=i=(e+i)/2),o<r&&(r=o=(r+o)/2),t.x0=e,t.y0=r,t.x1=i,t.y1=o,t.children&&(n=u[t.depth+1]=c(t)/2,e+=h(t)-n,r+=l(t)-n,(i-=s(t)-n)<e&&(e=i=(e+i)/2),(o-=f(t)-n)<r&&(r=o=(r+o)/2),a(t,e,r,i,o))}return i.round=function(t){return arguments.length?(n=!!t,i):n},i.size=function(t){return arguments.length?(e=+t[0],r=+t[1],i):[e,r]},i.tile=function(t){return arguments.length?(a=Nf(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(c="function"==typeof t?t:Rf(+t),i):c},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Rf(+t),i):l},i.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Rf(+t),i):s},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Rf(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Rf(+t),i):h},i},U.treemapBinary=function(t,n,e,r,i){var o,a,m=t.children,u=m.length,b=new Array(u+1);for(b[0]=a=o=0;o<u;++o)b[o+1]=a+=m[o].value;!function t(n,e,r,i,o,a,u){if(e-1<=n){var c=m[n];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var l=b[n],s=r/2+l,f=n+1,h=e-1;for(;f<h;){var d=f+h>>>1;b[d]<s?f=1+d:h=d}s-b[f-1]<b[f]-s&&n+1<f&&--f;var p=b[f]-l,g=r-p;if(u-o<a-i){var v=(i*g+a*p)/r;t(n,f,p,i,o,v,u),t(f,e,g,v,o,a,u)}else{var y=(o*g+u*p)/r;t(n,f,p,i,o,a,y),t(f,e,g,i,y,a,u)}}(0,u,t.value,n,e,r,i)},U.treemapDice=If,U.treemapSlice=Xf,U.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Xf:If)(t,n,e,r,i)},U.treemapSquarify=Kf,U.treemapResquarify=Zf,U.interpolate=ye,U.interpolateArray=se,U.interpolateBasis=Jn,U.interpolateBasisClosed=te,U.interpolateDate=fe,U.interpolateDiscrete=function(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}},U.interpolateHue=function(t,n){var e=re(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},U.interpolateNumber=he,U.interpolateObject=de,U.interpolateRound=me,U.interpolateString=ve,U.interpolateTransformCss=Se,U.interpolateTransformSvg=Te,U.interpolateZoom=Oe,U.interpolateRgb=ae,U.interpolateRgbBasis=ce,U.interpolateRgbBasisClosed=le,U.interpolateHsl=ze,U.interpolateHslLong=Fe,U.interpolateLab=function(n,t){var e=oe((n=On(n)).l,(t=On(t)).l),r=oe(n.a,t.a),i=oe(n.b,t.b),o=oe(n.opacity,t.opacity);return function(t){return n.l=e(t),n.a=r(t),n.b=i(t),n.opacity=o(t),n+""}},U.interpolateHcl=Be,U.interpolateHclLong=Ue,U.interpolateCubehelix=qe,U.interpolateCubehelixLong=He,U.piecewise=function(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}},U.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},U.path=Vi,U.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},U.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)n=u,u=t[r],c+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(c*=3),a/c]},U.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Qf),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Jf(r),a=Jf(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],l=[];for(n=o.length-1;0<=n;--n)l.push(t[r[o[n]][2]]);for(n=+u;n<a.length-c;++n)l.push(t[r[a[n]][2]]);return l},U.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],l=o[1],s=!1,f=0;f<i;++f)e=(o=t[f])[0],u<(r=o[1])!=u<l&&a<(c-e)*(u-r)/(l-r)+e&&(s=!s),c=e,l=r;return s},U.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],c+=Math.sqrt(n*n+e*e);return c},U.quadtree=ca,U.randomUniform=nh,U.randomNormal=eh,U.randomLogNormal=rh,U.randomBates=oh,U.randomIrwinHall=ih,U.randomExponential=ah,U.scaleBand=ph,U.scalePoint=function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(ph.apply(null,arguments).paddingInner(1))},U.scaleIdentity=function t(n){var e;function r(t){return isNaN(t=+t)?e:t}return(r.invert=r).domain=r.range=function(t){return arguments.length?(n=sh.call(t,gh),r):n.slice()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n).unknown(e)},n=arguments.length?sh.call(n,gh):[0,1],Eh(r)},U.scaleLinear=function t(){var n=Mh(yh,yh);return n.copy=function(){return wh(n,t())},uh.apply(n,arguments),Eh(n)},U.scaleLog=function t(){var n=Oh(Ah()).domain([1,10]);return n.copy=function(){return wh(n,t()).base(n.base())},uh.apply(n,arguments),n},U.scaleSymlog=function t(){var n=Fh(Ah());return n.copy=function(){return wh(n,t()).constant(n.constant())},uh.apply(n,arguments)},U.scaleOrdinal=dh,U.scaleImplicit=hh,U.scalePow=qh,U.scaleSqrt=function(){return qh.apply(null,arguments).exponent(.5)},U.scaleQuantile=function t(){var n,i=[],e=[],r=[];function o(){var t=0,n=Math.max(1,e.length);for(r=new Array(n-1);++t<n;)r[t-1]=x(i,t/n);return a}function a(t){return isNaN(t=+t)?n:e[g(r,t)]}return a.invertExtent=function(t){var n=e.indexOf(t);return n<0?[NaN,NaN]:[0<n?r[n-1]:i[0],n<r.length?r[n]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var n,e=0,r=t.length;e<r;++e)null==(n=t[e])||isNaN(n=+n)||i.push(n);return i.sort(u),o()},a.range=function(t){return arguments.length?(e=fh.call(t),o()):e.slice()},a.unknown=function(t){return arguments.length?(n=t,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(i).range(e).unknown(n)},uh.apply(a,arguments)},U.scaleQuantize=function t(){var n,e=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return t<=t?a[g(o,t,0,i)]:n}function c(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*e)/(i+1);return u}return u.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],c()):[e,r]},u.range=function(t){return arguments.length?(i=(a=fh.call(t)).length-1,c()):a.slice()},u.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:i<=n?[o[i-1],r]:[o[n-1],o[n]]},u.unknown=function(t){return arguments.length&&(n=t),u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([e,r]).range(a).unknown(n)},uh.apply(Eh(u),arguments)},U.scaleThreshold=function t(){var n,e=[.5],r=[0,1],i=1;function o(t){return t<=t?r[g(e,t,0,i)]:n}return o.domain=function(t){return arguments.length?(e=fh.call(t),i=Math.min(e.length,r.length-1),o):e.slice()},o.range=function(t){return arguments.length?(r=fh.call(t),i=Math.min(e.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t().domain(e).range(r).unknown(n)},uh.apply(o,arguments)},U.scaleTime=function(){return uh.apply(xg(bd,yd,rd,td,Qh,Kh,Wh,Vh,U.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},U.scaleUtc=function(){return uh.apply(xg(Gd,qd,Td,kd,Ad,_d,Wh,Vh,U.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},U.scaleSequential=function t(){var n=Eh(_g()(yh));return n.copy=function(){return wg(n,t())},ch.apply(n,arguments)},U.scaleSequentialLog=function t(){var n=Oh(_g()).domain([1,10]);return n.copy=function(){return wg(n,t()).base(n.base())},ch.apply(n,arguments)},U.scaleSequentialPow=Ag,U.scaleSequentialSqrt=function(){return Ag.apply(null,arguments).exponent(.5)},U.scaleSequentialSymlog=function t(){var n=Fh(_g());return n.copy=function(){return wg(n,t()).constant(n.constant())},ch.apply(n,arguments)},U.scaleSequentialQuantile=function t(){var i=[],n=yh;function o(t){if(!isNaN(t=+t))return n((g(i,t)-1)/(i.length-1))}return o.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var n,e=0,r=t.length;e<r;++e)null==(n=t[e])||isNaN(n=+n)||i.push(n);return i.sort(u),o},o.interpolator=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t(n).domain(i)},ch.apply(o,arguments)},U.scaleDiverging=function t(){var n=Eh(Mg()(yh));return n.copy=function(){return wg(n,t())},ch.apply(n,arguments)},U.scaleDivergingLog=function t(){var n=Oh(Mg()).domain([.1,1,10]);return n.copy=function(){return wg(n,t()).base(n.base())},ch.apply(n,arguments)},U.scaleDivergingPow=kg,U.scaleDivergingSqrt=function(){return kg.apply(null,arguments).exponent(.5)},U.scaleDivergingSymlog=function t(){var n=Fh(Mg());return n.copy=function(){return wg(n,t()).constant(n.constant())},ch.apply(n,arguments)},U.tickFormat=kh,U.schemeCategory10=Sg,U.schemeAccent=Tg,U.schemeDark2=Cg,U.schemePaired=Ng,U.schemePastel1=Lg,U.schemePastel2=Rg,U.schemeSet1=Dg,U.schemeSet2=Og,U.schemeSet3=Pg,U.interpolateBrBG=Ig,U.schemeBrBG=Fg,U.interpolatePRGn=Ug,U.schemePRGn=Bg,U.interpolatePiYG=qg,U.schemePiYG=jg,U.interpolatePuOr=Gg,U.schemePuOr=Hg,U.interpolateRdBu=Vg,U.schemeRdBu=Yg,U.interpolateRdGy=Wg,U.schemeRdGy=Xg,U.interpolateRdYlBu=Kg,U.schemeRdYlBu=$g,U.interpolateRdYlGn=Qg,U.schemeRdYlGn=Zg,U.interpolateSpectral=tv,U.schemeSpectral=Jg,U.interpolateBuGn=ev,U.schemeBuGn=nv,U.interpolateBuPu=iv,U.schemeBuPu=rv,U.interpolateGnBu=av,U.schemeGnBu=ov,U.interpolateOrRd=cv,U.schemeOrRd=uv,U.interpolatePuBuGn=sv,U.schemePuBuGn=lv,U.interpolatePuBu=hv,U.schemePuBu=fv,U.interpolatePuRd=pv,U.schemePuRd=dv,U.interpolateRdPu=vv,U.schemeRdPu=gv,U.interpolateYlGnBu=mv,U.schemeYlGnBu=yv,U.interpolateYlGn=xv,U.schemeYlGn=bv,U.interpolateYlOrBr=wv,U.schemeYlOrBr=_v,U.interpolateYlOrRd=Mv,U.schemeYlOrRd=Av,U.interpolateBlues=Ev,U.schemeBlues=kv,U.interpolateGreens=Tv,U.schemeGreens=Sv,U.interpolateGreys=Nv,U.schemeGreys=Cv,U.interpolatePurples=Rv,U.schemePurples=Lv,U.interpolateReds=Ov,U.schemeReds=Dv,U.interpolateOranges=zv,U.schemeOranges=Pv,U.interpolateCubehelixDefault=Fv,U.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Uv.h=360*t-100,Uv.s=1.5-1.5*n,Uv.l=.8-.9*n,Uv+""},U.interpolateWarm=Iv,U.interpolateCool=Bv,U.interpolateSinebow=function(t){var n;return t=(.5-t)*Math.PI,jv.r=255*(n=Math.sin(t))*n,jv.g=255*(n=Math.sin(t+qv))*n,jv.b=255*(n=Math.sin(t+Hv))*n,jv+""},U.interpolateViridis=Yv,U.interpolateMagma=Vv,U.interpolateInferno=Xv,U.interpolatePlasma=Wv,U.create=function(t){return Rt($(t).call(document.documentElement))},U.creator=$,U.local=Ot,U.matcher=tt,U.mouse=It,U.namespace=W,U.namespaces=X,U.clientPoint=Ft,U.select=Rt,U.selectAll=function(t){return"string"==typeof t?new Nt([document.querySelectorAll(t)],[document.documentElement]):new Nt([null==t?[]:t],Ct)},U.selection=Lt,U.selector=Z,U.selectorAll=J,U.style=ct,U.touch=Bt,U.touches=function(t,n){null==n&&(n=zt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Ft(t,n[e]);return i},U.window=ut,U.customEvent=St,U.arc=function(){var I=cy,B=ly,U=$v(0),j=null,q=sy,H=fy,G=hy,Y=null;function n(){var t,n,e=+I.apply(this,arguments),r=+B.apply(this,arguments),i=q.apply(this,arguments)-oy,o=H.apply(this,arguments)-oy,a=Kv(o-i),u=i<o;if(Y||(Y=t=Vi()),r<e&&(n=r,r=e,e=n),ry<r)if(ay-ry<a)Y.moveTo(r*Qv(i),r*ny(i)),Y.arc(0,0,r,i,o,!u),ry<e&&(Y.moveTo(e*Qv(o),e*ny(o)),Y.arc(0,0,e,o,i,u));else{var c,l,s=i,f=o,h=i,d=o,p=a,g=a,v=G.apply(this,arguments)/2,y=ry<v&&(j?+j.apply(this,arguments):ey(e*e+r*r)),m=ty(Kv(r-e)/2,+U.apply(this,arguments)),b=m,x=m;if(ry<y){var _=uy(y/e*ny(v)),w=uy(y/r*ny(v));(p-=2*_)>ry?(h+=_*=u?1:-1,d-=_):(p=0,h=d=(i+o)/2),(g-=2*w)>ry?(s+=w*=u?1:-1,f-=w):(g=0,s=f=(i+o)/2)}var A=r*Qv(s),M=r*ny(s),k=e*Qv(d),E=e*ny(d);if(ry<m){var S,T=r*Qv(f),C=r*ny(f),N=e*Qv(h),L=e*ny(h);if(a<iy&&(S=function(t,n,e,r,i,o,a,u){var c=e-t,l=r-n,s=a-i,f=u-o,h=f*c-s*l;if(!(h*h<ry))return[t+(h=(s*(n-o)-f*(t-i))/h)*c,n+h*l]}(A,M,N,L,T,C,k,E))){var R=A-S[0],D=M-S[1],O=T-S[0],P=C-S[1],z=1/ny(function(t){return 1<t?0:t<-1?iy:Math.acos(t)}((R*O+D*P)/(ey(R*R+D*D)*ey(O*O+P*P)))/2),F=ey(S[0]*S[0]+S[1]*S[1]);b=ty(m,(e-F)/(z-1)),x=ty(m,(r-F)/(1+z))}}ry<g?ry<x?(c=dy(N,L,A,M,r,x,u),l=dy(T,C,k,E,r,x,u),Y.moveTo(c.cx+c.x01,c.cy+c.y01),x<m?Y.arc(c.cx,c.cy,x,Zv(c.y01,c.x01),Zv(l.y01,l.x01),!u):(Y.arc(c.cx,c.cy,x,Zv(c.y01,c.x01),Zv(c.y11,c.x11),!u),Y.arc(0,0,r,Zv(c.cy+c.y11,c.cx+c.x11),Zv(l.cy+l.y11,l.cx+l.x11),!u),Y.arc(l.cx,l.cy,x,Zv(l.y11,l.x11),Zv(l.y01,l.x01),!u))):(Y.moveTo(A,M),Y.arc(0,0,r,s,f,!u)):Y.moveTo(A,M),ry<e&&ry<p?ry<b?(c=dy(k,E,T,C,e,-b,u),l=dy(A,M,N,L,e,-b,u),Y.lineTo(c.cx+c.x01,c.cy+c.y01),b<m?Y.arc(c.cx,c.cy,b,Zv(c.y01,c.x01),Zv(l.y01,l.x01),!u):(Y.arc(c.cx,c.cy,b,Zv(c.y01,c.x01),Zv(c.y11,c.x11),!u),Y.arc(0,0,e,Zv(c.cy+c.y11,c.cx+c.x11),Zv(l.cy+l.y11,l.cx+l.x11),u),Y.arc(l.cx,l.cy,b,Zv(l.y11,l.x11),Zv(l.y01,l.x01),!u))):Y.arc(0,0,e,d,h,u):Y.lineTo(k,E)}else Y.moveTo(0,0);if(Y.closePath(),t)return Y=null,t+""||null}return n.centroid=function(){var t=(+I.apply(this,arguments)+ +B.apply(this,arguments))/2,n=(+q.apply(this,arguments)+ +H.apply(this,arguments))/2-iy/2;return[Qv(n)*t,ny(n)*t]},n.innerRadius=function(t){return arguments.length?(I="function"==typeof t?t:$v(+t),n):I},n.outerRadius=function(t){return arguments.length?(B="function"==typeof t?t:$v(+t),n):B},n.cornerRadius=function(t){return arguments.length?(U="function"==typeof t?t:$v(+t),n):U},n.padRadius=function(t){return arguments.length?(j=null==t?null:"function"==typeof t?t:$v(+t),n):j},n.startAngle=function(t){return arguments.length?(q="function"==typeof t?t:$v(+t),n):q},n.endAngle=function(t){return arguments.length?(H="function"==typeof t?t:$v(+t),n):H},n.padAngle=function(t){return arguments.length?(G="function"==typeof t?t:$v(+t),n):G},n.context=function(t){return arguments.length?(Y=null==t?null:t,n):Y},n},U.area=by,U.line=my,U.pie=function(){var p=_y,g=xy,v=null,y=$v(0),m=$v(ay),b=$v(0);function n(e){var t,n,r,i,o,a=e.length,u=0,c=new Array(a),l=new Array(a),s=+y.apply(this,arguments),f=Math.min(ay,Math.max(-ay,m.apply(this,arguments)-s)),h=Math.min(Math.abs(f)/a,b.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=l[c[t]=t]=+p(e[t],t,e))&&(u+=o);for(null!=g?c.sort(function(t,n){return g(l[t],l[n])}):null!=v&&c.sort(function(t,n){return v(e[t],e[n])}),t=0,r=u?(f-a*d)/u:0;t<a;++t,s=i)n=c[t],i=s+(0<(o=l[n])?o*r:0)+d,l[n]={data:e[n],index:t,value:o,startAngle:s,endAngle:i,padAngle:h};return l}return n.value=function(t){return arguments.length?(p="function"==typeof t?t:$v(+t),n):p},n.sortValues=function(t){return arguments.length?(g=t,v=null,n):g},n.sort=function(t){return arguments.length?(v=t,g=null,n):v},n.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:$v(+t),n):y},n.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:$v(+t),n):m},n.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:$v(+t),n):b},n},U.areaRadial=Sy,U.radialArea=Sy,U.lineRadial=Ey,U.radialLine=Ey,U.pointRadial=Ty,U.linkHorizontal=function(){return Ry(Dy)},U.linkVertical=function(){return Ry(Oy)},U.linkRadial=function(){var t=Ry(Py);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},U.symbol=function(){var n=$v(zy),e=$v(64),r=null;function i(){var t;if(r||(r=t=Vi()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(n="function"==typeof t?t:$v(t),i):n},i.size=function(t){return arguments.length?(e="function"==typeof t?t:$v(+t),i):e},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},U.symbols=Jy,U.symbolCircle=zy,U.symbolCross=Fy,U.symbolDiamond=Uy,U.symbolSquare=Yy,U.symbolStar=Gy,U.symbolTriangle=Xy,U.symbolWye=Qy,U.curveBasisClosed=function(t){return new rm(t)},U.curveBasisOpen=function(t){return new im(t)},U.curveBasis=function(t){return new em(t)},U.curveBundle=am,U.curveCardinalClosed=fm,U.curveCardinalOpen=dm,U.curveCardinal=lm,U.curveCatmullRomClosed=mm,U.curveCatmullRomOpen=xm,U.curveCatmullRom=vm,U.curveLinearClosed=function(t){return new _m(t)},U.curveLinear=gy,U.curveMonotoneX=function(t){return new Em(t)},U.curveMonotoneY=function(t){return new Sm(t)},U.curveNatural=function(t){return new Cm(t)},U.curveStep=function(t){return new Lm(t,.5)},U.curveStepAfter=function(t){return new Lm(t,1)},U.curveStepBefore=function(t){return new Lm(t,0)},U.stack=function(){var f=$v([]),h=Dm,d=Rm,p=Om;function n(t){var n,e,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(n=0;n<o;++n){for(var u,c=r[n],l=a[n]=new Array(i),s=0;s<i;++s)l[s]=u=[0,+p(t[s],c,s,t)],u.data=t[s];l.key=c}for(n=0,e=h(a);n<o;++n)a[e[n]].index=n;return d(a,e),a}return n.keys=function(t){return arguments.length?(f="function"==typeof t?t:$v(Cy.call(t)),n):f},n.value=function(t){return arguments.length?(p="function"==typeof t?t:$v(+t),n):p},n.order=function(t){return arguments.length?(h=null==t?Dm:"function"==typeof t?t:$v(Cy.call(t)),n):h},n.offset=function(t){return arguments.length?(d=null==t?Rm:t,n):d},n},U.stackOffsetExpand=function(t,n){if(0<(r=t.length)){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Rm(t,n)}},U.stackOffsetDiverging=function(t,n){if(1<(u=t.length))for(var e,r,i,o,a,u,c=0,l=t[n[0]].length;c<l;++c)for(o=a=0,e=0;e<u;++e)0<=(i=(r=t[n[e]][c])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},U.stackOffsetNone=Rm,U.stackOffsetSilhouette=function(t,n){if(0<(e=t.length)){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Rm(t,n)}},U.stackOffsetWiggle=function(t,n){if(0<(i=t.length)&&0<(r=(e=t[n[0]]).length)){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,l=0;u<i;++u){for(var s=t[n[u]],f=s[a][1]||0,h=(f-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=f,l+=h*f}e[a-1][1]+=e[a-1][0]=o,c&&(o-=l/c)}e[a-1][1]+=e[a-1][0]=o,Rm(t,n)}},U.stackOrderAppearance=Pm,U.stackOrderAscending=Fm,U.stackOrderDescending=function(t){return Fm(t).reverse()},U.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Im),o=Pm(t),a=0,u=0,c=[],l=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],l.push(e));return l.reverse().concat(c)},U.stackOrderNone=Dm,U.stackOrderReverse=function(t){return Dm(t).reverse()},U.timeInterval=Yh,U.timeMillisecond=Vh,U.timeMilliseconds=Xh,U.utcMillisecond=Vh,U.utcMilliseconds=Xh,U.timeSecond=Wh,U.timeSeconds=$h,U.utcSecond=Wh,U.utcSeconds=$h,U.timeMinute=Kh,U.timeMinutes=Zh,U.timeHour=Qh,U.timeHours=Jh,U.timeDay=td,U.timeDays=nd,U.timeWeek=rd,U.timeWeeks=sd,U.timeSunday=rd,U.timeSundays=sd,U.timeMonday=id,U.timeMondays=fd,U.timeTuesday=od,U.timeTuesdays=hd,U.timeWednesday=ad,U.timeWednesdays=dd,U.timeThursday=ud,U.timeThursdays=pd,U.timeFriday=cd,U.timeFridays=gd,U.timeSaturday=ld,U.timeSaturdays=vd,U.timeMonth=yd,U.timeMonths=md,U.timeYear=bd,U.timeYears=xd,U.utcMinute=_d,U.utcMinutes=wd,U.utcHour=Ad,U.utcHours=Md,U.utcDay=kd,U.utcDays=Ed,U.utcWeek=Td,U.utcWeeks=Pd,U.utcSunday=Td,U.utcSundays=Pd,U.utcMonday=Cd,U.utcMondays=zd,U.utcTuesday=Nd,U.utcTuesdays=Fd,U.utcWednesday=Ld,U.utcWednesdays=Id,U.utcThursday=Rd,U.utcThursdays=Bd,U.utcFriday=Dd,U.utcFridays=Ud,U.utcSaturday=Od,U.utcSaturdays=jd,U.utcMonth=qd,U.utcMonths=Hd,U.utcYear=Gd,U.utcYears=Yd,U.timeFormatDefaultLocale=ug,U.timeFormatLocale=$d,U.isoFormat=lg,U.isoParse=sg,U.now=nr,U.timer=ir,U.timerFlush=or,U.timeout=lr,U.interval=function(e,r,i){var o=new rr,a=r;return null==r?o.restart(e,r,i):(r=+r,i=null==i?nr():+i,o.restart(function t(n){n+=a,o.restart(t,a+=r,i),e(n)},r,i)),o},U.transition=Nr,U.active=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>dr&&e.name===n)return new Cr([[t]],si,n,+r);return null},U.interrupt=Ar,U.voronoi=function(){var i=Um,o=jm,n=null;function e(r){return new bb(r.map(function(t,n){var e=[Math.round(i(t,n,r)/vb)*vb,Math.round(o(t,n,r)/vb)*vb];return e.index=n,e.data=t,e}),n)}return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(i="function"==typeof t?t:Bm(+t),e):i},e.y=function(t){return arguments.length?(o="function"==typeof t?t:Bm(+t),e):o},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},U.zoom=function(){var d,o,u=Sb,s=Tb,p=Rb,i=Nb,n=Lb,a=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Oe,l=[],e=q("start","zoom","end"),h=500,v=150,y=0;function m(t){t.property("__zoom",Cb).on("wheel.zoom",r).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(n).on("touchstart.zoom",S).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new wb(n,t.x,t.y)}function x(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new wb(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,c,l){t.on("start.zoom",function(){A(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=A(this,t),n=s.apply(this,t),i=l||_(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),e=this.__zoom,a="function"==typeof c?c.apply(this,t):c,u=f(e.invert(i).concat(o/e.k),a.invert(i).concat(o/a.k));return function(t){if(1===t)t=a;else{var n=u(t),e=o/n[2];t=new wb(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function A(t,n){for(var e,r=0,i=l.length;r<i;++r)if((e=l[r]).that===t)return e;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=s.apply(t,n)}function r(){if(u.apply(this,arguments)){var t=A(this,arguments),n=this.__zoom,e=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,i.apply(this,arguments)))),r=It(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],Ar(this),t.start()}Eb(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",p(x(b(n,e),t.mouse[0],t.mouse[1]),t.extent,g))}}function k(){if(!o&&u.apply(this,arguments)){var e=A(this,arguments),t=Rt(U.event.view).on("mousemove.zoom",function(){if(Eb(),!e.moved){var t=U.event.clientX-r,n=U.event.clientY-i;e.moved=y<t*t+n*n}e.zoom("mouse",p(x(e.that.__zoom,e.mouse[0]=It(e.that),e.mouse[1]),e.extent,g))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Ht(U.event.view,e.moved),Eb(),e.end()},!0),n=It(this),r=U.event.clientX,i=U.event.clientY;qt(U.event.view),kb(),e.mouse=[n,this.__zoom.invert(n)],Ar(this),e.start()}}function E(){if(u.apply(this,arguments)){var t=this.__zoom,n=It(this),e=t.invert(n),r=t.k*(U.event.shiftKey?.5:2),i=p(x(b(t,r),n,e),s.apply(this,arguments),g);Eb(),0<c?Rt(this).transition().duration(c).call(w,i,n):Rt(this).call(m.transform,i)}}function S(){if(u.apply(this,arguments)){var t,n,e,r,i=A(this,arguments),o=U.event.changedTouches,a=o.length;for(kb(),n=0;n<a;++n)r=[r=Bt(this,o,(e=o[n]).identifier),this.__zoom.invert(r),e.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(d&&(d=clearTimeout(d),!i.touch1))return i.end(),void((r=Rt(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(d=setTimeout(function(){d=null},h),Ar(this),i.start())}}function T(){var t,n,e,r,i=A(this,arguments),o=U.event.changedTouches,a=o.length;for(Eb(),d&&(d=clearTimeout(d)),t=0;t<a;++t)e=Bt(this,o,(n=o[t]).identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var u=i.touch0[0],c=i.touch0[1],l=i.touch1[0],s=i.touch1[1],f=(f=l[0]-u[0])*f+(f=l[1]-u[1])*f,h=(h=s[0]-c[0])*h+(h=s[1]-c[1])*h;n=b(n,Math.sqrt(f/h)),e=[(u[0]+l[0])/2,(u[1]+l[1])/2],r=[(c[0]+s[0])/2,(c[1]+s[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",p(x(n,e,r),i.extent,g))}function C(){var t,n,e=A(this,arguments),r=U.event.changedTouches,i=r.length;for(kb(),o&&clearTimeout(o),o=setTimeout(function(){o=null},h),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}return m.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Cb),t!==e?w(t,n):e.interrupt().each(function(){A(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},m.scaleBy=function(t,n){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},m.scaleTo=function(t,o){m.transform(t,function(){var t=s.apply(this,arguments),n=this.__zoom,e=_(t),r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return p(x(b(n,i),e,r),t,g)})},m.translateBy=function(t,n,e){m.transform(t,function(){return p(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),s.apply(this,arguments),g)})},m.translateTo=function(t,r,i){m.transform(t,function(){var t=s.apply(this,arguments),n=this.__zoom,e=_(t);return p(Ab.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)})},M.prototype={start:function(){return 1==++this.active&&(this.index=l.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(l.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){St(new _b(m,t,this.that.__zoom),e.apply,e,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:xb(+t),m):i},m.filter=function(t){return arguments.length?(u="function"==typeof t?t:xb(!!t),m):u},m.touchable=function(t){return arguments.length?(n="function"==typeof t?t:xb(!!t),m):n},m.extent=function(t){return arguments.length?(s="function"==typeof t?t:xb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):s},m.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],m):[a[0],a[1]]},m.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],m):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},m.constrain=function(t){return arguments.length?(p=t,m):p},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=e.on.apply(e,arguments);return t===e?m:t},m.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,m):Math.sqrt(y)},m},U.zoomTransform=Mb,U.zoomIdentity=Ab,Object.defineProperty(U,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";var e=[].slice,o={};function n(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(n){if(!n._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=a(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||o)}}(n)}catch(t){if(n._tasks[n._ended+n._active-1])u(n,t);else if(!n._data)throw t}}function a(e,r){return function(t,n){e._tasks[r]&&(--e._active,++e._ended,(e._tasks[r]=null)==e._error&&(null!=t?u(e,t):(e._data[r]=n,e._waiting?i(e):c(e))))}}function u(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;0<=--r;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,c(t)}function c(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function r(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new n(t)}n.prototype=r.prototype={constructor:n,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=e.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),i(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},c(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,c(this),this}},t.queue=r,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.topojson=t.topojson||{})}(this,function(t){"use strict";function n(t){return t}function p(t){var n,i=h(t.transform),o=1/0,a=o,u=-o,c=-o;function e(t){(t=i(t))[0]<o&&(o=t[0]),t[0]>u&&(u=t[0]),t[1]<a&&(a=t[1]),t[1]>c&&(c=t[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}for(n in t.arcs.forEach(function(t){for(var n,e=-1,r=t.length;++e<r;)(n=i(t[e],e))[0]<o&&(o=n[0]),n[0]>u&&(u=n[0]),n[1]<a&&(a=n[1]),n[1]>c&&(c=n[1])}),t.objects)r(t.objects[n]);return[o,a,u,c]}function o(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return e(n,t)})}:e(n,t)}var h=function(t){if(null==t)return n;var o,a,u=t.scale[0],c=t.scale[1],l=t.translate[0],s=t.translate[1];return function(t,n){n||(o=a=0);var e=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*u+l,i[1]=(a+=t[1])*c+s;e<r;)i[e]=t[e],++e;return i}},s=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e};function e(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=a(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function a(t,n){var o=h(t.transform),a=t.arcs;function i(t,n){n.length&&n.pop();for(var e=a[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(o(e[r],r));t<0&&s(n,i)}function u(t){return o(t)}function c(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function e(t){for(var n=c(t);n.length<4;)n.push(n[0]);return n}function l(t){return t.map(e)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=u(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(u);break;case"LineString":e=c(n.arcs);break;case"MultiLineString":e=n.arcs.map(c);break;case"Polygon":e=l(n.arcs);break;case"MultiPolygon":e=n.arcs.map(l);break;default:return null}return{type:r,coordinates:e}}(n)}function f(c,i){var o={},l={},s={},a=[],u=-1;function t(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}return i.forEach(function(t,n){var e,r=c.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(e=i[++u],i[u]=t,i[n]=e)}),i.forEach(function(t){var n,e,r=function(t){var n,e=c.arcs[t<0?~t:t],r=e[0];c.transform?(n=[0,0],e.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=e[e.length-1];return t<0?[n,r]:[r,n]}(t),i=r[0],o=r[1];if(n=s[i])if(delete s[n.end],n.push(t),n.end=o,e=l[o]){delete l[e.start];var a=e===n?n:n.concat(e);l[a.start=n.start]=s[a.end=e.end]=a}else l[n.start]=s[n.end]=n;else if(n=l[o])if(delete l[n.start],n.unshift(t),n.start=i,e=s[i]){delete s[e.end];var u=e===n?n:e.concat(n);l[u.start=e.start]=s[u.end=n.end]=u}else l[n.start]=s[n.end]=n;else l[(n=[t]).start=i]=s[n.end=o]=n}),t(s,l),t(l,s),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a}function r(t,n,e){var r,i,o;if(1<arguments.length)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":n.arcs.forEach(c)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:f(t,r)}}function i(u,t){var c={},e=[],r=[];function i(n){n.forEach(function(t){t.forEach(function(t){(c[t=t<0?~t:t]||(c[t]=[])).push(n)})}),e.push(n)}function l(t){return function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)}(a(u,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(function t(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"Polygon":i(n.arcs);break;case"MultiPolygon":n.arcs.forEach(i)}}),e.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,r.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),e.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(t){var n,e=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].length<2&&e.push(t)})})}),1<(n=(e=f(u,e)).length))for(var r,i,o=1,a=l(e[0]);o<n;++o)(r=l(e[o]))>a&&(i=e[0],e[0]=e[o],e[o]=i,a=r);return e})}}function g(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=1+i:r=i}return e}function v(t){if(null==t)return n;var u,c,l=t.scale[0],s=t.scale[1],f=t.translate[0],h=t.translate[1];return function(t,n){n||(u=c=0);var e=2,r=t.length,i=new Array(r),o=Math.round((t[0]-f)/l),a=Math.round((t[1]-h)/s);for(i[0]=o-u,u=o,i[1]=a-c,c=a;e<r;)i[e]=t[e],++e;return i}}function k(o,a,u,t,c,n){3===arguments.length&&(t=n=Array,c=null);for(var l=new t(o=1<<Math.max(4,Math.ceil(Math.log(o)/Math.LN2))),s=new n(o),f=o-1,e=0;e<o;++e)l[e]=c;return{set:function(t,n){for(var e=a(t)&f,r=l[e],i=0;r!=c;){if(u(r,t))return s[e]=n;if(++i>=o)throw new Error("full hashmap");r=l[e=e+1&f]}return l[e]=t,s[e]=n},maybeSet:function(t,n){for(var e=a(t)&f,r=l[e],i=0;r!=c;){if(u(r,t))return s[e];if(++i>=o)throw new Error("full hashmap");r=l[e=e+1&f]}return l[e]=t,s[e]=n},get:function(t,n){for(var e=a(t)&f,r=l[e],i=0;r!=c;){if(u(r,t))return s[e];if(++i>=o)break;r=l[e=e+1&f]}return n},keys:function(){for(var t=[],n=0,e=l.length;n<e;++n){var r=l[n];r!=c&&t.push(r)}return t}}}function E(t,n){return t[0]===n[0]&&t[1]===n[1]}function S(t){var n=c[0]^c[1];return 2147483647&(n=n<<5^n>>7^c[2]^c[3])}function y(t){var n,e,r,i,o=t.coordinates,a=t.lines,u=t.rings,c=function(){for(var t=k(1.4*o.length,_,w,Int32Array,-1,Int32Array),n=new Int32Array(o.length),e=0,r=o.length;e<r;++e)n[e]=t.maybeSet(e,e);return n}(),l=new Int32Array(o.length),s=new Int32Array(o.length),f=new Int32Array(o.length),h=new Int8Array(o.length),d=0;for(n=0,e=o.length;n<e;++n)l[n]=s[n]=f[n]=-1;for(n=0,e=a.length;n<e;++n){var p=a[n],g=p[0],v=p[1];for(r=c[g],i=c[++g],++d,h[r]=1;++g<=v;)x(n,r,r=i,i=c[g]);++d,h[i]=1}for(n=0,e=o.length;n<e;++n)l[n]=-1;for(n=0,e=u.length;n<e;++n){var y=u[n],m=y[0]+1,b=y[1];for(x(n,c[b-1],r=c[m-1],i=c[m]);++m<=b;)x(n,r,r=i,i=c[m])}function x(t,n,e,r){if(l[e]!==t){l[e]=t;var i=s[e];if(0<=i){var o=f[e];i===n&&o===r||i===r&&o===n||(++d,h[e]=1)}else s[e]=n,f[e]=r}}function _(t){return S(o[t])}function w(t,n){return E(o[t],o[n])}l=s=f=null;var A,M=function(i,o,a,t,u){3===arguments.length&&(t=Array,u=null);for(var c=new t(i=1<<Math.max(4,Math.ceil(Math.log(i)/Math.LN2))),l=i-1,n=0;n<i;++n)c[n]=u;return{add:function(t){for(var n=o(t)&l,e=c[n],r=0;e!=u;){if(a(e,t))return!0;if(++r>=i)throw new Error("full hashset");e=c[n=n+1&l]}return c[n]=t,!0},has:function(t){for(var n=o(t)&l,e=c[n],r=0;e!=u;){if(a(e,t))return!0;if(++r>=i)break;e=c[n=n+1&l]}return!1},values:function(){for(var t=[],n=0,e=c.length;n<e;++n){var r=c[n];r!=u&&t.push(r)}return t}}}(1.4*d,S,E);for(n=0,e=o.length;n<e;++n)h[A=c[n]]&&M.add(o[A]);return M}var u=new ArrayBuffer(16),c=new Uint32Array(u);function m(t,n,e,r){l(t,n,e),l(t,n,n+r),l(t,n+r,e)}function l(t,n,e){for(var r,i=n+(e---n>>1);n<i;++n,--e)r=t[n],t[n]=t[e],t[e]=r}function d(t){var n,e=b(t.geometry);for(n in null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),t.properties){e.properties=t.properties;break}return e}function b(t){if(null==t)return{type:null};var n="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(b)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(n.bbox=t.bbox),n}function x(t){var n,e=t[0],r=t[1];return r<e&&(n=e,e=r,r=n),e+31*r}function _(t,n){var e,r=t[0],i=t[1],o=n[0],a=n[1];return i<r&&(e=r,r=i,i=e),a<o&&(e=o,o=a,a=e),r===o&&i===a}function w(){return!0}function A(t){return t}function M(t){return null!=t.type}function T(t){var n,c=new Array(t.arcs.length),l=0;function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){for(var n=0,e=t.length;n<e;++n,++l)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];a<0&&(a=~a);var u=c[a];null==u?c[a]=l:u!==l&&(c[a]=-1)}}for(n in t.objects)e(t.objects[n]);return function(t){for(var n,e=0,r=t.length;e<r;++e)if(-1===c[(n=t[e])<0?~n:n])return!0;return!1}}function C(t){var n=t[0],e=t[1],r=t[2];return Math.abs((n[0]-r[0])*(e[1]-n[1])-(n[0]-e[0])*(r[1]-n[1]))/2}function N(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)/2}function L(e,r,i){return r=null==r?Number.MIN_VALUE:+r,null==i&&(i=N),function(t,n){return i(o(e,{type:"Polygon",arcs:[t]}).geometry.coordinates[0],n)>=r}}function R(t,n){return t[1][2]-n[1][2]}function D(t){return[t[0],t[1],0]}function O(t,n){return n-t}var P=Math.PI,z=2*P,F=P/4,I=P/180,B=Math.abs,U=Math.atan2,j=Math.cos,q=Math.sin;function H(t,n){for(var e,r,i=0,o=t.length,a=0,u=t[n?i++:o-1],c=u[0]*I,l=u[1]*I/2+F,s=j(l),f=q(l);i<o;++i){e=c,c=(u=t[i])[0]*I,l=u[1]*I/2+F,r=s,s=j(l);var h=c-e,d=0<=h?1:-1,p=d*h,g=f*(f=q(l)),v=r*s+g*j(p),y=g*d*q(p);a+=U(y,v)}return a}t.bbox=p,t.feature=o,t.mesh=function(t){return a(t,r.apply(this,arguments))},t.meshArcs=r,t.merge=function(t){return a(t,i.apply(this,arguments))},t.mergeArcs=i,t.neighbors=function(t){var r={},n=t.map(function(){return[]});function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function i(t,n){t.forEach(function(t){e(t,n)})}var o={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(t,n){t.forEach(function(t){i(t,n)})}};for(var a in t.forEach(function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){n(t,e)}):t.type in o&&o[t.type](t.arcs,e)}),r)for(var u=r[a],c=u.length,l=0;l<c;++l)for(var s=l+1;s<c;++s){var f,h=u[l],d=u[s];(f=n[h])[a=g(f,d)]!==d&&f.splice(a,0,d),(f=n[d])[a=g(f,h)]!==h&&f.splice(a,0,h)}return n},t.quantize=function(t,n){if(t.transform)throw new Error("already quantized");if(n&&n.scale)u=t.bbox;else{if(!(2<=(e=Math.floor(n))))throw new Error("n must be 2");var e,r=(u=t.bbox||p(t))[0],i=u[1],o=u[2],a=u[3];n={scale:[o-r?(o-r)/(e-1):1,a-i?(a-i)/(e-1):1],translate:[r,i]}}var u,c,l=v(n),s=t.objects,f={};function h(t){return l(t)}function d(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":n={type:"Point",coordinates:h(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(h)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}for(c in s)f[c]=d(s[c]);return{type:"Topology",bbox:u,transform:n,objects:f,arcs:t.arcs.map(function(t){var n,e=0,r=1,i=t.length,o=new Array(i);for(o[0]=l(t[0],0);++e<i;)((n=l(t[e],e))[0]||n[1])&&(o[r++]=n);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}},t.transform=h,t.untransform=v,t.topology=function(t,n){var e=function(t){var r=1/0,i=1/0,o=-1/0,a=-1/0;function n(t){null!=t&&e.hasOwnProperty(t.type)&&e[t.type](t)}var e={GeometryCollection:function(t){t.geometries.forEach(n)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){c(t.arcs)},MultiLineString:function(t){t.arcs.forEach(c)},Polygon:function(t){t.arcs.forEach(c)},MultiPolygon:function(t){t.arcs.forEach(l)}};function u(t){var n=t[0],e=t[1];n<r&&(r=n),o<n&&(o=n),e<i&&(i=e),a<e&&(a=e)}function c(t){t.forEach(u)}function l(t){t.forEach(c)}for(var s in t)n(t[s]);return r<=o&&i<=a?[r,i,o,a]:void 0}(t=function(t){var n,e,r={};for(n in t)r[n]=null==(e=t[n])?{type:null}:("FeatureCollection"===e.type?function(t){var n={type:"GeometryCollection",geometries:t.features.map(d)};null!=t.bbox&&(n.bbox=t.bbox);return n}:"Feature"===e.type?d:b)(e);return r}(t)),r=0<n&&e&&function(t,n,e){var f=n[0],h=n[1],r=n[2],i=n[3],d=r-f?(e-1)/(r-f):1,p=i-h?(e-1)/(i-h):1;function o(t){return[Math.round((t[0]-f)*d),Math.round((t[1]-h)*p)]}function a(t,n){for(var e,r,i,o,a,u=-1,c=0,l=t.length,s=new Array(l);++u<l;)e=t[u],o=Math.round((e[0]-f)*d),a=Math.round((e[1]-h)*p),o===r&&a===i||(s[c++]=[r=o,i=a]);for(s.length=c;c<n;)c=s.push([s[0][0],s[0][1]]);return s}function u(t){return a(t,2)}function c(t){return a(t,4)}function l(t){return t.map(c)}function s(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(s)},Point:function(t){t.coordinates=o(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(o)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=l(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};for(var v in t)s(t[v]);return{scale:[1/d,1/p],translate:[f,h]}}(t,e,n),i=function(t){var n,e,r,i,s=t.coordinates,o=t.lines,a=t.rings,u=o.length+a.length;for(delete t.lines,delete t.rings,r=0,i=o.length;r<i;++r)for(n=o[r];n=n.next;)++u;for(r=0,i=a.length;r<i;++r)for(e=a[r];e=e.next;)++u;var l=k(2*u*1.4,S,E),f=t.arcs=[];for(r=0,i=o.length;r<i;++r)for(n=o[r];c(n),n=n.next;);for(r=0,i=a.length;r<i;++r)if((e=a[r]).next)for(;c(e),e=e.next;);else h(e);function c(t){var n,e,r,i,o,a,u,c;if(r=l.get(n=s[t[0]]))for(u=0,c=r.length;u<c;++u)if(d(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(o=l.get(e=s[t[1]]))for(u=0,c=o.length;u<c;++u)if(p(a=o[u],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):l.set(n,[t]),o?o.push(t):l.set(e,[t]),f.push(t)}function h(t){var n,e,r,i,o;if(e=l.get(s[t[0]]))for(i=0,o=e.length;i<o;++i){if(g(r=e[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}if(e=l.get(n=s[t[0]+y(t)]))for(i=0,o=e.length;i<o;++i){if(g(r=e[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}e?e.push(t):l.set(n,[t]),f.push(t)}function d(t,n){var e=t[0],r=n[0],i=t[1];if(e-i!=r-n[1])return!1;for(;e<=i;++e,++r)if(!E(s[e],s[r]))return!1;return!0}function p(t,n){var e=t[0],r=n[0],i=t[1],o=n[1];if(e-i!=r-o)return!1;for(;e<=i;++e,--o)if(!E(s[e],s[o]))return!1;return!0}function g(t,n){var e=t[0],r=n[0],i=t[1]-e;if(i!=n[1]-r)return!1;for(var o=y(t),a=y(n),u=0;u<i;++u)if(!E(s[e+(u+o)%i],s[r+(u+a)%i]))return!1;return!0}function v(t,n){var e=t[0],r=n[0],i=t[1],o=n[1],a=i-e;if(a!=o-r)return!1;for(var u=y(t),c=a-y(n),l=0;l<a;++l)if(!E(s[e+(l+u)%a],s[o-(l+c)%a]))return!1;return!0}function y(t){for(var n=t[0],e=t[1],r=n,i=r,o=s[r];++r<e;){var a=s[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-n}return t}(function(t){var n,e,r,i=y(t),o=t.coordinates,a=t.lines,u=t.rings;for(e=0,r=a.length;e<r;++e)for(var c=a[e],l=c[0],s=c[1];++l<s;)i.has(o[l])&&(n={0:l,1:c[1]},c[1]=l,c=c.next=n);for(e=0,r=u.length;e<r;++e)for(var f=u[e],h=f[0],d=h,p=f[1],g=i.has(o[h]);++d<p;)i.has(o[d])&&(g?(n={0:d,1:f[1]},f[1]=d,f=f.next=n):(m(o,h,p,p-d),o[p]=o[h],g=!0,d=h));return t}(function(t){var i=-1,o=[],a=[],u=[];function n(t){t&&e.hasOwnProperty(t.type)&&e[t.type](t)}var e={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function r(t){for(var n=0,e=t.length;n<e;++n)u[++i]=t[n];var r={0:i-e+1,1:i};return o.push(r),r}function c(t){for(var n=0,e=t.length;n<e;++n)u[++i]=t[n];var r={0:i-e+1,1:i};return a.push(r),r}function l(t){return t.map(c)}for(var s in t)n(t[s]);return{type:"Topology",coordinates:u,lines:o,rings:a,objects:t}}(t))),o=i.coordinates,a=k(1.4*i.arcs.length,x,_);function u(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}t=i.objects,i.bbox=e,i.arcs=i.arcs.map(function(t,n){return a.set(t,n),o.slice(t[0],t[1]+1)}),delete i.coordinates,o=null;var c={GeometryCollection:function(t){t.geometries.forEach(u)},LineString:function(t){t.arcs=l(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(l)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};function l(t){var n=[];do{var e=a.get(t);n.push(t[0]<t[1]?e:~e)}while(t=t.next);return n}function s(t){return t.map(l)}for(var f in t)u(t[f]);return r&&(i.transform=r,i.arcs=function(t){for(var n=-1,e=t.length;++n<e;){for(var r,i,o=t[n],a=0,u=1,c=o.length,l=o[0],s=l[0],f=l[1];++a<c;)r=(l=o[a])[0],i=l[1],r===s&&i===f||(o[u++]=[r-s,i-f],s=r,f=i);1===u&&(o[u++]=[0,0]),o.length=u}return t}(i.arcs)),i},t.filter=function(t,n){var e,r=t.objects,i={};function o(t){var n,e;switch(t.type){case"Polygon":n=(e=a(t.arcs))?{type:"Polygon",arcs:e}:{type:null};break;case"MultiPolygon":n=(e=t.arcs.map(a).filter(A)).length?{type:"MultiPolygon",arcs:e}:{type:null};break;case"GeometryCollection":n=(e=t.geometries.map(o).filter(M)).length?{type:"GeometryCollection",geometries:e}:{type:null};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function a(t){return t.length&&function(t){return n(t,!1)}(t[0])?[t[0]].concat(t.slice(1).filter(u)):null}function u(t){return n(t,!0)}for(e in null==n&&(n=w),r)i[e]=o(r[e]);return function(t){var n,e,r=t.objects,i={},o=t.arcs,a=o.length,u=-1,c=new Array(a),l=0,s=-1;function f(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(f);break;case"LineString":d(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(d);break;case"MultiPolygon":t.arcs.forEach(p)}}function h(t){t<0&&(t=~t),c[t]||(c[t]=1,++l)}function d(t){t.forEach(h)}function p(t){t.forEach(d)}function g(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(g)};break;case"LineString":n={type:"LineString",arcs:y(t.arcs)};break;case"MultiLineString":n={type:"MultiLineString",arcs:t.arcs.map(y)};break;case"Polygon":n={type:"Polygon",arcs:t.arcs.map(y)};break;case"MultiPolygon":n={type:"MultiPolygon",arcs:t.arcs.map(m)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function v(t){return t<0?~c[~t]:c[t]}function y(t){return t.map(v)}function m(t){return t.map(y)}for(e in r)f(r[e]);for(n=new Array(l);++u<a;)c[u]&&(c[u]=++s,n[s]=o[u]);for(e in r)i[e]=g(r[e]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:n}}({type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:t.arcs})},t.filterAttached=T,t.filterAttachedWeight=function(t,n,e){var r=T(t),i=L(t,n,e);return function(t,n){return r(t,n)||i(t,n)}},t.filterWeight=L,t.planarRingArea=N,t.planarTriangleArea=C,t.presimplify=function(t,c){var l=t.transform?h(t.transform):D,s=function(){var t={},a=[],u=0;function r(t,n){for(;0<n;){var e=(n+1>>1)-1,r=a[e];if(0<=R(t,r))break;a[r._=n]=r,a[t._=n=e]=t}}function i(t,n){for(;;){var e=n+1<<1,r=e-1,i=n,o=a[i];if(r<u&&R(a[r],o)<0&&(o=a[i=r]),e<u&&R(a[e],o)<0&&(o=a[i=e]),i===n)break;a[o._=n]=o,a[t._=n=i]=t}}return t.push=function(t){return r(a[t._=u]=t,u++),u},t.pop=function(){if(!(u<=0)){var t,n=a[0];return 0<--u&&(t=a[u],i(a[t._=0]=t,0)),n}},t.remove=function(t){var n,e=t._;if(a[e]===t)return e!==--u&&(R(n=a[u],t)<0?r:i)(a[n._=e]=n,e),e},t}();null==c&&(c=C);var n=t.arcs.map(function(t){var n,e,r,i=[],o=0;for(e=1,r=(t=t.map(l)).length-1;e<r;++e)(n=[t[e-1],t[e],t[e+1]])[1][2]=c(n),i.push(n),s.push(n);for(t[0][2]=t[r][2]=1/0,e=0,r=i.length;e<r;++e)(n=i[e]).previous=i[e-1],n.next=i[e+1];for(;n=s.pop();){var a=n.previous,u=n.next;n[1][2]<o?n[1][2]=o:o=n[1][2],a&&(a.next=u,a[2]=n[2],f(a)),u&&(u.previous=a,u[0]=n[0],f(u))}return t});function f(t){s.remove(t),t[1][2]=c(t),s.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:n}},t.quantile=function(t,n){var e=[];return t.arcs.forEach(function(t){t.forEach(function(t){isFinite(t[2])&&e.push(t[2])})}),e.length&&function(t,n){if(!(e=t.length))return;if((n=+n)<=0||e<2)return t[0];if(1<=n)return t[e-1];var e,r=(e-1)*n,i=Math.floor(r),o=t[i],a=t[i+1];return o+(a-o)*(r-i)}(e.sort(O),n)},t.simplify=function(t,a){a=null==a?Number.MIN_VALUE:+a;var n=t.arcs.map(function(t){for(var n,e=-1,r=0,i=t.length,o=new Array(i);++e<i;)(n=t[e])[2]>=a&&(o[r++]=[n[0],n[1]]);return o.length=r,o});return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:n}},t.sphericalRingArea=function(t,n){var e=H(t,!0);return n&&(e*=-1),2*(e<0?z+e:e)},t.sphericalTriangleArea=function(t){return 2*B(H(t,!1))},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("d3-collection"),require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-collection","d3-selection"],n):(t.d3=t.d3||{},t.d3.tip=n(t.d3,t.d3))}(this,function(o,a){"use strict";return function(){var l=function(){return"n"},s=function(){return[0,0]},f=function(){return" "},h=document.body,n=t(),e=null,d=null,p=null;function g(t){(e=function(t){var n=t.node();return n?"svg"===n.tagName.toLowerCase()?n:n.ownerSVGElement:null}(t))&&(d=e.createSVGPoint(),h.appendChild(n))}g.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(p=t.pop());var n,e=f.apply(this,t),r=s.apply(this,t),i=l.apply(this,t),o=m(),a=y.length,u=document.documentElement.scrollTop||h.scrollTop,c=document.documentElement.scrollLeft||h.scrollLeft;for(o.html(e).style("opacity",1).style("pointer-events","all");a--;)o.classed(y[a],!1);return n=v.get(i).apply(this),o.classed(i,!0).style("top",n.top+r[0]+u+"px").style("left",n.left+r[1]+c+"px"),g},g.hide=function(){return m().style("opacity",0).style("pointer-events","none"),g},g.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return m().attr(t);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.attr.apply(m(),e),g},g.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return m().style(t);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.style.apply(m(),e),g},g.direction=function(t){return arguments.length?(l=null==t?t:i(t),g):l},g.offset=function(t){return arguments.length?(s=null==t?t:i(t),g):s},g.html=function(t){return arguments.length?(f=null==t?t:i(t),g):f},g.rootElement=function(t){return arguments.length?(h=null==t?t:i(t),g):h},g.destroy=function(){return n&&(m().remove(),n=null),g};var v=o.map({n:function(){var t=r(this);return{top:t.n.y-n.offsetHeight,left:t.n.x-n.offsetWidth/2}},s:function(){var t=r(this);return{top:t.s.y,left:t.s.x-n.offsetWidth/2}},e:function(){var t=r(this);return{top:t.e.y-n.offsetHeight/2,left:t.e.x}},w:function(){var t=r(this);return{top:t.w.y-n.offsetHeight/2,left:t.w.x-n.offsetWidth}},nw:function(){var t=r(this);return{top:t.nw.y-n.offsetHeight,left:t.nw.x-n.offsetWidth}},ne:function(){var t=r(this);return{top:t.ne.y-n.offsetHeight,left:t.ne.x}},sw:function(){var t=r(this);return{top:t.sw.y,left:t.sw.x-n.offsetWidth}},se:function(){var t=r(this);return{top:t.se.y,left:t.se.x}}}),y=v.keys();function t(){var t=a.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function m(){return null==n&&(n=t(),h.appendChild(n)),a.select(n)}function r(t){for(var n=p||t;null==n.getScreenCTM&&null!=n.parentNode;)n=n.parentNode;var e={},r=n.getScreenCTM(),i=n.getBBox(),o=i.width,a=i.height,u=i.x,c=i.y;return d.x=u,d.y=c,e.nw=d.matrixTransform(r),d.x+=o,e.ne=d.matrixTransform(r),d.y+=a,e.se=d.matrixTransform(r),d.x-=o,e.sw=d.matrixTransform(r),d.y-=a/2,e.w=d.matrixTransform(r),d.x+=o,e.e=d.matrixTransform(r),d.x-=o/2,d.y-=a/2,e.n=d.matrixTransform(r),d.y+=a,e.s=d.matrixTransform(r),e}function i(t){return"function"==typeof t?t:function(){return t}}return g}}),function(){function t(et,H){"use strict";var r,rt={version:"3.0.12",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};function i(t){return t||(t=rt.constants.DEFAULT_CHART_GROUP),r[t]||(r[t]=[]),t}rt.chartRegistry=(r={},{has:function(t){for(var n in r)if(0<=r[n].indexOf(t))return!0;return!1},register:function(t,n){n=i(n),r[n].push(t)},deregister:function(t,n){n=i(n);for(var e=0;e<r[n].length;e++)if(r[n][e].anchorName()===t.anchorName()){r[n].splice(e,1);break}},clear:function(t){t?delete r[t]:r={}},list:function(t){return t=i(t),r[t]}}),rt.registerChart=function(t,n){rt.chartRegistry.register(t,n)},rt.deregisterChart=function(t,n){rt.chartRegistry.deregister(t,n)},rt.hasChart=function(t){return rt.chartRegistry.has(t)},rt.deregisterAllCharts=function(t){rt.chartRegistry.clear(t)},rt.filterAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].filterAll()},rt.refocusAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].focus&&n[e].focus()},rt.renderAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].render();null!==rt._renderlet&&rt._renderlet(t)},rt.redrawAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].redraw();null!==rt._renderlet&&rt._renderlet(t)},rt.disableTransitions=!1,rt.transition=function(t,n,e,r){if(rt.disableTransitions||n<=0)return t;var i=t.transition(r);return(0<=n||void 0!==n)&&(i=i.duration(n)),(0<=e||void 0!==e)&&(i=i.delay(e)),i},rt.optionalTransition=function(t,n,e,r){return t?function(t){return rt.transition(t,n,e,r)}:function(t){return t}},rt.afterTransition=function(t,n){if(t.empty()||!t.duration)n.call(t);else{var e=0;t.each(function(){++e}).on("end",function(){--e||n.call(t)})}},rt.units={},rt.units.integers=function(t,n){return Math.abs(n-t)},rt.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},rt.units.fp={},rt.units.fp.precision=function(t){var r=function(t,n){var e=Math.abs((n-t)/r.resolution);return rt.utils.isNegligible(e-Math.floor(e))?Math.floor(e):Math.ceil(e)};return r.resolution=t,r},rt.round={},rt.round.floor=function(t){return Math.floor(t)},rt.round.ceil=function(t){return Math.ceil(t)},rt.round.round=function(t){return Math.round(t)},rt.override=function(t,n,e){var r=t[n];t["_"+n]=r,t[n]=e},rt.renderlet=function(t){return arguments.length?(rt._renderlet=t,rt):rt._renderlet},rt.instanceOfChart=function(t){return t instanceof Object&&t.__dcFlag__&&!0},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),e=n.length;0<=--e&&n.item(e)!==this;);return-1<e}),rt.errors={},rt.errors.Exception=function(t){var n=t||"Unexpected internal error";this.message=n,this.toString=function(){return n},this.stack=(new Error).stack},rt.errors.Exception.prototype=Object.create(Error.prototype),rt.errors.Exception.prototype.constructor=rt.errors.Exception,rt.errors.InvalidStateException=function(){rt.errors.Exception.apply(this,arguments)},rt.errors.InvalidStateException.prototype=Object.create(rt.errors.Exception.prototype),rt.errors.InvalidStateException.prototype.constructor=rt.errors.InvalidStateException,rt.errors.BadArgumentException=function(){rt.errors.Exception.apply(this,arguments)},rt.errors.BadArgumentException.prototype=Object.create(rt.errors.Exception.prototype),rt.errors.BadArgumentException.prototype.constructor=rt.errors.BadArgumentException,rt.dateFormat=et.timeFormat("%m/%d/%Y"),rt.printers={},rt.printers.filters=function(t){for(var n="",e=0;e<t.length;++e)0<e&&(n+=", "),n+=rt.printers.filter(t[e]);return n},rt.printers.filter=function(t){var n="";return null!=t&&(t instanceof Array?2<=t.length?n="["+t.map(function(t){return rt.utils.printSingleValue(t)}).join(" -> ")+"]":1<=t.length&&(n=rt.utils.printSingleValue(t[0])):n=rt.utils.printSingleValue(t)),n},rt.pluck=function(e,r){return r?function(t,n){return r.call(t,t[e],n)}:function(t){return t[e]}},rt.utils={},rt.utils.printSingleValue=function(t){var n=""+t;return t instanceof Date?n=rt.dateFormat(t):"string"==typeof t?n=t:rt.utils.isFloat(t)?n=rt.utils.printSingleValue.fformat(t):rt.utils.isInteger(t)&&(n=Math.round(t)),n},rt.utils.printSingleValue.fformat=et.format(".2f"),rt.utils.toTimeFunc=function(t){return"time"+t.charAt(0).toUpperCase()+t.slice(1)},rt.utils.add=function(t,n,e){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===e?new Date(t.getTime()+n):("function"!=typeof(e=e||et.timeDay)&&(e=et[rt.utils.toTimeFunc(e)]),e.offset(t,n));if("string"!=typeof n)return t+n;var r=+n/100;return 0<t?t*(1+r):t*(1-r)},rt.utils.subtract=function(t,n,e){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===e?new Date(t.getTime()-n):("function"!=typeof(e=e||et.timeDay)&&(e=et[rt.utils.toTimeFunc(e)]),e.offset(t,-n));if("string"!=typeof n)return t-n;var r=+n/100;return t<0?t*(1+r):t*(1-r)},rt.utils.isNumber=function(t){return t===+t},rt.utils.isFloat=function(t){return t===+t&&t!==(0|t)},rt.utils.isInteger=function(t){return t===+t&&t===(0|t)},rt.utils.isNegligible=function(t){return!rt.utils.isNumber(t)||t<rt.constants.NEGLIGIBLE_NUMBER&&t>-rt.constants.NEGLIGIBLE_NUMBER},rt.utils.clamp=function(t,n,e){return t<n?n:e<t?e:t},rt.utils.constant=function(t){return function(){return t}};var o,n,e,a,u,t=0;function d(t,n){for(var e=0;e<t.length;e++)if(t[e].key===n)return t[e]}function c(t){return[0,t.length-1]}function l(t){return[et.quantile(t,.25),et.quantile(t,.5),et.quantile(t,.75)]}return rt.utils.uniqueId=function(){return++t},rt.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},rt.utils.appendOrSelect=function(t,n,e){e=e||n;var r=t.select(n);return r.empty()&&(r=t.append(e)),r},rt.utils.safeNumber=function(t){return rt.utils.isNumber(+t)?+t:0},rt.utils.arraysEqual=function(t,e){return!t&&!e||!(!t||!e)&&(t.length===e.length&&t.every(function(t,n){return t.valueOf()===e[n].valueOf()}))},rt.utils.allChildren=function(t){var n=[];if(n.push(t.path),console.log("currentNode",t),t.children)for(var e=0;e<t.children.length;e++)n=n.concat(rt.utils.allChildren(t.children[e]));return n},rt.utils.toHierarchy=function(t,n){for(var e={key:"root",children:[]},r=0;r<t.length;r++)for(var i=t[r],o=i.key,a=n(i),u=e,c=0;c<o.length;c++){var l,s=o.slice(0,c+1),f=u.children,h=o[c];c+1<o.length?(void 0===(l=d(f,h))&&(l={key:h,children:[],path:s},f.push(l)),u=l):(l={key:h,value:a,data:i,path:s},f.push(l))}return e},rt.utils.getAncestors=function(t){for(var n=[],e=t;e.parent;)n.unshift(e.name),e=e.parent;return n},rt.utils.arraysIdentical=function(t,n){var e=t.length;if(e!==n.length)return!1;for(;e--;)if(t[e]!==n[e])return!1;return!0},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,n){if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!==i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},writable:!0,configurable:!0}),rt.logger=((o={enableDebugLog:!(n={}),warn:function(t){return console&&(console.warn?console.warn(t):console.log&&console.log(t)),o}}).warnOnce=function(t){return n[t]||(n[t]=!0,rt.logger.warn(t)),o},o.debug=function(t){return o.enableDebugLog&&console&&(console.debug?console.debug(t):console.log&&console.log(t)),o},o.deprecate=function(t,n){var e=!1;return function(){return e||(o.warn(n),e=!0),t.apply(this,arguments)}},o.annotate=function(t,n){var e=!1;return function(){return e||(console.groupCollapsed(n),console.trace(),console.groupEnd(),e=!0),t.apply(this,arguments)}},o),rt.config=(u=a=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],(e={}).defaultColors=function(t){return arguments.length?(u=t,e):(u===a&&rt.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),u)},e),rt.events={current:null},rt.events.trigger=function(t,n){n?(rt.events.current=t,setTimeout(function(){t===rt.events.current&&t()},n)):t()},rt.filters={},rt.filters.RangedFilter=function(t,n){var e=new Array(t,n);return e.isFiltered=function(t){return t>=this[0]&&t<this[1]},e.filterType="RangedFilter",e},rt.filters.TwoDimensionalFilter=function(t){if(null===t)return null;var n=t;return n.isFiltered=function(t){return t.length&&t.length===n.length&&t[0]===n[0]&&t[1]===n[1]},n.filterType="TwoDimensionalFilter",n},rt.filters.RangedTwoDimensionalFilter=function(t){if(null===t)return null;var r,n=t;return r=n[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-1/0],[t[1],1/0]],n.isFiltered=function(t){var n,e;return e=t instanceof Array?(n=t[0],t[1]):(n=t,r[0][1]),n>=r[0][0]&&n<r[1][0]&&e>=r[0][1]&&e<r[1][1]},n.filterType="RangedTwoDimensionalFilter",n},rt.filters.HierarchyFilter=function(t){if(null===t)return null;var e=t.slice(0);return e.isFiltered=function(t){if(!(e.length&&t&&t.length&&t.length>=e.length))return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},e},rt.baseMixin=function(r){var n,e,i,o,a,u;r.__dcFlag__=rt.utils.uniqueId();function c(t){var n=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return n&&g<n?n:g}function l(t){var n=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return n&&y<n?n:y}var s,f,h,d,p,g=200,v=c,y=200,m=l,b=!1,x=rt.pluck("key"),_=rt.pluck("value"),w=rt.pluck("key"),A=rt.pluck("key"),M=!1,k=function(t){return r.keyAccessor()(t)+": "+r.valueAccessor()(t)},E=!0,S=!1,T=750,C=0,N=rt.printers.filters,L=["dimension","group"],R=rt.constants.DEFAULT_CHART_GROUP,D=et.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),O=[],P=function(t,r){return 0===r.length?t.filter(null):1!==r.length||r[0].isFiltered?1===r.length&&"RangedFilter"===r[0].filterType?t.filterRange(r[0]):t.filterFunction(function(t){for(var n=0;n<r.length;n++){var e=r[n];if(e.isFiltered&&e.isFiltered(t))return!0;if(e<=t&&t<=e)return!0}return!1}):t.filterExact(r[0]),r},z=function(t){return t.all()};function F(){a&&(b?a.attr("viewBox")||a.attr("viewBox","0 0 "+r.width()+" "+r.height()):a.attr("width",r.width()).attr("height",r.height()))}function I(t){if(!r[t]||!r[t]())throw new rt.errors.InvalidStateException("Mandatory attribute chart."+t+" is missing on chart[#"+r.anchorName()+"]")}r.height=function(t){return arguments.length?(m=t?"function"==typeof t?t:rt.utils.constant(t):l,f=void 0,r):(rt.utils.isNumber(f)||(f=m(o.node())),f)},r.width=function(t){return arguments.length?(v=t?"function"==typeof t?t:rt.utils.constant(t):c,s=void 0,r):(rt.utils.isNumber(s)||(s=v(o.node())),s)},r.minWidth=function(t){return arguments.length?(g=t,r):g},r.minHeight=function(t){return arguments.length?(y=t,r):y},r.useViewBoxResizing=function(t){return arguments.length?(b=t,r):b},r.dimension=function(t){return arguments.length?(n=t,r.expireCache(),r):n},r.data=function(t){return arguments.length?(z="function"==typeof t?t:rt.utils.constant(t),r.expireCache(),r):z.call(r,e)},r.group=function(t,n){return arguments.length?(e=t,r._groupName=n,r.expireCache(),r):e},r.ordering=function(t){return arguments.length?(A=t,h=H.quicksort.by(A),r.expireCache(),r):A},r._computeOrderedGroups=function(t){var n=t.slice(0);return n.length<=1?n:(h||(h=H.quicksort.by(A)),h(n,0,n.length))},r.filterAll=function(){return r.filter(null)},r.select=function(t){return o.select(t)},r.selectAll=function(t){return o?o.selectAll(t):null},r.anchor=function(t,n){if(!arguments.length)return i;if(rt.instanceOfChart(t))(i=t.anchor()).children&&(i="#"+t.anchorName()),o=t.root(),u=!0;else{if(!t)throw new rt.errors.BadArgumentException("parent must be defined");i=t.select&&t.classed?t.node():t,(o=et.select(i)).classed(rt.constants.CHART_CLASS,!0),rt.registerChart(r,n),u=!1}return R=n,r},r.anchorName=function(){var t=r.anchor();return t&&t.id?t.id:t&&t.replace?t.replace("#",""):"dc-chart"+r.chartID()},r.root=function(t){return arguments.length?(o=t,r):o},r.svg=function(t){return arguments.length?(a=t,r):a},r.resetSvg=function(){return r.select("svg").remove(),a=r.root().append("svg"),F(),a},r.filterPrinter=function(t){return arguments.length?(N=t,r):N},r.controlsUseVisibility=function(t){return arguments.length?(S=t,r):S},r.turnOnControls=function(){if(o){var t=r.controlsUseVisibility()?"visibility":"display";r.selectAll(".reset").style(t,null),r.selectAll(".filter").text(N(r.filters())).style(t,null)}return r},r.turnOffControls=function(){if(o){var t=r.controlsUseVisibility()?"visibility":"display",n=r.controlsUseVisibility()?"hidden":"none";r.selectAll(".reset").style(t,n),r.selectAll(".filter").style(t,n).text(r.filter())}return r},r.transitionDuration=function(t){return arguments.length?(T=t,r):T},r.transitionDelay=function(t){return arguments.length?(C=t,r):C},r._mandatoryAttributes=function(t){return arguments.length?(L=t,r):L},r.render=function(){f=s=void 0,D.call("preRender",r,r),L&&L.forEach(I);var t=r._doRender();return d&&d.render(),r._activateRenderlets("postRender"),t},r._activateRenderlets=function(t){D.call("pretransition",r,r),0<r.transitionDuration()&&a?a.transition().duration(r.transitionDuration()).delay(r.transitionDelay()).on("end",function(){D.call("renderlet",r,r),t&&D.call(t,r,r)}):(D.call("renderlet",r,r),t&&D.call(t,r,r))},r.redraw=function(){F(),D.call("preRedraw",r,r);var t=r._doRedraw();return d&&d.render(),r._activateRenderlets("postRedraw"),t},r.commitHandler=function(t){return arguments.length?(p=t,r):p},r.redrawGroup=function(){return p?p(!1,function(t){t?console.log(t):rt.redrawAll(r.chartGroup())}):rt.redrawAll(r.chartGroup()),r},r.renderGroup=function(){return p?p(!1,function(t){t?console.log(t):rt.renderAll(r.chartGroup())}):rt.renderAll(r.chartGroup()),r},r._invokeFilteredListener=function(t){void 0!==t&&D.call("filtered",r,r,t)},r._invokeZoomedListener=function(){D.call("zoomed",r,r)};var B=function(t,n){return null==n?0<t.length:t.some(function(t){return n<=t&&t<=n})};r.hasFilterHandler=function(t){return arguments.length?(B=t,r):B},r.hasFilter=function(t){return B(O,t)};var U=function(t,n){for(var e=0;e<t.length;e++)if(t[e]<=n&&t[e]>=n){t.splice(e,1);break}return t};r.removeFilterHandler=function(t){return arguments.length?(U=t,r):U};var j=function(t,n){return t.push(n),t};r.addFilterHandler=function(t){return arguments.length?(j=t,r):j};var q=function(t){return[]};return r.resetFilterHandler=function(t){return arguments.length?(q=t,r):q},r.replaceFilter=function(t){return O=q(O),r.filter(t),r},r.filter=function(t){if(!arguments.length)return 0<O.length?O[0]:null;var n=O;return t instanceof Array&&t[0]instanceof Array&&!t.isFiltered?t[0].forEach(function(t){n=B(n,t)?U(n,t):j(n,t)}):n=null===t?q(n):B(n,t)?U(n,t):j(n,t),O=function(t){if(r.dimension()&&r.dimension().filter){var n=P(r.dimension(),t);n&&(t=n)}return t}(n),r._invokeFilteredListener(t),null!==o&&r.hasFilter()?r.turnOnControls():r.turnOffControls(),r},r.filters=function(){return O},r.highlightSelected=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!0),et.select(t).classed(rt.constants.DESELECTED_CLASS,!1)},r.fadeDeselected=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!1),et.select(t).classed(rt.constants.DESELECTED_CLASS,!0)},r.resetHighlight=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!1),et.select(t).classed(rt.constants.DESELECTED_CLASS,!1)},r.onClick=function(t){var n=r.keyAccessor()(t);rt.events.trigger(function(){r.filter(n),r.redrawGroup()})},r.filterHandler=function(t){return arguments.length?(P=t,r):P},r._doRender=function(){return r},r._doRedraw=function(){return r},r.legendables=function(){return[]},r.legendHighlight=function(){},r.legendReset=function(){},r.legendToggle=function(){},r.isLegendableHidden=function(){return!1},r.keyAccessor=function(t){return arguments.length?(x=t,r):x},r.valueAccessor=function(t){return arguments.length?(_=t,r):_},r.label=function(t,n){return arguments.length?(w=t,void 0!==n&&!n||(M=!0),r):w},r.renderLabel=function(t){return arguments.length?(M=t,r):M},r.title=function(t){return arguments.length?(k=t,r):k},r.renderTitle=function(t){return arguments.length?(E=t,r):E},r.renderlet=rt.logger.deprecate(function(t){return r.on("renderlet."+rt.utils.uniqueId(),t),r},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),r.chartGroup=function(t){return arguments.length?(u||rt.deregisterChart(r,R),R=t,u||rt.registerChart(r,R),r):R},r.expireCache=function(){return r},r.legend=function(t){return arguments.length?((d=t).parent(r),r):d},r.chartID=function(){return r.__dcFlag__},r.options=function(t){var n=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var e in t)"function"==typeof r[e]?t[e]instanceof Array&&-1!==n.indexOf(e)?r[e].apply(r,t[e]):r[e].call(r,t[e]):rt.logger.debug("Not a valid option setter name: "+e);return r},r.on=function(t,n){return D.on(t,n),r},r},rt.marginMixin=function(n){var e={top:10,right:50,bottom:30,left:30};return n.margins=function(t){return arguments.length?(e=t,n):e},n.effectiveWidth=function(){return n.width()-n.margins().left-n.margins().right},n.effectiveHeight=function(){return n.height()-n.margins().top-n.margins().bottom},n},rt.colorMixin=function(n){var e,r=et.scaleOrdinal(rt.config.defaultColors()),i=!0,o=function(t){return n.keyAccessor()(t)};return n.colors=function(t){return arguments.length?(r=t instanceof Array?et.scaleQuantize().range(t):"function"==typeof t?t:rt.utils.constant(t),n):r},n.ordinalColors=function(t){return n.colors(et.scaleOrdinal().range(t))},n.linearColors=function(t){return n.colors(et.scaleLinear().range(t).interpolate(et.interpolateHcl))},n.colorAccessor=function(t){return arguments.length?(o=t,i=!1,n):o},n.defaultColorAccessor=function(){return i},n.colorDomain=function(t){return arguments.length?(r.domain(t),n):r.domain()},n.calculateColorDomain=function(){var t=[et.min(n.data(),n.colorAccessor()),et.max(n.data(),n.colorAccessor())];return r.domain(t),n},n.getColor=function(t,n){return e?e.call(this,t,n):r(o.call(this,t,n))},n.colorCalculator=function(t){return arguments.length?(e=t,n):e||n.getColor},n},rt.coordinateGridMixin=function(u){var i,e,r,o,n,a,c="grid-line",l="horizontal",s="vertical",f="y-axis-label",h="x-axis-label",d="custom-brush-handle";(u=rt.colorMixin(rt.marginMixin(rt.baseMixin(u)))).colors(et.scaleOrdinal(et.schemeCategory10)),u._mandatoryAttributes().push("x");var p,g,v,y,m,b,t,x,_,w=et.axisBottom(),A=rt.units.integers,M=0,k=et.timeDay,E=!1,S=0,T=null,C=0,N=!1,L=0,R=et.brushX(),D=!0,O=!1,P=!1,z=!1,F=!1,I=[1,1/0],B=!0,U=et.zoom().on("zoom",function(){if(!et.event.sourceEvent)return;if(et.event.sourceEvent.type&&-1!==["start","zoom","end"].indexOf(et.event.sourceEvent.type))return;var t=et.event.transform.rescaleX(n).domain();u.focus(t,!1)}),j=et.zoom().on("zoom",null),q=!1,H=!1,G=0,Y=.5,V=0,X=!1;function W(t,n){u.isOrdinal()?(o.bandwidth||(rt.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),o=et.scaleBand().domain(o.domain())),!u.elasticX()&&0!==o.domain().length||o.domain(u._ordinalXDomain())):u.elasticX()&&o.domain([u.xAxisMin(),u.xAxisMax()]);var e=o.domain();!n&&rt.utils.arraysEqual(g,e)||u.rescale(),g=e,u.isOrdinal()?o.range([0,u.xAxisLength()]).paddingInner(V).paddingOuter(u._useOuterPadding()?Y:0):o.range([0,u.xAxisLength()]),w=w.scale(u.x()),function(t){var n=t.select("g."+s);if(z){n.empty()&&(n=t.insert("g",":first-child").attr("class",c+" "+s).attr("transform","translate("+u.margins().left+","+u.margins().top+")"));var e=w.tickValues()?w.tickValues():"function"==typeof o.ticks?o.ticks.apply(o,w.tickArguments()):o.domain(),r=n.selectAll("line").data(e),i=r.enter().append("line").attr("x1",function(t){return o(t)}).attr("y1",u._xAxisY()-u.margins().top).attr("x2",function(t){return o(t)}).attr("y2",0).attr("opacity",0);rt.transition(i,u.transitionDuration(),u.transitionDelay()).attr("opacity",.5),rt.transition(r,u.transitionDuration(),u.transitionDelay()).attr("x1",function(t){return o(t)}).attr("y1",u._xAxisY()-u.margins().top).attr("x2",function(t){return o(t)}).attr("y2",0),r.exit().remove()}else n.selectAll("line").remove()}(t)}function $(){return X?et.axisRight():et.axisLeft()}function K(){return u.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function Z(){var t=rt.utils.appendOrSelect(i,"defs"),n=K(),e=rt.utils.appendOrSelect(t,"#"+n,"clipPath").attr("id",n),r=2*G;rt.utils.appendOrSelect(e,"rect").attr("width",u.xAxisLength()+r).attr("height",u.yAxisHeight()+r).attr("transform","translate(-"+G+", -"+G+")")}function Q(t){u.isOrdinal()&&(D=!1),W(u.g(),t),u._prepareYAxis(u.g()),u.plotData(),(u.elasticX()||F||t)&&u.renderXAxis(u.g()),(u.elasticY()||F||t)&&u.renderYAxis(u.g()),t?u.renderBrush(u.g(),!1):u.redrawBrush(u.filter(),F),u.fadeDeselectedArea(u.filter()),F=!1}function J(t,n){var e;e=function(t){return t instanceof Array&&1<t.length}(t)?(u.x().domain(t),rt.filters.RangedFilter(t[0],t[1])):(u.x().domain(a),null),u.replaceFilter(e),u.rescale(),u.redraw(),n||(x&&!rt.utils.arraysEqual(u.filter(),x.filter())&&rt.events.trigger(function(){x.replaceFilter(e),x.redraw()}),u._invokeZoomedListener(),rt.events.trigger(function(){u.redrawGroup()},rt.constants.EVENT_DELAY))}function tt(){U&&U.transform(u.root(),function(t,n,e){var r=(n[1]-n[0])/(t[1]-t[0]),i=-1*e(t[0]);return et.zoomIdentity.scale(r).translate(i,0)}(u.x().domain(),a,n))}function nt(t,n){return t&&2===t.length&&n&&2===n.length?((t[0]>n[1]||t[1]<n[0])&&console.warn("Could not intersect extents, will reset"),[t[0]>n[0]?t[0]:n[0],t[1]<n[1]?t[1]:n[1]]):t}return u.rescale=function(){return F=!(t=void 0),u},u.resizing=function(){return F},u.rangeChart=function(t){return arguments.length?((x=t).focusChart(u),u):x},u.zoomScale=function(t){return arguments.length?(I=t,u):I},u.zoomOutRestrict=function(t){return arguments.length?(B=t,u):B},u._generateG=function(t){i=void 0===t?u.svg():t;var n=window.location.href.split("#")[0];return e=i.append("g"),r=e.append("g").attr("class","chart-body").attr("transform","translate("+u.margins().left+", "+u.margins().top+")").attr("clip-path","url("+n+"#"+K()+")"),e},u.g=function(t){return arguments.length?(e=t,u):e},u.mouseZoomable=function(t){return arguments.length?(H=t,u):H},u.chartBodyG=function(t){return arguments.length?(r=t,u):r},u.x=function(t){return arguments.length?(a=(o=t).domain(),u.rescale(),u):o},u.xOriginalDomain=function(){return a},u.xUnits=function(t){return arguments.length?(A=t,u):A},u.xAxis=function(t){return arguments.length?(w=t,u):w},u.elasticX=function(t){return arguments.length?(E=t,u):E},u.xAxisPadding=function(t){return arguments.length?(M=t,u):M},u.xAxisPaddingUnit=function(t){return arguments.length?(k=t,u):k},u.xUnitCount=function(){return void 0===t&&(u.isOrdinal()?t=u.x().domain().length:(t=u.xUnits()(u.x().domain()[0],u.x().domain()[1]))instanceof Array&&(t=t.length)),t},u.useRightYAxis=function(t){return arguments.length?(X!==t&&T&&rt.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),X=t,u):X},u.isOrdinal=function(){return u.xUnits()===rt.units.ordinal},u._useOuterPadding=function(){return!0},u._ordinalXDomain=function(){return u._computeOrderedGroups(u.data()).map(u.keyAccessor())},u.renderXAxis=function(t){var n=t.select("g.x");n.empty()&&(n=t.append("g").attr("class","axis x").attr("transform","translate("+u.margins().left+","+u._xAxisY()+")"));var e=t.select("text."+h);e.empty()&&u.xAxisLabel()&&(e=t.append("text").attr("class",h).attr("transform","translate("+(u.margins().left+u.xAxisLength()/2)+","+(u.height()-S)+")").attr("text-anchor","middle")),u.xAxisLabel()&&e.text()!==u.xAxisLabel()&&e.text(u.xAxisLabel()),rt.transition(n,u.transitionDuration(),u.transitionDelay()).attr("transform","translate("+u.margins().left+","+u._xAxisY()+")").call(w),rt.transition(e,u.transitionDuration(),u.transitionDelay()).attr("transform","translate("+(u.margins().left+u.xAxisLength()/2)+","+(u.height()-S)+")")},u._xAxisY=function(){return u.height()-u.margins().bottom},u.xAxisLength=function(){return u.effectiveWidth()},u.xAxisLabel=function(t,n){return arguments.length?(p=t,u.margins().bottom-=S,S=void 0===n?12:n,u.margins().bottom+=S,u):p},u._prepareYAxis=function(t){if(void 0===v||u.elasticY()){void 0===v&&(v=et.scaleLinear());var n=u.yAxisMin()||0,e=u.yAxisMax()||0;v.domain([n,e]).rangeRound([u.yAxisHeight(),0])}v.range([u.yAxisHeight(),0]),T||(T=$()),T.scale(v),u._renderHorizontalGridLinesForAxis(t,v,T)},u.renderYAxisLabel=function(t,n,e,r){r=r||L;var i=u.g().select("text."+f+"."+t+"-label"),o=u.margins().top+u.yAxisHeight()/2;i.empty()&&n&&(i=u.g().append("text").attr("transform","translate("+r+","+o+"),rotate("+e+")").attr("class",f+" "+t+"-label").attr("text-anchor","middle").text(n)),n&&i.text()!==n&&i.text(n),rt.transition(i,u.transitionDuration(),u.transitionDelay()).attr("transform","translate("+r+","+o+"),rotate("+e+")")},u.renderYAxisAt=function(t,n,e){var r=u.g().select("g."+t);r.empty()&&(r=u.g().append("g").attr("class","axis "+t).attr("transform","translate("+e+","+u.margins().top+")")),rt.transition(r,u.transitionDuration(),u.transitionDelay()).attr("transform","translate("+e+","+u.margins().top+")").call(n)},u.renderYAxis=function(){var t=X?u.width()-u.margins().right:u._yAxisX();u.renderYAxisAt("y",T,t);var n=X?u.width()-L:L,e=X?90:-90;u.renderYAxisLabel("y",u.yAxisLabel(),e,n)},u._renderHorizontalGridLinesForAxis=function(t,n,e){var r=t.select("g."+l);if(P){var i=e.tickValues()?e.tickValues():n.ticks?n.ticks.apply(n,e.tickArguments()):n.domain();r.empty()&&(r=t.insert("g",":first-child").attr("class",c+" "+l).attr("transform","translate("+u.margins().left+","+u.margins().top+")"));var o=r.selectAll("line").data(i),a=o.enter().append("line").attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",u.xAxisLength()).attr("y2",function(t){return n(t)}).attr("opacity",0);rt.transition(a,u.transitionDuration(),u.transitionDelay()).attr("opacity",.5),rt.transition(o,u.transitionDuration(),u.transitionDelay()).attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",u.xAxisLength()).attr("y2",function(t){return n(t)}),o.exit().remove()}else r.selectAll("line").remove()},u._yAxisX=function(){return u.useRightYAxis()?u.width()-u.margins().right:u.margins().left},u.yAxisLabel=function(t,n){return arguments.length?(y=t,u.margins().left-=L,L=void 0===n?12:n,u.margins().left+=L,u):y},u.y=function(t){return arguments.length?(v=t,u.rescale(),u):v},u.yAxis=function(t){return arguments.length?(T=t,u):(T||(T=$()),T)},u.elasticY=function(t){return arguments.length?(N=t,u):N},u.renderHorizontalGridLines=function(t){return arguments.length?(P=t,u):P},u.renderVerticalGridLines=function(t){return arguments.length?(z=t,u):z},u.xAxisMin=function(){var t=et.min(u.data(),function(t){return u.keyAccessor()(t)});return rt.utils.subtract(t,M,k)},u.xAxisMax=function(){var t=et.max(u.data(),function(t){return u.keyAccessor()(t)});return rt.utils.add(t,M,k)},u.yAxisMin=function(){var t=et.min(u.data(),function(t){return u.valueAccessor()(t)});return rt.utils.subtract(t,C)},u.yAxisMax=function(){var t=et.max(u.data(),function(t){return u.valueAccessor()(t)});return rt.utils.add(t,C)},u.yAxisPadding=function(t){return arguments.length?(C=t,u):C},u.yAxisHeight=function(){return u.effectiveHeight()},u.round=function(t){return arguments.length?(b=t,u):b},u._rangeBandPadding=function(t){return arguments.length?(V=t,u):V},u._outerRangeBandPadding=function(t){return arguments.length?(Y=t,u):Y},rt.override(u,"filter",function(t){return arguments.length?(u._filter(t),u.redrawBrush(t,!1),u):u._filter()}),u.brush=function(t){return arguments.length?(R=t,u):R},u.renderBrush=function(t,n){D&&(R.on("start brush end",u._brushing),m=t.append("g").attr("class","brush").attr("transform","translate("+u.margins().left+","+u.margins().top+")"),u.setBrushExtents(),u.createBrushHandlePaths(m,n),u.redrawBrush(u.filter(),n))},u.createBrushHandlePaths=function(t){var n=t.selectAll("path."+d).data([{type:"w"},{type:"e"}]);(n=n.enter().append("path").attr("class",d).merge(n)).attr("d",u.resizeHandlePath)},u.extendBrush=function(t){return t&&u.round()&&(t[0]=u.round()(t[0]),t[1]=u.round()(t[1])),t},u.brushIsEmpty=function(t){return!t||t[1]<=t[0]},u._brushing=function(){if(et.event.sourceEvent&&(!et.event.sourceEvent.type||-1===["start","brush","end"].indexOf(et.event.sourceEvent.type))){var t=et.event.selection;t&&(t=t.map(u.x().invert)),t=u.extendBrush(t),u.redrawBrush(t,!1);var n=u.brushIsEmpty(t)?null:rt.filters.RangedFilter(t[0],t[1]);rt.events.trigger(function(){u.applyBrushSelection(n)},rt.constants.EVENT_DELAY)}},u.applyBrushSelection=function(t){u.replaceFilter(t),u.redrawGroup()},u.setBrushExtents=function(t){R.extent([[0,0],[u.effectiveWidth(),u.effectiveHeight()]]),m.call(R)},u.redrawBrush=function(e,t){if(D&&m)if(F&&u.setBrushExtents(t),e){var n=[o(e[0]),o(e[1])],r=rt.optionalTransition(t,u.transitionDuration(),u.transitionDelay())(m);r.call(R.move,n),r.selectAll("path."+d).attr("display",null).attr("transform",function(t,n){return"translate("+o(e[n])+", 0)"}).attr("d",u.resizeHandlePath)}else m.call(R.move,null),m.selectAll("path."+d).attr("display","none");u.fadeDeselectedArea(e)},u.fadeDeselectedArea=function(t){},u.resizeHandlePath=function(t){var n=+("e"===(t=t.type)),e=n?1:-1,r=u.effectiveHeight()/3;return"M"+.5*e+","+r+"A6,6 0 0 "+n+" "+6.5*e+","+(6+r)+"V"+(2*r-6)+"A6,6 0 0 "+n+" "+.5*e+","+2*r+"ZM"+2.5*e+","+(8+r)+"V"+(2*r-8)+"M"+4.5*e+","+(8+r)+"V"+(2*r-8)},u.clipPadding=function(t){return arguments.length?(G=t,u):G},u._preprocessData=function(){},u._doRender=function(){return u.resetSvg(),u._preprocessData(),u._generateG(),Z(),Q(!0),n=o.copy(),H?u._enableMouseZoom():q&&u._disableMouseZoom(),u},u._doRedraw=function(){return u._preprocessData(),Q(!1),Z(),u},u._enableMouseZoom=function(){q=!0;var t=[[0,0],[u.effectiveWidth(),u.effectiveHeight()]];if(U.scaleExtent(I).extent(t).duration(u.transitionDuration()),B){var n=Math.max(I[0],1);U.translateExtent(t).scaleExtent([n,I[1]])}u.root().call(U),tt()},u._disableMouseZoom=function(){u.root().call(j)},u.focus=function(t,n){B&&(t=nt(t,a),x&&(t=nt(t,x.x().domain()))),J(t,n),tt()},u.refocused=function(){return!rt.utils.arraysEqual(u.x().domain(),a)},u.focusChart=function(t){return arguments.length?(_=t,u.on("filtered.dcjs-range-chart",function(t){t.filter()?rt.utils.arraysEqual(t.filter(),_.filter())||rt.events.trigger(function(){_.focus(t.filter(),!0)}):rt.events.trigger(function(){_.x().domain(_.xOriginalDomain(),!0)})}),u):_},u.brushOn=function(t){return arguments.length?(D=t,u):D},u.parentBrushOn=function(t){return arguments.length?(O=t,u):O},u.gBrush=function(){return m},u},rt.stackMixin=function(i){function e(e,t){var r=e.accessor||i.valueAccessor();e.name=String(e.name||t);var n=e.group.all().map(function(t,n){return{x:i.keyAccessor()(t,n),y:e.hidden?null:r(t,n),data:t,layer:e.name,hidden:e.hidden}});e.domainValues=n.filter(function(){if(!i.x())return rt.utils.constant(!0);var n=i.x().domain();if(i.isOrdinal())return function(){return!0};if(i.elasticX())return function(){return!0};return function(t){return t.x>=n[0]&&t.x<=n[n.length-1]}}()),e.values=i.evadeDomainFilter()?n:e.domainValues}var n=et.stack(),o=[],r={},a=!1,u=!1;function c(t){var n=o.map(rt.pluck("name")).indexOf(t);return o[n]}function l(){var t=i.data().map(function(t){return t.domainValues});return Array.prototype.concat.apply([],t)}function s(t){return!t.hidden}return i.stack=function(t,n,e){if(!arguments.length)return o;arguments.length<=2&&(e=n);var r={group:t};return"string"==typeof n&&(r.name=n),"function"==typeof e&&(r.accessor=e),o.push(r),i},rt.override(i,"group",function(t,n,e){return arguments.length?(o=[],r={},i.stack(t,n),e&&i.valueAccessor(e),i._group(t,n)):i._group()}),i.hidableStacks=function(t){return arguments.length?(a=t,i):a},i.hideStack=function(t){var n=c(t);return n&&(n.hidden=!0),i},i.showStack=function(t){var n=c(t);return n&&(n.hidden=!1),i},i.getValueAccessorByIndex=function(t){return o[t].accessor||i.valueAccessor()},i.yAxisMin=function(){var t=et.min(l(),function(t){return t.y<0?t.y+t.y0:t.y0});return rt.utils.subtract(t,i.yAxisPadding())},i.yAxisMax=function(){var t=et.max(l(),function(t){return 0<t.y?t.y+t.y0:t.y0});return rt.utils.add(t,i.yAxisPadding())},i.xAxisMin=function(){var t=et.min(l(),rt.pluck("x"));return rt.utils.subtract(t,i.xAxisPadding(),i.xAxisPaddingUnit())},i.xAxisMax=function(){var t=et.max(l(),rt.pluck("x"));return rt.utils.add(t,i.xAxisPadding(),i.xAxisPaddingUnit())},rt.override(i,"title",function(t,n){return t?"function"==typeof t?i._title(t):t===i._groupName&&"function"==typeof n?i._title(n):"function"!=typeof n?r[t]||i._title():(r[t]=n,i):i._title()}),i.stackLayout=function(t){return arguments.length?(n=t,i):n},i.evadeDomainFilter=function(t){return arguments.length?(u=t,i):u},i.data(function(){var r=o.filter(s);if(!r.length)return[];r.forEach(e);var t=r[0].values.map(function(t,n){var e={x:t.x};return r.forEach(function(t){e[t.name]=t.values[n].y}),e}),n=r.map(function(t){return t.name});return i.stackLayout().keys(n)(t).forEach(function(t,e){t.forEach(function(t,n){r[e].values[n].y0=t[0],r[e].values[n].y1=t[1]})}),r}),i._ordinalXDomain=function(){var t=l().map(rt.pluck("data"));return i._computeOrderedGroups(t).map(i.keyAccessor())},i.colorAccessor(function(t){return this.layer||this.name||t.name||t.layer}),i.legendables=function(){return o.map(function(t,n){return{chart:i,name:t.name,hidden:t.hidden||!1,color:i.getColor.call(t,t.values,n)}})},i.isLegendableHidden=function(t){var n=c(t.name);return!!n&&n.hidden},i.legendToggle=function(t){a&&(i.isLegendableHidden(t)?i.showStack(t.name):i.hideStack(t.name),i.renderGroup())},i},rt.capMixin=function(i){var o=1/0,a=!0,n="Others";i.ordering(function(t){return-t.value});var u=function(t,n){var e=et.sum(n,i.valueAccessor()),r=n.map(i.keyAccessor());return 0<e?t.concat([{others:r,key:i.othersLabel(),value:e}]):t};return i.cappedKeyAccessor=function(t,n){return t.others?t.key:i.keyAccessor()(t,n)},i.cappedValueAccessor=function(t,n){return t.others?t.value:i.valueAccessor()(t,n)},i.data(function(t){if(o===1/0)return i._computeOrderedGroups(t.all());var n,e=t.all();if(e=i._computeOrderedGroups(e),o)if(a)n=e.slice(o),e=e.slice(0,o);else{var r=Math.max(0,e.length-o);n=e.slice(0,r),e=e.slice(r)}return u?u(e,n):e}),i.cap=function(t){return arguments.length?(o=t,i):o},i.takeFront=function(t){return arguments.length?(a=t,i):a},i.othersLabel=function(t){return arguments.length?(n=t,i):n},i.othersGrouper=function(t){return arguments.length?(u=t,i):u},rt.override(i,"onClick",function(t){t.others&&i.filter([t.others]),i._onClick(t)}),i},rt.bubbleMixin=function(r){var n=.3,e=10,i=!1,o=!1;r.BUBBLE_NODE_CLASS="node",r.BUBBLE_CLASS="bubble",r.MIN_RADIUS=10,(r=rt.colorMixin(r)).renderLabel(!0),r.data(function(t){var n=t.all();if(i){var e=r.radiusValueAccessor();n.sort(function(t,n){return et.descending(e(t),e(n))})}return n});var a=et.scaleLinear().domain([0,100]),u=function(t){return t.r};r.r=function(t){return arguments.length?(a=t,r):a},r.elasticRadius=function(t){return arguments.length?(o=t,r):o},r.calculateRadiusDomain=function(){o&&r.r().domain([r.rMin(),r.rMax()])},r.radiusValueAccessor=function(t){return arguments.length?(u=t,r):u},r.rMin=function(){return et.min(r.data(),function(t){return r.radiusValueAccessor()(t)})},r.rMax=function(){return et.max(r.data(),function(t){return r.radiusValueAccessor()(t)})},r.bubbleR=function(t){var n=r.radiusValueAccessor()(t),e=r.r()(n);return(isNaN(e)||n<=0)&&(e=0),e};function c(t){return r.label()(t)}function l(t){return r.bubbleR(t)>e}function s(t){return l(t)?1:0}function f(t){return l(t)?"all":"none"}r._doRenderLabel=function(t){if(r.renderLabel()){var n=t.select("text");n.empty()&&(n=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",r.onClick)),n.attr("opacity",0).attr("pointer-events",f).text(c),rt.transition(n,r.transitionDuration(),r.transitionDelay()).attr("opacity",s)}},r.doUpdateLabels=function(t){if(r.renderLabel()){var n=t.select("text").attr("pointer-events",f).text(c);rt.transition(n,r.transitionDuration(),r.transitionDelay()).attr("opacity",s)}};function h(t){return r.title()(t)}return r._doRenderTitles=function(t){r.renderTitle()&&t.select("title").empty()&&t.append("title").text(h)},r.doUpdateTitles=function(t){r.renderTitle()&&t.select("title").text(h)},r.sortBubbleSize=function(t){return arguments.length?(i=t,r):i},r.minRadius=function(t){return arguments.length?(r.MIN_RADIUS=t,r):r.MIN_RADIUS},r.minRadiusWithLabel=function(t){return arguments.length?(e=t,r):e},r.maxBubbleRelativeSize=function(t){return arguments.length?(n=t,r):n},r.fadeDeselectedArea=function(t){r.hasFilter()?r.selectAll("g."+r.BUBBLE_NODE_CLASS).each(function(t){r.isSelectedNode(t)?r.highlightSelected(this):r.fadeDeselected(this)}):r.selectAll("g."+r.BUBBLE_NODE_CLASS).each(function(){r.resetHighlight(this)})},r.isSelectedNode=function(t){return r.hasFilter(t.key)},r.onClick=function(t){var n=t.key;rt.events.trigger(function(){r.filter(n),r.redrawGroup()})},r},rt.pieChart=function(t,n){var a,u,c,e,r,l,s="pie-slice",f="pie-label",h="pie-slice-group",d="pie-label-group",p="empty-chart",g="empty",i=0,o=0,v=.5,y=!1,m=rt.capMixin(rt.colorMixin(rt.baseMixin({})));function b(){var t=et.min([m.width(),m.height()])/2;a=u&&u<t?u:t;var n,e=A(),r=et.pie().sort(null).value(m.cappedValueAccessor);if(et.sum(m.data(),m.cappedValueAccessor)?(n=r(m.data()),c.classed(p,!1)):(n=r([{key:g,value:1,others:[g]}]),c.classed(p,!0)),c){var i=c.select("g."+h).selectAll("g."+s).data(n),o=c.select("g."+d).selectAll("text."+f).data(n);!function(t,n){t.exit().remove(),n.exit().remove()}(i,o),function(t,n,e,r){var i=function(t){return t.enter().append("g").attr("class",function(t,n){return s+" _"+n})}(t);(function(t,e){var n=t.append("path").attr("fill",E).on("click",S).attr("d",function(t,n){return T(t,n,e)}),r=rt.transition(n,m.transitionDuration(),m.transitionDelay());r.attrTween&&r.attrTween("d",k)})(i,e),function(t){m.renderTitle()&&t.append("title").text(function(t){return m.title()(t.data)})}(i),function(t,n,e){if(m.renderLabel()){x(t.enter().append("text").attr("class",function(t,n){var e=s+" "+f+" _"+n;return l&&(e+=" external"),e}).on("click",S).on("mouseover",function(t,n){_(n,!0)}).on("mouseout",function(t,n){_(n,!1)}),e),l&&y&&w(n,e)}}(n,r,e)}(i,o,e,n),function(t,n){(function(t,e){var n=c.selectAll("g."+s).data(t).select("path").attr("d",function(t,n){return T(t,n,e)}),r=rt.transition(n,m.transitionDuration(),m.transitionDelay());r.attrTween&&r.attrTween("d",k);r.attr("fill",E)})(t,n),function(t,n){if(m.renderLabel()){x(c.selectAll("text."+f).data(t),n),l&&y&&w(t,n)}}(t,n),function(t){m.renderTitle()&&c.selectAll("g."+s).data(t).select("title").text(function(t){return m.title()(t.data)})}(t)}(n,e),m.hasFilter()?m.selectAll("g."+s).each(function(t){M(t)?m.highlightSelected(this):m.fadeDeselected(this)}):m.selectAll("g."+s).each(function(){m.resetHighlight(this)}),rt.transition(c,m.transitionDuration(),m.transitionDelay()).attr("transform","translate("+m.cx()+","+m.cy()+")")}}function x(t,n){m._applyLabelText(t),rt.transition(t,m.transitionDuration(),m.transitionDelay()).attr("transform",function(t){return function(t,n){var e;e=l?et.arc().outerRadius(a-o+l).innerRadius(a-o+l).centroid(t):n.centroid(t);return isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(t,n)}).attr("text-anchor","middle")}function _(t,n){m.select("g.pie-slice._"+t).classed("highlight",n)}function w(t,r){var n=c.selectAll("polyline."+s).data(t);n.exit().remove(),n=n.enter().append("polyline").attr("class",function(t,n){return"pie-path _"+n+" "+s}).on("click",S).on("mouseover",function(t,n){_(n,!0)}).on("mouseout",function(t,n){_(n,!1)}).merge(n);var i=et.arc().outerRadius(a-o+l).innerRadius(a-o),e=rt.transition(n,m.transitionDuration(),m.transitionDelay());e.attrTween?e.attrTween("points",function(t){var n=this._current||t;n={startAngle:n.startAngle,endAngle:n.endAngle};var e=et.interpolate(n,t);return this._current=e(0),function(t){var n=e(t);return[r.centroid(n),i.centroid(n)]}}):e.attr("points",function(t){return[r.centroid(t),i.centroid(t)]}),e.style("visibility",function(t){return t.endAngle-t.startAngle<1e-4?"hidden":"visible"})}function A(){return et.arc().outerRadius(a-o).innerRadius(i)}function M(t){return m.hasFilter(m.cappedKeyAccessor(t.data))}function k(t){t.innerRadius=i;var n=this._current;n=function(t){return!t||isNaN(t.startAngle)||isNaN(t.endAngle)}(n)?{startAngle:0,endAngle:0}:{startAngle:n.startAngle,endAngle:n.endAngle};var e=et.interpolate(n,t);return this._current=e(0),function(t){return T(e(t),0,A())}}function E(t,n){return m.getColor(t.data,n)}function S(t,n){c.attr("class")!==p&&m.onClick(t.data,n)}function T(t,n,e){var r=e(t,n);return 0<=r.indexOf("NaN")&&(r="M0,0"),r}function C(n,e){m.selectAll("g.pie-slice").each(function(t){n.name===t.data.key&&et.select(this).classed("highlight",e)})}return m.colorAccessor(m.cappedKeyAccessor),m.title(function(t){return m.cappedKeyAccessor(t)+": "+m.cappedValueAccessor(t)}),m.slicesCap=m.cap,m.label(m.cappedKeyAccessor),m.renderLabel(!0),m.transitionDuration(350),m.transitionDelay(0),m._doRender=function(){return m.resetSvg(),(c=m.svg().append("g").attr("transform","translate("+m.cx()+","+m.cy()+")")).append("g").attr("class",h),c.append("g").attr("class",d),b(),m},m._applyLabelText=function(t){t.text(function(t){return!function(t){return 0===m.cappedValueAccessor(t)}(t.data)&&!function(t){var n=t.endAngle-t.startAngle;return isNaN(n)||n<v}(t)||M(t)?m.label()(t.data):""})},m.externalRadiusPadding=function(t){return arguments.length?(o=t,m):o},m.innerRadius=function(t){return arguments.length?(i=t,m):i},m.radius=function(t){return arguments.length?(u=t,m):u},m.cx=function(t){return arguments.length?(e=t,m):e||m.width()/2},m.cy=function(t){return arguments.length?(r=t,m):r||m.height()/2},m._doRedraw=function(){return b(),m},m.minAngleForLabel=function(t){return arguments.length?(v=t,m):v},m.emptyTitle=function(t){return 0===arguments.length?g:(g=t,m)},m.externalLabels=function(t){return 0===arguments.length?l:(l=t||void 0,m)},m.drawPaths=function(t){return 0===arguments.length?y:(y=t,m)},m.legendables=function(){return m.data().map(function(t,n){var e={name:t.key,data:t.value,others:t.others,chart:m};return e.color=m.getColor(t,n),e})},m.legendHighlight=function(t){C(t,!0)},m.legendReset=function(t){C(t,!1)},m.legendToggle=function(t){m.onClick({key:t.name,others:t.others})},m.anchor(t,n)},rt.sunburstChart=function(t,n){var i,o,a,e,r,u,c="pie-slice",l="empty-chart",s="empty",f=0,h=.5,d=rt.capMixin(rt.colorMixin(rt.baseMixin({})));function p(t){return t.path?t.value:d.cappedValueAccessor(t)}function g(){var t=et.min([d.width(),d.height()])/2;i=o&&o<t?o:t;var n,e=y();if(et.sum(d.data(),d.valueAccessor())?((n=m(rt.utils.toHierarchy(d.data(),d.valueAccessor()))).shift(),a.classed(l,!1)):(n=m(rt.utils.toHierarchy([],function(t){return t.value})),a.classed(l,!0)),a){var r=a.selectAll("g."+c).data(n);!function(t,n,e){var r=function(t){return t.enter().append("g").attr("class",function(t,n){return c+" _"+n+" "+c+"-level-"+t.depth})}(t);(function(t,n){var e=t.append("path").attr("fill",x).on("click",w).attr("d",function(t){return A(n,t)}),r=rt.transition(e,d.transitionDuration());r.attrTween&&r.attrTween("d",b)})(r,n),function(t){d.renderTitle()&&t.append("title").text(function(t){return d.title()(t)})}(r),function(t,n){if(d.renderLabel()){var e=a.selectAll("text."+c).data(t);e.exit().remove(),v(e.enter().append("text").attr("class",function(t,n){var e=c+" _"+n;return u&&(e+=" external"),e}).on("click",w),n)}}(e,n)}(r,e,n),function(t,n){(function(t,n){var e=a.selectAll("g."+c).data(t).select("path").attr("d",function(t){return A(n,t)}),r=rt.transition(e,d.transitionDuration());r.attrTween&&r.attrTween("d",b);r.attr("fill",x)})(t,n),function(t,n){if(d.renderLabel()){v(a.selectAll("text."+c).data(t),n)}}(t,n),function(t){d.renderTitle()&&a.selectAll("g."+c).data(t).select("title").text(function(t){return d.title()(t)})}(t)}(n,e),function(t){t.exit().remove()}(r),d.hasFilter()?d.selectAll("g."+c).each(function(t){!function(t){return function(t){for(var n=0;n<d.filters().length;n++)if(d.filters()[n].isFiltered(t))return!0;return!1}(t.path)}(t)?d.fadeDeselected(this):d.highlightSelected(this)}):d.selectAll("g."+c).each(function(){d.resetHighlight(this)}),rt.transition(a,d.transitionDuration(),d.transitionDelay()).attr("transform","translate("+d.cx()+","+d.cy()+")")}}function v(t,n){rt.transition(t,d.transitionDuration()).attr("transform",function(t){return function(t,n){var e;e=u?et.svg.arc().outerRadius(i+u).innerRadius(i+u).centroid(t):n.centroid(t);return isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(t,n)}).attr("text-anchor","middle").text(function(t){return function(t){return 0===p(t)}(t)||function(t){var n=t.x1-t.x0;return isNaN(n)||n<h}(t)?"":d.label()(t)})}function y(){return et.arc().startAngle(function(t){return t.x0}).endAngle(function(t){return t.x1}).innerRadius(function(t){return t.data.path&&1===t.data.path.length?f:Math.sqrt(t.y0)}).outerRadius(function(t){return Math.sqrt(t.y1)})}function m(t){var n=et.hierarchy(t).sum(function(t){return t.children?0:p(t)}).sort(function(t,n){return et.ascending(t.data.path,n.data.path)});return et.partition().size([2*Math.PI,i*i])(n),n.descendants().map(function(t){return t.key=t.data.key,t.path=t.data.path,t})}function b(n){var t=this._current;!function(t){return!t||isNaN(t.x0)||isNaN(t.y0)}(t)||(t={x0:0,x1:0,y0:0,y1:0});var e={x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1},r=et.interpolate(t,e);return this._current=r(0),function(t){return A(y(),Object.assign({},n,r(t)))}}function x(t,n){return d.getColor(t.data,n)}function _(t){for(var n=t.path||t.key,e=rt.filters.HierarchyFilter(n),r=function(t){for(var n=rt.filters.HierarchyFilter(t),e=[],r=0;r<d.filters().length;r++){var i=d.filters()[r];(i.isFiltered(t)||n.isFiltered(i))&&e.push(i)}return e}(n),i=!1,o=r.length-1;0<=o;o--){var a=r[o];rt.utils.arraysIdentical(a,n)&&(i=!0),d.filter(r[o])}rt.events.trigger(function(){i||d.filter(e),d.redrawGroup()})}function w(t,n){a.attr("class")!==l&&_(t)}function A(t,n){var e=t(n);return 0<=e.indexOf("NaN")&&(e="M0,0"),e}function M(n,e){d.selectAll("g.pie-slice").each(function(t){n.name===t.key&&et.select(this).classed("highlight",e)})}return d.colorAccessor(d.cappedKeyAccessor),d.title(function(t){return d.cappedKeyAccessor(t)+": "+p(t)}),d.label(d.cappedKeyAccessor),d.renderLabel(!0),d.transitionDuration(350),d.filterHandler(function(t,r){return 0===r.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<r.length;n++){var e=r[n];if(e.isFiltered&&e.isFiltered(t))return!0}return!1}),r}),d._doRender=function(){return d.resetSvg(),a=d.svg().append("g").attr("transform","translate("+d.cx()+","+d.cy()+")"),g(),d},d.innerRadius=function(t){return arguments.length?(f=t,d):f},d.radius=function(t){return arguments.length?(o=t,d):o},d.cx=function(t){return arguments.length?(e=t,d):e||d.width()/2},d.cy=function(t){return arguments.length?(r=t,d):r||d.height()/2},d.minAngleForLabel=function(t){return arguments.length?(h=t,d):h},d.emptyTitle=function(t){return 0===arguments.length?s:(s=t,d)},d.externalLabels=function(t){return 0===arguments.length?u:(u=t||void 0,d)},d._doRedraw=function(){return g(),d},d.onClick=w,d.legendables=function(){return d.data().map(function(t,n){var e={name:t.key,data:t.value,others:t.others,chart:d};return e.color=d.getColor(t,n),e})},d.legendHighlight=function(t){M(t,!0)},d.legendReset=function(t){M(t,!1)},d.legendToggle=function(t){d.onClick({key:t.name,others:t.others})},d.anchor(t,n)},rt.barChart=function(t,n){var a,e=3,u=rt.stackMixin(rt.coordinateGridMixin({})),i=2,r=!1,o=!1;function c(t){return rt.utils.safeNumber(Math.abs(u.y()(t.y+t.y0)-u.y()(t.y0)))}function l(t){var n=u.x()(t.x);return r||(n+=a/2),u.isOrdinal()&&void 0!==i&&(n+=i/2),rt.utils.safeNumber(n)}function s(t){var n=u.y()(t.y+t.y0);return t.y<0&&(n-=c(t)),rt.utils.safeNumber(n-e)}function f(t){var n=u.x()(t.x);return r&&(n-=a/2),u.isOrdinal()&&void 0!==i&&(n+=i/2),rt.utils.safeNumber(n)}function h(n,e){return function(){var t=et.select(this).attr("fill")===n;return e?!t:t}}return rt.override(u,"rescale",function(){return u._rescale(),a=void 0,u}),rt.override(u,"render",function(){return u.round()&&r&&!o&&rt.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),u._render()}),u.label(function(t){return rt.utils.printSingleValue(t.y0+t.y)},!1),u.plotData=function(){var t=u.chartBodyG().selectAll("g.stack").data(u.data());!function(){if(void 0===a){var t=u.xUnitCount();((a=u.isOrdinal()&&void 0===i?Math.floor(u.x().bandwidth()):i?Math.floor((u.xAxisLength()-(t-1)*i)/t):Math.floor(u.xAxisLength()/(1+u.barPadding())/t))===1/0||isNaN(a)||a<1)&&(a=1)}}();var r=(t=t.enter().append("g").attr("class",function(t,n){return"stack _"+n}).merge(t)).size()-1;t.each(function(t,n){var e=et.select(this);!function(t,n,e){var r=t.selectAll("rect.bar").data(e.values,rt.pluck("x")),i=r.enter().append("rect").attr("class","bar").attr("fill",rt.pluck("data",u.getColor)).attr("x",f).attr("y",u.yAxisHeight()).attr("height",0),o=i.merge(r);u.renderTitle()&&i.append("title").text(rt.pluck("data",u.title(e.name)));u.isOrdinal()&&o.on("click",u.onClick);rt.transition(o,u.transitionDuration(),u.transitionDelay()).attr("x",f).attr("y",function(t){var n=u.y()(t.y+t.y0);return t.y<0&&(n-=c(t)),rt.utils.safeNumber(n)}).attr("width",a).attr("height",function(t){return c(t)}).attr("fill",rt.pluck("data",u.getColor)).select("title").text(rt.pluck("data",u.title(e.name))),rt.transition(r.exit(),u.transitionDuration(),u.transitionDelay()).attr("x",function(t){return u.x()(t.x)}).attr("width",.9*a).remove()}(e,0,t),u.renderLabel()&&r===n&&function(t,n,e){var r=t.selectAll("text.barLabel").data(e.values,rt.pluck("x")),i=r.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",l).attr("y",s).merge(r);u.isOrdinal()&&(i.on("click",u.onClick),i.attr("cursor","pointer"));rt.transition(i,u.transitionDuration(),u.transitionDelay()).attr("x",l).attr("y",s).text(function(t){return u.label()(t)}),rt.transition(r.exit(),u.transitionDuration(),u.transitionDelay()).attr("height",0).remove()}(e,0,t)})},u.fadeDeselectedArea=function(t){var n=u.chartBodyG().selectAll("rect.bar");if(u.isOrdinal())u.hasFilter()?(n.classed(rt.constants.SELECTED_CLASS,function(t){return u.hasFilter(t.x)}),n.classed(rt.constants.DESELECTED_CLASS,function(t){return!u.hasFilter(t.x)})):(n.classed(rt.constants.SELECTED_CLASS,!1),n.classed(rt.constants.DESELECTED_CLASS,!1));else if(u.brushOn()||u.parentBrushOn())if(u.brushIsEmpty(t))n.classed(rt.constants.DESELECTED_CLASS,!1);else{var e=t[0],r=t[1];n.classed(rt.constants.DESELECTED_CLASS,function(t){return t.x<e||t.x>=r})}},u.centerBar=function(t){return arguments.length?(r=t,u):r},rt.override(u,"onClick",function(t){u._onClick(t.data)}),u.barPadding=function(t){return arguments.length?(u._rangeBandPadding(t),i=void 0,u):u._rangeBandPadding()},u._useOuterPadding=function(){return void 0===i},u.outerPadding=u._outerRangeBandPadding,u.gap=function(t){return arguments.length?(i=t,u):i},u.extendBrush=function(t){return t&&u.round()&&(!r||o)&&(t[0]=u.round()(t[0]),t[1]=u.round()(t[1])),t},u.alwaysUseRounding=function(t){return arguments.length?(o=t,u):o},u.legendHighlight=function(t){u.isLegendableHidden(t)||u.g().selectAll("rect.bar").classed("highlight",h(t.color)).classed("fadeout",h(t.color,!0))},u.legendReset=function(){u.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},rt.override(u,"xAxisMax",function(){var t=this._xAxisMax();"resolution"in u.xUnits()&&(t+=u.xUnits().resolution);return t}),u.anchor(t,n)},rt.lineChart=function(t,n){var u,i,c="dc-tooltip",l="yRef",s="xRef",f=rt.stackMixin(rt.coordinateGridMixin({})),o=!1,h=5,e=null,d=1e-6,p=1e-6,r=null,a=null,g=null,v=!0;function y(t,n){return f.getColor.call(t,t.values,n)}function m(){var t=null;if(r)return r;"function"==typeof a?t=a:t={linear:et.curveLinear,"linear-closed":et.curveLinearClosed,step:et.curveStep,"step-before":et.curveStepBefore,"step-after":et.curveStepAfter,basis:et.curveBasis,"basis-open":et.curveBasisOpen,"basis-closed":et.curveBasisClosed,bundle:et.curveBundle,cardinal:et.curveCardinal,"cardinal-open":et.curveCardinalOpen,"cardinal-closed":et.curveCardinalClosed,monotone:et.curveMonotoneX}[a];return t||(t=et.curveLinear),null!==g&&("function"!=typeof t.tension?rt.logger.warn("tension was specified but the curve/interpolate does not support it."):t=t.tension(g)),t}function b(t){return!t||0<=t.indexOf("NaN")?"M0,0":t}function x(){return e||h}function _(t,n){f.renderTitle()&&(t.select("title").remove(),t.append("title").text(rt.pluck("data",f.title(n.name))))}function w(e,r,i){return function(){var t=et.select(this),n=t.attr("stroke")===e&&t.attr("stroke-dasharray")===(r instanceof Array?r.join(","):null)||t.attr("fill")===e;return i?!n:n}}return f.transitionDuration(500),f.transitionDelay(0),f._rangeBandPadding(1),f.plotData=function(){var t=f.chartBodyG(),n=t.select("g.stack-list");n.empty()&&(n=t.append("g").attr("class","stack-list"));var e=n.selectAll("g.stack").data(f.data()),r=e.enter().append("g").attr("class",function(t,n){return"stack _"+n});e=r.merge(e),function(t,n){var e=et.line().x(function(t){return f.x()(t.x)}).y(function(t){return f.y()(t.y+t.y0)}).curve(m());u&&e.defined(u);var r=t.append("path").attr("class","line").attr("stroke",y);i&&r.attr("stroke-dasharray",i);rt.transition(n.select("path.line"),f.transitionDuration(),f.transitionDelay()).attr("stroke",y).attr("d",function(t){return b(e(t.values))})}(r,e),function(t,n){if(o){var e=et.area().x(function(t){return f.x()(t.x)}).y1(function(t){return f.y()(t.y+t.y0)}).y0(function(t){return f.y()(t.y0)}).curve(m());u&&e.defined(u),t.append("path").attr("class","area").attr("fill",y).attr("d",function(t){return b(e(t.values))}),rt.transition(n.select("path.area"),f.transitionDuration(),f.transitionDelay()).attr("fill",y).attr("d",function(t){return b(e(t.values))})}}(r,e),function(t,n){if("always"===f.xyTipsOn()||!f.brushOn()&&!f.parentBrushOn()&&f.xyTipsOn()){var e=c+"-list",a=t.select("g."+e);a.empty()&&(a=t.append("g").attr("class",e)),n.each(function(t,n){var e=t.values;u&&(e=e.filter(u));var r=a.select("g."+c+"._"+n);r.empty()&&(r=a.append("g").attr("class",c+" _"+n)),function(t){(t.select("path."+l).empty()?t.append("path").attr("class",l):t.select("path."+l)).style("display","none").attr("stroke-dasharray","5,5"),(t.select("path."+s).empty()?t.append("path").attr("class",s):t.select("path."+s)).style("display","none").attr("stroke-dasharray","5,5")}(r);var i=r.selectAll("circle.dot").data(e,rt.pluck("x")),o=i.enter().append("circle").attr("class","dot").attr("cx",function(t){return rt.utils.safeNumber(f.x()(t.x))}).attr("cy",function(t){return rt.utils.safeNumber(f.y()(t.y+t.y0))}).attr("r",x()).style("fill-opacity",d).style("stroke-opacity",p).attr("fill",f.getColor).attr("stroke",f.getColor).on("mousemove",function(){var t=et.select(this);!function(t){t.style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",h)}(t),function(t,n){var e=t.attr("cx"),r=t.attr("cy"),i="M"+(f._yAxisX()-f.margins().left)+" "+r+"L"+e+" "+r,o="M"+e+" "+f.yAxisHeight()+"L"+e+" "+r;n.select("path."+l).style("display","").attr("d",i),n.select("path."+s).style("display","").attr("d",o)}(t,r)}).on("mouseout",function(){!function(t){t.style("fill-opacity",d).style("stroke-opacity",p).attr("r",x())}(et.select(this)),function(t){t.select("path."+l).style("display","none"),t.select("path."+s).style("display","none")}(r)}).merge(i);o.call(_,t),rt.transition(o,f.transitionDuration()).attr("cx",function(t){return rt.utils.safeNumber(f.x()(t.x))}).attr("cy",function(t){return rt.utils.safeNumber(f.y()(t.y+t.y0))}).attr("fill",f.getColor),i.exit().remove()})}}(t,e),f.renderLabel()&&function(t){t.each(function(t){var n=et.select(this).selectAll("text.lineLabel").data(t.values,rt.pluck("x")),e=n.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(n);rt.transition(e,f.transitionDuration()).attr("x",function(t){return rt.utils.safeNumber(f.x()(t.x))}).attr("y",function(t){var n=f.y()(t.y+t.y0)-3;return rt.utils.safeNumber(n)}).text(function(t){return f.label()(t)}),rt.transition(n.exit(),f.transitionDuration()).attr("height",0).remove()})}(e)},f.curve=function(t){return arguments.length?(r=t,f):r},f.interpolate=rt.logger.deprecate(function(t){return arguments.length?(a=t,f):a},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),f.tension=rt.logger.deprecate(function(t){return arguments.length?(g=t,f):g},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),f.defined=function(t){return arguments.length?(u=t,f):u},f.dashStyle=function(t){return arguments.length?(i=t,f):i},f.renderArea=function(t){return arguments.length?(o=t,f):o},f.label(function(t){return rt.utils.printSingleValue(t.y0+t.y)},!1),f.xyTipsOn=function(t){return arguments.length?(v=t,f):v},f.dotRadius=function(t){return arguments.length?(h=t,f):h},f.renderDataPoints=function(t){return arguments.length?(e=t?(d=t.fillOpacity||.8,p=t.strokeOpacity||0,t.radius||2):(p=d=1e-6,null),f):{fillOpacity:d,strokeOpacity:p,radius:e}},f.legendHighlight=function(t){f.isLegendableHidden(t)||f.g().selectAll("path.line, path.area").classed("highlight",w(t.color,t.dashstyle)).classed("fadeout",w(t.color,t.dashstyle,!0))},f.legendReset=function(){f.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},rt.override(f,"legendables",function(){var t=f._legendables();return i?t.map(function(t){return t.dashstyle=i,t}):t}),f.anchor(t,n)},rt.dataCount=function(t,n){var i=et.format(",d"),o=rt.baseMixin({}),e=null,r=null,a={some:"",all:""};return o._mandatoryAttributes(["crossfilter","groupAll"]),o.html=function(t){return arguments.length?(t.all&&(a.all=t.all),t.some&&(a.some=t.some),o):a},o.formatNumber=function(t){return arguments.length?(i=t,o):i},o._doRender=function(){var t=o.crossfilter().size(),n=o.groupAll().value(),e=i(t),r=i(n);return t===n&&""!==a.all?o.root().html(a.all.replace("%total-count",e).replace("%filter-count",r)):""!==a.some?o.root().html(a.some.replace("%total-count",e).replace("%filter-count",r)):(o.selectAll(".total-count").text(e),o.selectAll(".filter-count").text(r)),o},o._doRedraw=function(){return o._doRender()},o.crossfilter=function(t){return arguments.length?(e=t,this):e},o.dimension=rt.logger.annotate(o.crossfilter,"consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),o.groupAll=function(t){return arguments.length?(r=t,this):r},o.group=rt.logger.annotate(o.groupAll,"consider using dataCount.groupAll instead of dataCount.group for clarity"),o.anchor(t,n)},rt.dataTable=function(t,n){var a,r="dc-table-row",u=rt.baseMixin({}),c=25,l=[],s=function(t){return t},f=et.ascending,h=0,d=!0,e=function(){return""};return u._mandatoryAttributes(["dimension"]),u._doRender=function(){return u.selectAll("tbody").remove(),function(t){var n=t.order().selectAll("tr."+r).data(function(t){return t.values}),e=n.enter().append("tr").attr("class",r);l.forEach(function(n,t){e.append("td").attr("class","dc-table-column _"+t).html(function(t){return u._doColumnValueFormat(n,t)})}),n.exit().remove()}(function(){var n=!0;if(l.forEach(function(t){n&="function"==typeof t}),!n){var t=u.selectAll("thead").data([0]);t.exit().remove();var e=(t=t.enter().append("thead").merge(t)).selectAll("tr").data([0]);e.exit().remove();var r=(e=e.enter().append("tr").merge(e)).selectAll("th").data(l);r.exit().remove(),r.enter().append("th").merge(r).attr("class","dc-table-head").html(function(t){return u._doColumnHeaderFormat(t)})}var i=u.root().selectAll("tbody").data(function(){var t;t=f===et.ascending?u.dimension().bottom(c):u.dimension().top(c);return et.nest().key(u.section()).sortKeys(f).entries(t.sort(function(t,n){return f(s(t),s(n))}).slice(h,a))}(),function(t){return u.keyAccessor()(t)}),o=i.enter().append("tbody");!0===d&&o.append("tr").attr("class","dc-table-section dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",l.length).html(function(t){return u.keyAccessor()(t)});return i.exit().remove(),o}()),u},u._doColumnValueFormat=function(t,n){return"function"==typeof t?t(n):"string"==typeof t?n[t]:t.format(n)},u._doColumnHeaderFormat=function(t){return"function"==typeof t?u._doColumnHeaderFnToString(t):"string"==typeof t?u._doColumnHeaderCapitalize(t):String(t.label)},u._doColumnHeaderCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u._doColumnHeaderFnToString=function(t){var n=String(t),e=n.indexOf("return ");if(0<=e){var r=n.lastIndexOf(";");if(0<=r)0<=(n=n.substring(e+7,r)).indexOf("numberFormat")&&(n=n.replace("numberFormat",""))}return n},u._doRedraw=function(){return u._doRender()},u.section=function(t){return arguments.length?(e=t,u):e},u.group=rt.logger.annotate(u.section,"consider using dataTable.section instead of dataTable.group for clarity"),u.size=function(t){return arguments.length?(c=t,u):c},u.beginSlice=function(t){return arguments.length?(h=t,u):h},u.endSlice=function(t){return arguments.length?(a=t,u):a},u.columns=function(t){return arguments.length?(l=t,u):l},u.sortBy=function(t){return arguments.length?(s=t,u):s},u.order=function(t){return arguments.length?(f=t,u):f},u.showSections=function(t){return arguments.length?(d=t,u):d},u.showGroups=rt.logger.annotate(u.showSections,"consider using dataTable.showSections instead of dataTable.showGroups for clarity"),u.anchor(t,n)},rt.dataGrid=function(t,n){var e,r="dc-grid-item",i="dc-grid-top",o=rt.baseMixin({}),a=null,u=999,c=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},l=function(t){return t},s=et.ascending,f=0,h=function(t){return"<div class='dc-grid-section dc-grid-group'><h1 class='dc-grid-label'>"+o.keyAccessor()(t)+"</h1></div>"};return o._mandatoryAttributes(["dimension","section"]),o._doRender=function(){return o.selectAll("div."+i).remove(),function(t){var n=t.order().selectAll("div."+r).data(function(t){return t.values});n.exit().remove(),n=n.enter().append("div").attr("class",r).html(function(t){return c(t)}).merge(n)}(function(){var t=o.root().selectAll("div."+i).data(function(){var t=o.dimension().top(u);return et.nest().key(o.section()).sortKeys(s).entries(t.sort(function(t,n){return s(l(t),l(n))}).slice(f,e))}(),function(t){return o.keyAccessor()(t)}),n=t.enter().append("div").attr("class",i);h&&n.html(function(t){return h(t)});return t.exit().remove(),n}()),o},o._doRedraw=function(){return o._doRender()},o.section=function(t){return arguments.length?(a=t,o):a},o.group=rt.logger.annotate(o.section,"consider using dataGrid.section instead of dataGrid.group for clarity"),o.beginSlice=function(t){return arguments.length?(f=t,o):f},o.endSlice=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(u=t,o):u},o.html=function(t){return arguments.length?(c=t,o):c},o.htmlSection=function(t){return arguments.length?(h=t,o):h},o.htmlGroup=rt.logger.annotate(o.htmlSection,"consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),o.sortBy=function(t){return arguments.length?(l=t,o):l},o.order=function(t){return arguments.length?(s=t,o):s},o.anchor(t,n)},rt.bubbleChart=function(t,n){var e=rt.bubbleMixin(rt.coordinateGridMixin({}));e.transitionDuration(750),e.transitionDelay(0);function r(t){return"translate("+function(t){var n=e.x()(e.keyAccessor()(t));!isNaN(n)&&isFinite(n)||(n=0);return n}(t)+","+function(t){var n=e.y()(e.valueAccessor()(t));!isNaN(n)&&isFinite(n)||(n=0);return n}(t)+")"}return e.plotData=function(){e.calculateRadiusDomain(),e.r().range([e.MIN_RADIUS,e.xAxisLength()*e.maxBubbleRelativeSize()]);var t=e.data(),n=e.chartBodyG().selectAll("g."+e.BUBBLE_NODE_CLASS).data(t,function(t){return t.key});e.sortBubbleSize()&&n.order(),function(t){t.exit().remove()}(n),function(t){rt.transition(t,e.transitionDuration(),e.transitionDelay()).attr("transform",r).select("circle."+e.BUBBLE_CLASS).attr("fill",e.getColor).attr("r",function(t){return e.bubbleR(t)}).attr("opacity",function(t){return 0<e.bubbleR(t)?1:0}),e.doUpdateLabels(t),e.doUpdateTitles(t)}(n=function(t){var n=t.enter().append("g");return n.attr("class",e.BUBBLE_NODE_CLASS).attr("transform",r).append("circle").attr("class",function(t,n){return e.BUBBLE_CLASS+" _"+n}).on("click",e.onClick).attr("fill",e.getColor).attr("r",0),t=n.merge(t),rt.transition(t,e.transitionDuration(),e.transitionDelay()).select("circle."+e.BUBBLE_CLASS).attr("r",function(t){return e.bubbleR(t)}).attr("opacity",function(t){return 0<e.bubbleR(t)?1:0}),e._doRenderLabel(n),e._doRenderTitles(n),t}(n)),e.fadeDeselectedArea(e.filter())},e.renderBrush=function(){},e.redrawBrush=function(t,n){e.fadeDeselectedArea(t)},e.anchor(t,n)},rt.compositeChart=function(t,n){var r,e="sub",u=rt.coordinateGridMixin({}),i=[],o={},a=!1,c=!0,l=!1,s=et.axisRight(),f=0,h=12,d=!1;function p(t,n){t._generateG(u.g()),t.g().attr("class",e+" _"+n)}function g(){return i.filter(function(t){return!t.useRightYAxis()})}function v(){return i.filter(function(t){return t.useRightYAxis()})}function y(t){return t.map(function(t){return t.yAxisMin()})}function m(t){return t.map(function(t){return t.yAxisMax()})}return u._mandatoryAttributes([]),u.transitionDuration(500),u.transitionDelay(0),rt.override(u,"_generateG",function(){for(var t=this.__generateG(),n=0;n<i.length;++n){var e=i[n];p(e,n),e.dimension()||e.dimension(u.dimension()),e.group()||e.group(u.group()),e.chartGroup(u.chartGroup()),e.svg(u.svg()),e.xUnits(u.xUnits()),e.transitionDuration(u.transitionDuration(),u.transitionDelay()),e.parentBrushOn(u.brushOn()),e.brushOn(!1),e.renderTitle(u.renderTitle()),e.elasticX(u.elasticX())}return t}),u.on("filtered.dcjs-composite-chart",function(){for(var t=0;t<i.length;++t)i[t].replaceFilter(u.filter())}),u._prepareYAxis=function(){var t=0!==g().length,n=0!==v().length,e=function(t,n){var e,r,i,o,a;t&&(e=et.min(y(g())),r=rt.utils.add(et.max(m(g())),u.yAxisPadding()));n&&(i=et.min(y(v())),o=rt.utils.add(et.max(m(v())),u.yAxisPadding()));u.alignYAxes()&&t&&n&&(a=function(t,n,e,r){var i=(r-e)/(n-t);return{lyAxisMin:Math.min(t,e/i),lyAxisMax:Math.max(n,r/i),ryAxisMin:Math.min(e,t*i),ryAxisMax:Math.max(r,n*i)}}(e,r,i,o));return a||{lyAxisMin:e,lyAxisMax:r,ryAxisMin:i,ryAxisMax:o}}(t,n);t&&function(t){var n=void 0===u.y()||u.elasticY(),e=n||u.resizing();void 0===u.y()&&u.y(et.scaleLinear());n&&u.y().domain([t.lyAxisMin,t.lyAxisMax]);e&&u.y().rangeRound([u.yAxisHeight(),0]);u.y().range([u.yAxisHeight(),0]),u.yAxis(u.yAxis().scale(u.y()))}(e),n&&function(t){var n=void 0===u.rightY()||u.elasticY(),e=n||u.resizing();void 0===u.rightY()&&u.rightY(et.scaleLinear());n&&u.rightY().domain([t.ryAxisMin,t.ryAxisMax]);e&&u.rightY().rangeRound([u.yAxisHeight(),0]);u.rightY().range([u.yAxisHeight(),0]),u.rightYAxis(u.rightYAxis().scale(u.rightY()))}(e),0<g().length&&!d?u._renderHorizontalGridLinesForAxis(u.g(),u.y(),u.yAxis()):0<v().length&&u._renderHorizontalGridLinesForAxis(u.g(),r,s)},u.renderYAxis=function(){0!==g().length&&(u.renderYAxisAt("y",u.yAxis(),u.margins().left),u.renderYAxisLabel("y",u.yAxisLabel(),-90)),0!==v().length&&(u.renderYAxisAt("yr",u.rightYAxis(),u.width()-u.margins().right),u.renderYAxisLabel("yr",u.rightYAxisLabel(),90,u.width()-h))},u.plotData=function(){for(var t=0;t<i.length;++t){var n=i[t];n.g()||p(n,t),a&&n.colors(u.colors()),n.x(u.x()),n.xAxis(u.xAxis()),n.useRightYAxis()?(n.y(u.rightY()),n.yAxis(u.rightYAxis())):(n.y(u.y()),n.yAxis(u.yAxis())),n.plotData(),n._activateRenderlets()}},u.useRightAxisGridLines=function(t){return arguments?(d=t,u):d},u.childOptions=function(t){return arguments.length?(o=t,i.forEach(function(t){t.options(o)}),u):o},u.fadeDeselectedArea=function(t){if(u.brushOn())for(var n=0;n<i.length;++n){i[n].fadeDeselectedArea(t)}},u.rightYAxisLabel=function(t,n){return arguments.length?(f=t,u.margins().right-=h,h=void 0===n?12:n,u.margins().right+=h,u):f},u.compose=function(t){return(i=t).forEach(function(t){t.height(u.height()),t.width(u.width()),t.margins(u.margins()),c&&t.title(u.title()),t.options(o)}),u},u.children=function(){return i},u.shareColors=function(t){return arguments.length?(a=t,u):a},u.shareTitle=function(t){return arguments.length?(c=t,u):c},u.rightY=function(t){return arguments.length?(r=t,u.rescale(),u):r},u.alignYAxes=function(t){return arguments.length?(l=t,u.rescale(),u):l},delete u.yAxisMin,delete u.yAxisMax,rt.override(u,"xAxisMin",function(){return rt.utils.subtract(et.min(i.map(function(t){return t.xAxisMin()})),u.xAxisPadding(),u.xAxisPaddingUnit())}),rt.override(u,"xAxisMax",function(){return rt.utils.add(et.max(i.map(function(t){return t.xAxisMax()})),u.xAxisPadding(),u.xAxisPaddingUnit())}),u.legendables=function(){return i.reduce(function(t,n){return a&&n.colors(u.colors()),t.push.apply(t,n.legendables()),t},[])},u.legendHighlight=function(t){for(var n=0;n<i.length;++n){i[n].legendHighlight(t)}},u.legendReset=function(t){for(var n=0;n<i.length;++n){i[n].legendReset(t)}},u.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},u.rightYAxis=function(t){return arguments.length?(s=t,u):s},u.anchor(t,n)},rt.seriesChart=function(t,o){var a=rt.compositeChart(t,o);var e,u={},c=rt.lineChart,l=et.ascending,s=function(t,n){return et.ascending(a.keyAccessor()(t),a.keyAccessor()(n))};function f(t){u[t].g()&&u[t].g().remove(),delete u[t]}function n(){Object.keys(u).map(f),u={}}return a._mandatoryAttributes().push("seriesAccessor","chart"),a.shareColors(!0),a._preprocessData=function(){var r,i=[],t=et.nest().key(e);l&&t.sortKeys(l),s&&t.sortValues(s);var n=t.entries(a.data()).map(function(t,n){var e=u[t.key]||c.call(a,a,o,t.key,n);return u[t.key]||(r=!0),u[t.key]=e,i.push(t.key),e.dimension(a.dimension()).group({all:"function"==typeof t.values?t.values:rt.utils.constant(t.values)},t.key).keyAccessor(a.keyAccessor()).valueAccessor(a.valueAccessor()).brushOn(!1)});Object.keys(u).filter(function(t){return-1===i.indexOf(t)}).forEach(function(t){f(t),r=!0}),a._compose(n),r&&a.legend()&&a.legend().render()},a.chart=function(t){return arguments.length?(c=t,n(),a):c},a.seriesAccessor=function(t){return arguments.length?(e=t,n(),a):e},a.seriesSort=function(t){return arguments.length?(l=t,n(),a):l},a.valueSort=function(t){return arguments.length?(s=t,n(),a):s},a._compose=a.compose,delete a.compose,a},rt.geoChoroplethChart=function(t,n){var o=rt.colorMixin(rt.baseMixin({}));o.colorAccessor(function(t){return t||0});var e,r,i=et.geoPath(),a=[];function u(t){var n=function(){for(var t={},n=o.data(),e=0;e<n.length;++e)t[o.keyAccessor()(n[e])]=o.valueAccessor()(n[e]);return t}();if(function(t){return f(t).keyAccessor}(t)){var e=function(e){return o.svg().selectAll(function(t){return"g.layer"+t+" g."+f(t).name}(e)).classed("selected",function(t){return c(e,t)}).classed("deselected",function(t){return l(e,t)}).attr("class",function(t){var n=f(e).name+" "+rt.utils.nameToId(f(e).keyAccessor(t));return c(e,t)&&(n+=" selected"),l(e,t)&&(n+=" deselected"),n})}(t);!function(t,e,r){var n=t.select("path").attr("fill",function(){var t=et.select(this).attr("fill");return t||"none"}).on("click",function(t){return o.onClick(t,e)});rt.transition(n,o.transitionDuration(),o.transitionDelay()).attr("fill",function(t,n){return o.getColor(r[f(e).keyAccessor(t)],n)})}(e,t,n),function(t,r,i){o.renderTitle()&&t.selectAll("title").text(function(t){var n=s(r,t),e=i[n];return o.title()({key:n,value:e})})}(e,t,n)}}function c(t,n){return o.hasFilter()&&o.hasFilter(s(t,n))}function l(t,n){return o.hasFilter()&&!o.hasFilter(s(t,n))}function s(t,n){return f(t).keyAccessor(n)}function f(t){return a[t]}o._doRender=function(){o.resetSvg();for(var t=0;t<a.length;++t){var n=o.svg().append("g").attr("class","layer"+t).selectAll("g."+f(t).name).data(f(t).data);(n=n.enter().append("g").attr("class",f(t).name).merge(n)).append("path").attr("fill","white").attr("d",h()),n.append("title"),u(t)}e=!1},o.onClick=function(t,n){var e=f(n).keyAccessor(t);rt.events.trigger(function(){o.filter(e),o.redrawGroup()})},o._doRedraw=function(){for(var t=0;t<a.length;++t)u(t),e&&o.svg().selectAll("g."+f(t).name+" path").attr("d",h());e=!1},o.overlayGeoJson=function(t,n,e){for(var r=0;r<a.length;++r)if(a[r].name===n)return a[r].data=t,a[r].keyAccessor=e,o;return a.push({name:n,data:t,keyAccessor:e}),o},o.projection=function(t){return arguments.length?(r=t,e=!0,o):r};var h=function(){return void 0===r?(rt.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),i.projection(et.geoAlbersUsa())):i.projection(r)};return o.geoJsons=function(){return a},o.geoPath=function(){return i},o.removeGeoJson=function(t){for(var n=[],e=0;e<a.length;++e){var r=a[e];r.name!==t&&n.push(r)}return a=n,o},o.anchor(t,n)},rt.bubbleOverlay=function(t,n){var i,e="bubble-overlay",o="node",a="bubble",u=rt.bubbleMixin(rt.baseMixin({})),c=[];function l(){var n={};return u.data().forEach(function(t){n[u.keyAccessor()(t)]=t}),n}function s(t,n){var e=o+" "+rt.utils.nameToId(t.name),r=i.select("g."+rt.utils.nameToId(t.name));return r.empty()&&(r=i.append("g").attr("class",e).attr("transform","translate("+t.x+","+t.y+")")),r.datum(n[t.name]),r}return u.transitionDuration(750),u.transitionDelay(0),u.radiusValueAccessor(function(t){return t.value}),u.point=function(t,n,e){return c.push({name:t,x:n,y:e}),u},u._doRender=function(){return i=function(){(i=u.select("g."+e)).empty()&&(i=u.svg().append("g").attr("class",e));return i}(),u.r().range([u.MIN_RADIUS,u.width()*u.maxBubbleRelativeSize()]),function(){var r=l();u.calculateRadiusDomain(),c.forEach(function(t){var n=s(t,r),e=n.select("circle."+a);e.empty()&&(e=n.append("circle").attr("class",a).attr("r",0).attr("fill",u.getColor).on("click",u.onClick)),rt.transition(e,u.transitionDuration(),u.transitionDelay()).attr("r",function(t){return u.bubbleR(t)}),u._doRenderLabel(n),u._doRenderTitles(n)})}(),u.fadeDeselectedArea(u.filter()),u},u._doRedraw=function(){return function(){var r=l();u.calculateRadiusDomain(),c.forEach(function(t){var n=s(t,r),e=n.select("circle."+a);rt.transition(e,u.transitionDuration(),u.transitionDelay()).attr("r",function(t){return u.bubbleR(t)}).attr("fill",u.getColor),u.doUpdateLabels(n),u.doUpdateTitles(n)})}(),u.fadeDeselectedArea(u.filter()),u},u.debug=function(t){if(t){var e=u.select("g."+rt.constants.DEBUG_GROUP_CLASS);e.empty()&&(e=u.svg().append("g").attr("class",rt.constants.DEBUG_GROUP_CLASS));var r=e.append("text").attr("x",10).attr("y",20);e.append("rect").attr("width",u.width()).attr("height",u.height()).on("mousemove",function(){var t=et.mouse(e.node()),n=t[0]+", "+t[1];r.text(n)})}else u.selectAll(".debug").remove();return u},u.anchor(t,n),u},rt.rowChart=function(t,n){var e,i,r,o,a=10,u=15,c=!1,l="0.35em",s=2,f=5,h=!1,d="row",p="titlerow",g=!1,v=rt.capMixin(rt.marginMixin(rt.colorMixin(rt.baseMixin({})))),y=et.axisBottom();function m(){var t=e.select("g.axis");!function(){if(!i||r){var t=et.extent(o,v.cappedValueAccessor);0<t[0]&&(t[0]=0),t[1]<0&&(t[1]=0),i=et.scaleLinear().domain(t).range([0,v.effectiveWidth()])}y.scale(i)}(),t.empty()&&(t=e.append("g").attr("class","axis")),t.attr("transform","translate(0, "+v.effectiveHeight()+")"),rt.transition(t,v.transitionDuration(),v.transitionDelay()).call(y)}function b(){o=v.data(),m(),e.selectAll("g.tick").select("line.grid-line").remove(),e.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-v.effectiveHeight()});var t=e.selectAll("g."+d).data(o);!function(t){t.exit().remove()}(t),function(t){var e,n=o.length;e=h||(v.effectiveHeight()-(n+1)*f)/n;c||(u=e/2);var r=t.attr("transform",function(t,n){return"translate(0,"+((n+1)*f+n*e)+")"}).select("rect").attr("height",e).attr("fill",v.getColor).on("click",_).classed("deselected",function(t){return!!v.hasFilter()&&!A(t)}).classed("selected",function(t){return!!v.hasFilter()&&A(t)});rt.transition(r,v.transitionDuration(),v.transitionDelay()).attr("width",function(t){return Math.abs(x()-i(v.cappedValueAccessor(t)))}).attr("transform",w),function(t){v.renderTitle()&&(t.select("title").remove(),t.append("title").text(v.title()))}(t),function(t){if(v.renderLabel()){var n=t.select("text").attr("x",a).attr("y",u).attr("dy",l).on("click",_).attr("class",function(t,n){return d+" _"+n}).text(function(t){return v.label()(t)});rt.transition(n,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}if(v.renderTitleLabel()){var e=t.select("."+p).attr("x",v.effectiveWidth()-s).attr("y",u).attr("dy",l).attr("text-anchor","end").on("click",_).attr("class",function(t,n){return p+" _"+n}).text(function(t){return v.title()(t)});rt.transition(e,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}}(t)}(t=function(t){var n=t.enter().append("g").attr("class",function(t,n){return d+" _"+n});return n.append("rect").attr("width",0),function(t){v.renderLabel()&&t.append("text").on("click",_);v.renderTitleLabel()&&t.append("text").attr("class",p).on("click",_)}(n),n}(t).merge(t))}function x(){var t=i(0);return t===-1/0||t!=t?i(1):t}function _(t){v.onClick(t)}function w(t){var n=i(v.cappedValueAccessor(t)),e=x();return"translate("+(e<n?e:n)+",0)"}function A(t){return v.hasFilter(v.cappedKeyAccessor(t))}return v.rowsCap=v.cap,v._doRender=function(){return v.resetSvg(),e=v.svg().append("g").attr("transform","translate("+v.margins().left+","+v.margins().top+")"),b(),v},v.title(function(t){return v.cappedKeyAccessor(t)+": "+v.cappedValueAccessor(t)}),v.label(v.cappedKeyAccessor),v.x=function(t){return arguments.length?(i=t,v):i},v.renderTitleLabel=function(t){return arguments.length?(g=t,v):g},v._doRedraw=function(){return b(),v},v.xAxis=function(t){return arguments.length?(y=t,this):y},v.fixedBarHeight=function(t){return arguments.length?(h=t,v):h},v.gap=function(t){return arguments.length?(f=t,v):f},v.elasticX=function(t){return arguments.length?(r=t,v):r},v.labelOffsetX=function(t){return arguments.length?(a=t,v):a},v.labelOffsetY=function(t){return arguments.length?(u=t,c=!0,v):u},v.titleLabelOffsetX=function(t){return arguments.length?(s=t,v):s},v.anchor(t,n)},rt.legend=function(){var e,r,a,n={},u=0,c=0,l=12,s=5,f=!1,h=560,d=70,p=!1,g=rt.pluck("name");function v(){return s+l}return n.parent=function(t){return arguments.length?(e=t,n):e},n.render=function(){e.svg().select("g.dc-legend").remove(),a=e.svg().append("g").attr("class","dc-legend").attr("transform","translate("+u+","+c+")");var t=e.legendables();void 0!==r&&(t=t.slice(0,r));var n=a.selectAll("g.dc-legend-item").data(t).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(t){e.legendHighlight(t)}).on("mouseout",function(t){e.legendReset(t)}).on("click",function(t){t.chart.legendToggle(t)});a.selectAll("g.dc-legend-item").classed("fadeout",function(t){return t.chart.isLegendableHidden(t)}),t.some(rt.pluck("dashstyle"))?n.append("line").attr("x1",0).attr("y1",l/2).attr("x2",l).attr("y2",l/2).attr("stroke-width",2).attr("stroke-dasharray",rt.pluck("dashstyle")).attr("stroke",rt.pluck("color")):n.append("rect").attr("width",l).attr("height",l).attr("fill",function(t){return t?t.color:"blue"}),n.append("text").text(g).attr("x",l+2).attr("y",function(){return l/2+(this.clientHeight?this.clientHeight:13)/2-2});var i=0,o=0;n.attr("transform",function(t,n){if(f){var e=!0===p?this.getBBox().width+s:d;h<i+e&&0<i&&(++o,i=0);var r="translate("+i+","+o*v()+")";return i+=e,r}return"translate(0,"+n*v()+")"})},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(c=t,n):c},n.gap=function(t){return arguments.length?(s=t,n):s},n.itemHeight=function(t){return arguments.length?(l=t,n):l},n.horizontal=function(t){return arguments.length?(f=t,n):f},n.legendWidth=function(t){return arguments.length?(h=t,n):h},n.itemWidth=function(t){return arguments.length?(d=t,n):d},n.autoItemWidth=function(t){return arguments.length?(p=t,n):p},n.legendText=function(t){return arguments.length?(g=t,n):g},n.maxItems=function(t){return arguments.length?(r=rt.utils.isNumber(t)?t:void 0,n):r},n},rt.htmlLegend=function(){var a,u,c,l,n={},s=rt.pluck("name"),f=!1,h=!1;return n.parent=function(t){return arguments.length?(a=t,n):a},n.render=function(){var t=f?"dc-legend-item-horizontal":"dc-legend-item-vertical";u.select("div.dc-html-legend").remove();var n=u.append("div").attr("class","dc-html-legend");n.attr("style","max-width:"+u.nodes()[0].style.width);var e=a.legendables(),r=a.filters();void 0!==c&&(e=e.slice(0,c));var i=l||t,o=n.selectAll("div."+i).data(e).enter().append("div").classed(i,!0).on("mouseover",a.legendHighlight).on("mouseout",a.legendReset).on("click",a.legendToggle);h&&o.classed(rt.constants.SELECTED_CLASS,function(t){return-1!==r.indexOf(t.name)}),o.append("span").attr("class","dc-legend-item-color").style("background-color",rt.pluck("color")),o.append("span").attr("class","dc-legend-item-label").attr("title",s).text(s)},n.container=function(t){return arguments.length?(u=et.select(t),n):u},n.legendItemClass=function(t){return arguments.length?(l=t,n):l},n.highlightSelected=function(t){return arguments.length?(h=t,n):h},n.horizontal=function(t){return arguments.length?(f=t,n):f},n.legendText=function(t){return arguments.length?(s=t,n):s},n.maxItems=function(t){return arguments.length?(c=rt.utils.isNumber(t)?t:void 0,n):c},n},rt.scatterPlot=function(t,n){var i=rt.coordinateGridMixin({}),o=et.symbol(),e=function(t){return t.value},r=i.keyAccessor();i.keyAccessor(function(t){return r(t)[0]}),i.valueAccessor(function(t){return r(t)[1]}),i.colorAccessor(function(){return i._groupName}),i.title(function(t){return i.keyAccessor()(t)+","+i.valueAccessor()(t)+": "+i.existenceAccessor()(t)});function a(t){return"translate("+i.x()(i.keyAccessor()(t))+","+i.y()(i.valueAccessor()(t))+")"}var u=7,c=5,l=3,s=null,f=1,h=0,d=0,p=1,g=null,v=[];function y(t,n){return e(t)?v[n]?Math.pow(c,2):Math.pow(l,2):Math.pow(h,2)}function m(t,n){i.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(function(t){return i.title()(t)}))}function b(t,n){var e=i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t(et.select(this))}),r=o.size();o.size(Math.pow(n,2)),rt.transition(e,i.transitionDuration(),i.transitionDelay()).attr("d",o),o.size(r)}return i.brush(et.brush()),o.size(y),rt.override(i,"_filter",function(t){return arguments.length?i.__filter(rt.filters.RangedTwoDimensionalFilter(t)):i.__filter()}),i.plotData=function(){var t=i.chartBodyG().selectAll("path.symbol").data(i.data());rt.transition(t.exit(),i.transitionDuration(),i.transitionDelay()).attr("opacity",0).remove(),(t=t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",i.getColor).attr("transform",a).merge(t)).call(m,i.data()),t.each(function(t,n){v[n]=!i.filter()||i.filter().isFiltered([i.keyAccessor()(t),i.valueAccessor()(t)])}),rt.transition(t,i.transitionDuration(),i.transitionDelay()).attr("opacity",function(t,n){return e(t)?v[n]?p:i.excludedOpacity():d}).attr("fill",function(t,n){return g&&!e(t)?g:i.excludedColor()&&!v[n]?i.excludedColor():i.getColor(t)}).attr("transform",a).attr("d",o)},i.existenceAccessor=function(t){return arguments.length?(e=t,this):e},i.symbol=function(t){return arguments.length?(o.type(t),i):o.type()},i.customSymbol=function(t){return arguments.length?((o=t).size(y),i):o},i.symbolSize=function(t){return arguments.length?(c=t,i):c},i.highlightedSize=function(t){return arguments.length?(u=t,i):u},i.excludedSize=function(t){return arguments.length?(l=t,i):l},i.excludedColor=function(t){return arguments.length?(s=t,i):s},i.excludedOpacity=function(t){return arguments.length?(f=t,i):f},i.hiddenSize=i.emptySize=function(t){return arguments.length?(h=t,i):h},i.emptyColor=function(t){return arguments.length?(g=t,i):g},i.emptyOpacity=function(t){return arguments.length?(d=t,i):d},i.nonemptyOpacity=function(t){return arguments.length?(p=t,i):d},i.legendables=function(){return[{chart:i,name:i._groupName,color:i.getColor()}]},i.legendHighlight=function(n){b(function(t){return t.attr("fill")===n.color},u),i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return et.select(this).attr("fill")!==n.color}).classed("fadeout",!0)},i.legendReset=function(n){b(function(t){return t.attr("fill")===n.color},c),i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return et.select(this).attr("fill")!==n.color}).classed("fadeout",!1)},i.createBrushHandlePaths=function(){},i.extendBrush=function(t){return i.round()&&(t[0]=t[0].map(i.round()),t[1]=t[1].map(i.round())),t},i.brushIsEmpty=function(t){return!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]},i._brushing=function(){if(et.event.sourceEvent&&(!et.event.sourceEvent.type||-1===["start","brush","end"].indexOf(et.event.sourceEvent.type))){var t=et.event.selection,n=i.brushIsEmpty(t);t&&(t=t.map(function(t){return t.map(function(t,n){return(0===n?i.x():i.y()).invert(t)})}),t=i.extendBrush(t),n=n&&i.brushIsEmpty(t)),i.redrawBrush(t,!1);var e=n?null:rt.filters.RangedTwoDimensionalFilter(t);rt.events.trigger(function(){i.replaceFilter(e),i.redrawGroup()},rt.constants.EVENT_DELAY)}},i.redrawBrush=function(t,n){var e=i.brush(),r=i.gBrush();i.brushOn()&&r&&(i.resizing()&&i.setBrushExtents(n),t?(t=t.map(function(t){return t.map(function(t,n){return(0===n?i.x():i.y())(t)})}),rt.optionalTransition(n,i.transitionDuration(),i.transitionDelay())(r).call(e.move,t)):r.call(e.move,t));i.fadeDeselectedArea(t)},i.setBrushY=function(t){t.call(i.brush().y(i.y()))},i.anchor(t,n)},rt.numberDisplay=function(t,n){var e,r="number-display",i=et.format(".2s"),a=rt.baseMixin({}),u={one:"",some:"",none:""};return a._mandatoryAttributes(["group"]),a.ordering(function(t){return t.value}),a.html=function(t){return arguments.length?(t.none?u.none=t.none:t.one?u.none=t.one:t.some&&(u.none=t.some),t.one?u.one=t.one:t.some&&(u.one=t.some),t.some?u.some=t.some:t.one&&(u.some=t.one),a):u},a.value=function(){return a.data()},a.data(function(t){var n=t.value?t.value():function(t){if(!t.length)return null;var n=a._computeOrderedGroups(t);return n[n.length-1]}(t.all());return a.valueAccessor()(n)}),a.transitionDuration(250),a.transitionDelay(0),a._doRender=function(){var o=a.value(),t=a.selectAll("."+r);t.empty()&&(t=t.data([0]).enter().append("span").attr("class",r).merge(t)),t.transition().duration(a.transitionDuration()).delay(a.transitionDelay()).ease(et.easeQuad).tween("text",function(){var t=isFinite(e)?e:0,r=et.interpolateNumber(t||0,o);e=o;var i=this;return function(t){var n=null,e=a.formatNumber()(r(t));0===o&&""!==u.none?n=u.none:1===o&&""!==u.one?n=u.one:""!==u.some&&(n=u.some),i.innerHTML=n?n.replace("%number",e):e}})},a._doRedraw=function(){return a._doRender()},a.formatNumber=function(t){return arguments.length?(i=t,a):i},a.anchor(t,n)},rt.heatMap=function(t,n){var d,e,r,p=et.ascending,g=et.ascending,v=et.scaleBand(),y=et.scaleBand(),m=6.75,b=6.75,x=rt.colorMixin(rt.marginMixin(rt.baseMixin({})));x._mandatoryAttributes(["group"]),x.title(x.colorAccessor());var i=function(t){return t},o=function(t){return t};x.colsLabel=function(t){return arguments.length?(i=t,x):i},x.rowsLabel=function(t){return arguments.length?(o=t,x):o};var a=function(t){l(0,t)},u=function(t){l(1,t)},c=function(t){var n=t.key;rt.events.trigger(function(){x.filter(rt.filters.TwoDimensionalFilter(n)),x.redrawGroup()})};function l(n,e){var r=x.selectAll(".box-group").filter(function(t){return t.key[n]===e}),i=r.filter(function(t){return!x.hasFilter(t.key)});rt.events.trigger(function(){var t=(i.empty()?r:i).data().map(function(t){return rt.filters.TwoDimensionalFilter(t.key)});x.filter([t]),x.redrawGroup()})}var s=rt.logger.deprecate(function(t){return x._filter(rt.filters.TwoDimensionalFilter(t))},"heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead");return rt.override(x,"filter",function(t){return arguments.length?null===t||"TwoDimensionalFilter"===t.filterType||Array.isArray(t)&&Array.isArray(t[0])&&"TwoDimensionalFilter"===t[0][0].filterType?x._filter(t):s(t):x._filter()}),x.rows=function(t){return arguments.length?(r=t,x):r},x.rowOrdering=function(t){return arguments.length?(g=t,x):g},x.cols=function(t){return arguments.length?(e=t,x):e},x.colOrdering=function(t){return arguments.length?(p=t,x):p},x._doRender=function(){return x.resetSvg(),d=x.svg().append("g").attr("class","heatmap").attr("transform","translate("+x.margins().left+","+x.margins().top+")"),x._doRedraw()},x._doRedraw=function(){var t=x.data(),e=x.rows()||t.map(x.valueAccessor()),r=x.cols()||t.map(x.keyAccessor());g&&(e=e.sort(g)),p&&(r=r.sort(p)),e=y.domain(e),r=v.domain(r);var n=e.domain().length,i=r.domain().length,o=Math.floor(x.effectiveWidth()/i),a=Math.floor(x.effectiveHeight()/n);r.rangeRound([0,x.effectiveWidth()]),e.rangeRound([x.effectiveHeight(),0]);var u=d.selectAll("g.box-group").data(x.data(),function(t,n){return x.keyAccessor()(t,n)+"\0"+x.valueAccessor()(t,n)});u.exit().remove();var c=u.enter().append("g").attr("class","box-group");c.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(t,n){return r(x.keyAccessor()(t,n))}).attr("y",function(t,n){return e(x.valueAccessor()(t,n))}).on("click",x.boxOnClick()),u=c.merge(u),x.renderTitle()&&(c.append("title"),u.select("title").text(x.title())),rt.transition(u.select("rect"),x.transitionDuration(),x.transitionDelay()).attr("x",function(t,n){return r(x.keyAccessor()(t,n))}).attr("y",function(t,n){return e(x.valueAccessor()(t,n))}).attr("rx",m).attr("ry",b).attr("fill",x.getColor).attr("width",o).attr("height",a);var l=d.select("g.cols");l.empty()&&(l=d.append("g").attr("class","cols axis"));var s=l.selectAll("text").data(r.domain());s.exit().remove(),s=s.enter().append("text").attr("x",function(t){return r(t)+o/2}).style("text-anchor","middle").attr("y",x.effectiveHeight()).attr("dy",12).on("click",x.xAxisOnClick()).text(x.colsLabel()).merge(s),rt.transition(s,x.transitionDuration(),x.transitionDelay()).text(x.colsLabel()).attr("x",function(t){return r(t)+o/2}).attr("y",x.effectiveHeight());var f=d.select("g.rows");f.empty()&&(f=d.append("g").attr("class","rows axis"));var h=f.selectAll("text").data(e.domain());return h.exit().remove(),h=h.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(t){return e(t)+a/2}).attr("dy",6).on("click",x.yAxisOnClick()).text(x.rowsLabel()).merge(h),rt.transition(h,x.transitionDuration(),x.transitionDelay()).text(x.rowsLabel()).attr("y",function(t){return e(t)+a/2}),x.hasFilter()?x.selectAll("g.box-group").each(function(t){x.isSelectedNode(t)?x.highlightSelected(this):x.fadeDeselected(this)}):x.selectAll("g.box-group").each(function(){x.resetHighlight(this)}),x},x.boxOnClick=function(t){return arguments.length?(c=t,x):c},x.xAxisOnClick=function(t){return arguments.length?(a=t,x):a},x.yAxisOnClick=function(t){return arguments.length?(u=t,x):u},x.xBorderRadius=function(t){return arguments.length?(m=t,x):m},x.yBorderRadius=function(t){return arguments.length?(b=t,x):b},x.isSelectedNode=function(t){return x.hasFilter(t.key)},x.anchor(t,n)},et.box=function(){var k=1,E=1,S=0,T=null,C=Number,N=c,L=l,R=null,D=!1,O=.3,P=.8,z=!1,F=!0,I=!1;function n(t){t.each(function(n,t){n=n.map(C).sort(et.ascending);var e,r,i=et.select(this),o=n.length;if(0!==o){var a=n.quartiles=L(n),u=N&&N.call(this,n,t),c=u&&u.map(function(t){return n[t]}),l=u?et.range(0,u[0]).concat(et.range(u[1]+1,o)):et.range(o);r=F?(e=n[0],n[o-1]):(e=n[u[0]],n[u[1]]);var s=et.range(u[0],u[1]+1),f=et.scaleLinear().domain(T&&T.call(this,n,t)||[e,r]).range([E,0]),h=this.__chart__||et.scaleLinear().domain([0,1/0]).range(f.range());this.__chart__=f;var d=i.selectAll("line.center").data(c?[c]:[]);d.enter().insert("line","rect").attr("class","center").attr("x1",k/2).attr("y1",function(t){return h(t[0])}).attr("x2",k/2).attr("y2",function(t){return h(t[1])}).style("opacity",1e-6).transition().duration(S).delay(0).style("opacity",1).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}),d.transition().duration(S).delay(0).style("opacity",1).attr("x1",k/2).attr("x2",k/2).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}),d.exit().transition().duration(S).delay(0).style("opacity",1e-6).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}).remove();var p=i.selectAll("rect.box").data([a]);p.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return h(t[2])}).attr("width",k).attr("height",function(t){return h(t[0])-h(t[2])}).style("fill-opacity",D?.1:1).transition().duration(S).delay(0).attr("y",function(t){return f(t[2])}).attr("height",function(t){return f(t[0])-f(t[2])}),p.transition().duration(S).delay(0).attr("width",k).attr("y",function(t){return f(t[2])}).attr("height",function(t){return f(t[0])-f(t[2])});var g=i.selectAll("line.median").data([a[1]]);g.enter().append("line").attr("class","median").attr("x1",0).attr("y1",h).attr("x2",k).attr("y2",h).transition().duration(S).delay(0).attr("y1",f).attr("y2",f),g.transition().duration(S).delay(0).attr("x1",0).attr("x2",k).attr("y1",f).attr("y2",f);var v=i.selectAll("line.whisker").data(c||[]);if(v.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",h).attr("x2",k).attr("y2",h).style("opacity",1e-6).transition().duration(S).delay(0).attr("y1",f).attr("y2",f).style("opacity",1),v.transition().duration(S).delay(0).attr("x1",0).attr("x2",k).attr("y1",f).attr("y2",f).style("opacity",1),v.exit().transition().duration(S).delay(0).attr("y1",f).attr("y2",f).style("opacity",1e-6).remove(),F){var y=I?"outlierBold":"outlier",m=I?3:5,b=I?function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}:function(){return k/2},x=i.selectAll("circle."+y).data(l,Number);x.enter().insert("circle","text").attr("class",y).attr("r",m).attr("cx",b).attr("cy",function(t){return h(n[t])}).style("opacity",1e-6).transition().duration(S).delay(0).attr("cy",function(t){return f(n[t])}).style("opacity",.6),z&&(x.selectAll("title").remove(),x.append("title").text(function(t){return n[t]})),x.transition().duration(S).delay(0).attr("cx",b).attr("cy",function(t){return f(n[t])}).style("opacity",.6),x.exit().transition().duration(S).delay(0).attr("cy",0).style("opacity",1e-6).remove()}if(D){var _=i.selectAll("circle.data").data(s);_.enter().insert("circle","text").attr("class","data").attr("r",3).attr("cx",function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}).attr("cy",function(t){return h(n[t])}).style("opacity",1e-6).transition().duration(S).delay(0).attr("cy",function(t){return f(n[t])}).style("opacity",O),z&&(_.selectAll("title").remove(),_.append("title").text(function(t){return n[t]})),_.transition().duration(S).delay(0).attr("cx",function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}).attr("cy",function(t){return f(n[t])}).style("opacity",O),_.exit().transition().duration(S).delay(0).attr("cy",0).style("opacity",1e-6).remove()}var w=R||f.tickFormat(8),A=i.selectAll("text.box").data(a);A.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,n){return 1&n?6:-6}).attr("x",function(t,n){return 1&n?k:0}).attr("y",h).attr("text-anchor",function(t,n){return 1&n?"start":"end"}).text(w).transition().duration(S).delay(0).attr("y",f),A.transition().duration(S).delay(0).text(w).attr("x",function(t,n){return 1&n?k:0}).attr("y",f);var M=i.selectAll("text.whisker").data(c||[]);M.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",k).attr("y",h).text(w).style("opacity",1e-6).transition().duration(S).delay(0).attr("y",f).style("opacity",1),M.transition().duration(S).delay(0).text(w).attr("x",k).attr("y",f).style("opacity",1),M.exit().transition().duration(S).delay(0).attr("y",f).style("opacity",1e-6).remove(),delete n.quartiles}}),et.timerFlush()}return n.width=function(t){return arguments.length?(k=t,n):k},n.height=function(t){return arguments.length?(E=t,n):E},n.tickFormat=function(t){return arguments.length?(R=t,n):R},n.showOutliers=function(t){return arguments.length?(F=t,n):F},n.boldOutlier=function(t){return arguments.length?(I=t,n):I},n.renderDataPoints=function(t){return arguments.length?(D=t,n):D},n.renderTitle=function(t){return arguments.length?(z=t,n):z},n.dataOpacity=function(t){return arguments.length?(O=t,n):O},n.dataWidthPortion=function(t){return arguments.length?(P=t,n):P},n.duration=function(t){return arguments.length?(S=t,n):S},n.domain=function(t){return arguments.length?(T=null===t?t:"function"==typeof t?t:rt.utils.constant(t),n):T},n.value=function(t){return arguments.length?(C=t,n):C},n.whiskers=function(t){return arguments.length?(N=t,n):N},n.quartiles=function(t){return arguments.length?(L=t,n):L},n},rt.boxPlot=function(t,n){var o=rt.coordinateGridMixin({});var e=function(a){return function(t){for(var n=t.quartiles[0],e=t.quartiles[2],r=(e-n)*a,i=-1,o=t.length;t[++i]<n-r;);for(;t[--o]>e+r;);return[i,o]}}(1.5),r=et.box(),i=null,a=!1,u=.3,c=.8,l=!0,s=!1,f=8,h=function(t,n){return o.isOrdinal()?o.x().bandwidth():t/(1+o.boxPadding())/n};o.x(et.scaleBand()),o.xUnits(rt.units.ordinal),o.data(function(t){return t.all().map(function(n){return n.map=function(t){return t.call(n,n)},n}).filter(function(t){return 0!==o.valueAccessor()(t).length})}),o.boxPadding=o._rangeBandPadding,o.boxPadding(.8),o.outerPadding=o._outerRangeBandPadding,o.outerPadding(.5),o.boxWidth=function(t){return arguments.length?(h="function"==typeof t?t:rt.utils.constant(t),o):h};function d(t,n){return"translate("+o.x()(o.keyAccessor()(t,n))+", 0)"}function p(){return et.min(o.data(),function(t){return et.min(o.valueAccessor()(t))})}function g(){return et.max(o.data(),function(t){return et.max(o.valueAccessor()(t))})}function v(){return(g()-p())/o.effectiveHeight()}return o._preprocessData=function(){o.elasticX()&&o.x().domain([])},o.plotData=function(){var t=h(o.effectiveWidth(),o.xUnitCount());r.whiskers(e).width(t).height(o.effectiveHeight()).value(o.valueAccessor()).domain(o.y().domain()).duration(o.transitionDuration()).tickFormat(i).renderDataPoints(a).dataOpacity(u).dataWidthPortion(c).renderTitle(o.renderTitle()).showOutliers(l).boldOutlier(s);var n=o.chartBodyG().selectAll("g.box").data(o.data(),o.keyAccessor());!function(t){rt.transition(t,o.transitionDuration(),o.transitionDelay()).attr("transform",d).call(r).each(function(t){var n=o.getColor(t,0);et.select(this).select("rect.box").attr("fill",n),et.select(this).selectAll("circle.data").attr("fill",n)})}(function(t){var n=t.enter().append("g");return n.attr("class","box").attr("transform",d).call(r).on("click",function(t){o.filter(o.keyAccessor()(t)),o.redrawGroup()}),n.merge(t)}(n)),function(t){t.exit().remove().call(r)}(n),o.fadeDeselectedArea(o.filter())},o.fadeDeselectedArea=function(t){if(o.hasFilter())if(o.isOrdinal())o.g().selectAll("g.box").each(function(t){o.isSelectedNode(t)?o.highlightSelected(this):o.fadeDeselected(this)});else{if(!o.brushOn()&&!o.parentBrushOn())return;var e=t[0],r=t[1],i=o.keyAccessor();o.g().selectAll("g.box").each(function(t){var n=i(t);n<e||r<=n?o.fadeDeselected(this):o.highlightSelected(this)})}else o.g().selectAll("g.box").each(function(){o.resetHighlight(this)})},o.isSelectedNode=function(t){return o.hasFilter(o.keyAccessor()(t))},o.yAxisMin=function(){var t=f*v();return rt.utils.subtract(p()-t,o.yAxisPadding())},o.yAxisMax=function(){var t=f*v();return rt.utils.add(g()+t,o.yAxisPadding())},o.tickFormat=function(t){return arguments.length?(i=t,o):i},o.yRangePadding=function(t){return arguments.length?(f=t,o):f},o.renderDataPoints=function(t){return arguments.length?(a=t,o):a},o.dataOpacity=function(t){return arguments.length?(u=t,o):u},o.dataWidthPortion=function(t){return arguments.length?(c=t,o):c},o.showOutliers=function(t){return arguments.length?(l=t,o):l},o.boldOutlier=function(t){return arguments.length?(s=t,o):s},o.anchor(t,n)},rt.selectMenu=function(t,n){var e,r="dc-select-option",i=rt.baseMixin({}),o="Select all",a=!1,u=null,c=null,l=function(t,n){return i.keyAccessor()(t)>i.keyAccessor()(n)?1:i.keyAccessor()(n)>i.keyAccessor()(t)?-1:0},s=function(t){return 0<i.valueAccessor()(t)};i.data(function(t){return t.all().filter(s)}),i._doRender=function(){return i.select("select").remove(),(e=i.root().append("select").classed("dc-select-menu",!0)).append("option").text(o).attr("value",""),i._doRedraw(),i};var f=window.navigator.userAgent;function h(t,n){var e,r=et.event.target;r.selectedOptions?e=Array.prototype.slice.call(r.selectedOptions).map(function(t){return t.value}):e=[].slice.call(et.event.target.options).filter(function(t){return t.selected}).map(function(t){return t.value});1===e.length&&""===e[0]?e=u||null:a||1!==e.length||(e=e[0]),i.onChange(e)}return 0<f.indexOf("Trident/")&&-1===f.indexOf("MSIE")&&(i.redraw=i.render),i._doRedraw=function(){return function(){a?e.attr("multiple",!0):e.attr("multiple",null);null!==c?e.attr("size",c):e.attr("size",null)}(),function(){var t=e.selectAll("option."+r).data(i.data(),function(t){return i.keyAccessor()(t)});t.exit().remove(),t.enter().append("option").classed(r,!0).attr("value",function(t){return i.keyAccessor()(t)}).merge(t).text(i.title()),e.selectAll("option."+r).sort(l),e.on("change",h)}(),i.hasFilter()&&a?e.selectAll("option").property("selected",function(t){return void 0!==t&&0<=i.filters().indexOf(String(i.keyAccessor()(t)))}):i.hasFilter()?e.property("value",i.filter()):e.property("value",""),i},i.onChange=function(t){t&&a?i.replaceFilter([t]):t?i.replaceFilter(t):i.filterAll(),rt.events.trigger(function(){i.redrawGroup()})},i.order=function(t){return arguments.length?(l=t,i):l},i.promptText=function(t){return arguments.length?(o=t,i):o},i.filterDisplayed=function(t){return arguments.length?(s=t,i):s},i.multiple=function(t){return arguments.length?(a=t,i):a},i.promptValue=function(t){return arguments.length?(u=t,i):u},i.numberVisible=function(t){return arguments.length?(c=t,i):c},i.size=rt.logger.deprecate(i.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),i.anchor(t,n)},rt.textFilterWidget=function(t,n){var e=rt.baseMixin({}),r=function(t){return t.toLowerCase()},i=function(n){return n=r(n),function(t){return-1!==r(t).indexOf(n)}},o="search";return e.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),e._doRender=function(){return e.select("input").remove(),e.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){e.dimension().filterFunction(i(this.value)),rt.events.trigger(function(){rt.redrawAll()},rt.constants.EVENT_DELAY)}),e._doRedraw(),e},e._doRedraw=function(){return e.root().selectAll("input").attr("placeholder",o),e},e.normalize=function(t){return arguments.length?(r=t,e):r},e.placeHolder=function(t){return arguments.length?(o=t,e):o},e.filterFunctionFactory=function(t){return arguments.length?(i=t,e):i},e.anchor(t,n)},rt.cboxMenu=function(t,n){var e,r="dc-cbox-item",i=rt.baseMixin({}),o="Select all",a=!1,u="radio",c=null,l=Math.floor(1e5*Math.random())+1,s=function(t,n){return i.keyAccessor()(t)>i.keyAccessor()(n)?1:i.keyAccessor()(n)>i.keyAccessor()(t)?-1:0},f=function(t){return 0<i.valueAccessor()(t)};function h(t,n){var e;et.select(et.event.target).datum()?(e=et.select(this).selectAll("input").filter(function(t){if(t)return this.checked}).nodes().map(function(t){return t.value}),a||1!==e.length||(e=e[0])):e=c||null,i.onChange(e)}return i.data(function(t){return t.all().filter(f)}),i._doRender=function(){return i._doRedraw()},i._doRedraw=function(){return i.select("ul").remove(),e=i.root().append("ul").classed("dc-cbox-group",!0),function(){var t=e.selectAll("li."+r).data(i.data(),function(t){return i.keyAccessor()(t)});if(t.exit().remove(),(t=t.enter().append("li").classed(r,!0).merge(t)).append("input").attr("type",u).attr("value",function(t){return i.keyAccessor()(t)}).attr("name","domain_"+l).attr("id",function(t,n){return"input_"+l+"_"+n}),t.append("label").attr("for",function(t,n){return"input_"+l+"_"+n}).text(i.title()),a)e.append("li").append("input").attr("type","reset").text(o).on("click",h);else{var n=e.append("li");n.append("input").attr("type",u).attr("value",c).attr("name","domain_"+l).attr("id",function(){return"input_"+l+"_all"}).property("checked",!0),n.append("label").attr("for",function(){return"input_"+l+"_all"}).text(o)}e.selectAll("li."+r).sort(s),e.on("change",h)}(),i.hasFilter()&&a?e.selectAll("input").property("checked",function(t){return t&&0<=i.filters().indexOf(String(i.keyAccessor()(t)))||!1}):i.hasFilter()&&e.selectAll("input").property("checked",function(t){return!!t&&i.keyAccessor()(t)===i.filter()}),i},i.onChange=function(t){t&&a?i.replaceFilter([t]):t?i.replaceFilter(t):i.filterAll(),rt.events.trigger(function(){i.redrawGroup()})},i.order=function(t){return arguments.length?(s=t,i):s},i.promptText=function(t){return arguments.length?(o=t,i):o},i.filterDisplayed=function(t){return arguments.length?(f=t,i):f},i.multiple=function(t){return arguments.length?(u=(a=t)?"checkbox":"radio",i):a},i.promptValue=function(t){return arguments.length?(c=t,i):c},i.anchor(t,n)},rt.abstractBubbleChart=rt.bubbleMixin,rt.baseChart=rt.baseMixin,rt.capped=rt.capMixin,rt.colorChart=rt.colorMixin,rt.coordinateGridChart=rt.coordinateGridMixin,rt.marginable=rt.marginMixin,rt.stackableChart=rt.stackMixin,rt.d3=et,rt.crossfilter=H,rt}if("function"==typeof define&&define.amd)define(["d3","crossfilter2"],t);else if("object"==typeof module&&module.exports){var n=require("d3"),e=require("crossfilter2");"function"!=typeof e&&(e=e.crossfilter),module.exports=t(n,e)}else this.dc=t(d3,crossfilter)}(),function(){"use strict";var c,l={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};l.encodeHTMLSource=function(t){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(e,function(t){return n[t]||t}):""}},c=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):c.doT=l;var s={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},f=/$^/;function h(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}l.template=function(t,n,e){var r,i,o=(n=n||l.templateSettings).append?s.append:s.split,a=0,u=n.use||n.define?function r(i,t,o){return("string"==typeof t?t:t.toString()).replace(i.define||f,function(t,r,n,e){return 0===r.indexOf("def.")&&(r=r.substring(4)),r in o||(":"===n?(i.defineParams&&e.replace(i.defineParams,function(t,n,e){o[r]={arg:n,text:e}}),r in o||(o[r]=e)):new Function("def","def['"+r+"']="+e)(o)),""}).replace(i.use||f,function(t,n){i.useParams&&(n=n.replace(i.useParams,function(t,n,e,r){if(o[e]&&o[e].arg&&r){var i=(e+":"+r).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[i]=o[e].text.replace(new RegExp("(^|[^\\w$])"+o[e].arg+"([^\\w$])","g"),"$1"+r+"$2"),n+"def.__exp['"+i+"']"}}));var e=new Function("def","return "+n)(o);return e?r(i,e,o):e})}(n,t,e||{}):t;u=("var out='"+(n.strip?u.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):u).replace(/'|\\/g,"\\$&").replace(n.interpolate||f,function(t,n){return o.start+h(n)+o.end}).replace(n.encode||f,function(t,n){return r=!0,o.startencode+h(n)+o.end}).replace(n.conditional||f,function(t,n,e){return n?e?"';}else if("+h(e)+"){out+='":"';}else{out+='":e?"';if("+h(e)+"){out+='":"';}out+='"}).replace(n.iterate||f,function(t,n,e,r){return n?(a+=1,i=r||"i"+a,n=h(n),"';var arr"+a+"="+n+";if(arr"+a+"){var "+e+","+i+"=-1,l"+a+"=arr"+a+".length-1;while("+i+"<l"+a+"){"+e+"=arr"+a+"["+i+"+=1];out+='"):"';} } out+='"}).replace(n.evaluate||f,function(t,n){return"';"+h(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),r&&(n.selfcontained||!c||c._encodeHTML||(c._encodeHTML=l.encodeHTMLSource(n.doNotSkipEncoded)),u="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+l.encodeHTMLSource.toString()+"("+(n.doNotSkipEncoded||"")+"));"+u);try{return new Function(n.varname,u)}catch(t){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+u),t}},l.compile=function(t,n){return l.template(t,null,n)}}();
//# sourceMappingURL=dcbundle.js.map
