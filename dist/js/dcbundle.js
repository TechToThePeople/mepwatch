!function(l){"use strict";if("undefined"!=typeof window){var e=!0,i=10,r="",o=0,a="",n=null,u="",c=!1,s={resize:1,click:1},f=128,h=!0,d=1,p="bodyOffset",g=p,v=!0,y="",m={},b=32,t=null,x=!1,_="[iFrameSizer]",w=_.length,A="",M={max:1,min:1,bodyScroll:1,documentElementScroll:1},k="child",E=!0,S=window.parent,C="*",T=0,N=!1,L=null,R=16,D=1,O="scroll",P=O,z=window,F=function(){ut("MessageCallback function not defined")},I=function(){},B=function(){},U={height:function(){return ut("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return ut("Custom width calculation function not defined"),document.body.scrollWidth}},j={},q=!1;try{var H=Object.create({},{passive:{get:function(){q=!0}},once:{get:function(){!0}}});window.addEventListener("test",nt,H),window.removeEventListener("test",nt,H)}catch(t){}var Y,G,V,X,W,$,K,Z=Date.now||function(){return(new Date).getTime()},Q={bodyOffset:function(){return document.body.offsetHeight+mt("marginTop")+mt("marginBottom")},offset:function(){return Q.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return U.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,xt(Q))},min:function(){return Math.min.apply(null,xt(Q))},grow:function(){return Q.max()},lowestElement:function(){return Math.max(Q.bodyOffset()||Q.documentElementOffset(),bt("bottom",wt()))},taggedElement:function(){return _t("bottom","data-iframe-height")}},J={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return U.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(J.bodyScroll(),J.documentElementScroll())},max:function(){return Math.max.apply(null,xt(J))},min:function(){return Math.min.apply(null,xt(J))},rightMostElement:function(){return bt("right",wt())},taggedElement:function(){return _t("right","data-iframe-width")}},tt=(Y=At,W=null,$=0,K=function(){$=Z(),W=null,X=Y.apply(G,V),W||(G=V=null)},function(){var t=Z();$||($=t);var n=R-(t-$);return G=this,V=arguments,n<=0||R<n?(W&&(clearTimeout(W),W=null),$=t,X=Y.apply(G,V),W||(G=V=null)):W||(W=setTimeout(K,n)),X});et(window,"message",Tt),et(window,"readystatechange",Nt),Nt()}function nt(){}function et(t,n,e,r){"addEventListener"in window?t.addEventListener(n,e,!!q&&(r||{})):"attachEvent"in window&&t.attachEvent("on"+n,e)}function rt(t,n,e){"removeEventListener"in window?t.removeEventListener(n,e,!1):"detachEvent"in window&&t.detachEvent("on"+n,e)}function it(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ot(t){return _+"["+A+"] "+t}function at(t){x&&"object"==typeof window.console&&console.log(ot(t))}function ut(t){"object"==typeof window.console&&console.warn(ot(t))}function ct(){var t;!function(){function t(t){return"true"===t}var n=y.substr(w).split(":");A=n[0],o=l!==n[1]?Number(n[1]):o,c=l!==n[2]?t(n[2]):c,x=l!==n[3]?t(n[3]):x,b=l!==n[4]?Number(n[4]):b,e=l!==n[6]?t(n[6]):e,a=n[7],g=l!==n[8]?n[8]:g,r=n[9],u=n[10],T=l!==n[11]?Number(n[11]):T,m.enable=l!==n[12]&&t(n[12]),k=l!==n[13]?n[13]:k,P=l!==n[14]?n[14]:P}(),at("Initialising iFrame ("+location.href+")"),function(){function t(t,n){return"function"==typeof t&&(at("Setup custom "+n+"CalcMethod"),U[n]=t,t="custom"),t}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(n=window.iFrameResizer,at("Reading data from page: "+JSON.stringify(n)),F="messageCallback"in n?n.messageCallback:F,I="readyCallback"in n?n.readyCallback:I,C="targetOrigin"in n?n.targetOrigin:C,g="heightCalculationMethod"in n?n.heightCalculationMethod:g,P="widthCalculationMethod"in n?n.widthCalculationMethod:P,g=t(g,"height"),P=t(P,"width"));var n;at("TargetOrigin for parent set to: "+C)}(),function(){l===a&&(a=o+"px");st("margin",function(t,n){-1!==n.indexOf("-")&&(ut("Negative CSS value ignored for "+t),n="");return n}("margin",a))}(),st("background",r),st("padding",u),(t=document.createElement("div")).style.clear="both",t.style.display="block",document.body.appendChild(t),dt(),pt(),document.documentElement.style.height="",document.body.style.height="",at('HTML & body height set to "auto"'),at("Enable public methods"),z.parentIFrame={autoResize:function(t){return!0===t&&!1===e?(e=!0,gt()):!1===t&&!0===e&&(e=!1,vt()),e},close:function(){Ct(0,0,"close"),at("Disable outgoing messages"),E=!1,at("Remove event listener: Message"),rt(window,"message",Tt),!0===e&&vt()},getId:function(){return A},getPageInfo:function(t){"function"==typeof t?(B=t,Ct(0,0,"pageInfo")):(B=function(){},Ct(0,0,"pageInfoStop"))},moveToAnchor:function(t){m.findTarget(t)},reset:function(){St("parentIFrame.reset")},scrollTo:function(t,n){Ct(n,t,"scrollTo")},scrollToOffset:function(t,n){Ct(n,t,"scrollToOffset")},sendMessage:function(t,n){Ct(0,0,"message",JSON.stringify(t),n)},setHeightCalculationMethod:function(t){g=t,dt()},setWidthCalculationMethod:function(t){P=t,pt()},setTargetOrigin:function(t){at("Set targetOrigin: "+t),C=t},size:function(t,n){var e=(t||"")+(n?","+n:"");Mt("size","parentIFrame.size("+e+")",t,n)}},gt(),m=function(){function o(t){var n=t.getBoundingClientRect(),e={x:window.pageXOffset!==l?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==l?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(n.left,10)+parseInt(e.x,10),y:parseInt(n.top,10)+parseInt(e.y,10)}}function n(t){var n,e=t.split("#")[1]||t,r=decodeURIComponent(e),i=document.getElementById(r)||document.getElementsByName(r)[0];l!==i?(n=o(i),at("Moving to in page link (#"+e+") at x: "+n.x+" y: "+n.y),Ct(n.y,n.x,"scrollToOffset")):(at("In page link (#"+e+") not found in iFrame, so sending to parent"),Ct(0,0,"inPageLink","#"+e))}function t(){""!==location.hash&&"#"!==location.hash&&n(location.href)}m.enable?Array.prototype.forEach&&document.querySelectorAll?(at("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(t){"#"!==t.getAttribute("href")&&et(t,"click",function(t){t.preventDefault(),n(this.getAttribute("href"))})}),et(window,"hashchange",t),setTimeout(t,f)):ut("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):at("In page linking not enabled");return{findTarget:n}}(),Mt("init","Init message from host page"),I()}function st(t,n){l!==n&&""!==n&&"null"!==n&&at("Body "+t+' set to "'+(document.body.style[t]=n)+'"')}function lt(e){var t={add:function(t){function n(){Mt(e.eventName,e.eventType)}j[t]=n,et(window,t,n,{passive:!0})},remove:function(t){var n=j[t];delete j[t],rt(window,t,n)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),at(it(e.method)+" event listener: "+e.eventType)}function ft(t){lt({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),lt({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),lt({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),lt({method:t,eventType:"Input",eventName:"input"}),lt({method:t,eventType:"Mouse Up",eventName:"mouseup"}),lt({method:t,eventType:"Mouse Down",eventName:"mousedown"}),lt({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),lt({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),lt({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),lt({method:t,eventType:"Touch Start",eventName:"touchstart"}),lt({method:t,eventType:"Touch End",eventName:"touchend"}),lt({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),lt({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),lt({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),lt({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===k&&lt({method:t,eventType:"IFrame Resized",eventName:"resize"})}function ht(t,n,e,r){return n!==t&&(t in e||(ut(t+" is not a valid option for "+r+"CalculationMethod."),t=n),at(r+' calculation method set to "'+t+'"')),t}function dt(){g=ht(g,p,Q,"height")}function pt(){P=ht(P,O,J,"width")}function gt(){var t;!0===e?(ft("add"),t=b<0,window.MutationObserver||window.WebKitMutationObserver?t?yt():n=function(){function n(t){function n(t){!1===t.complete&&(at("Attach listeners to "+t.src),t.addEventListener("load",i,!1),t.addEventListener("error",o,!1),u.push(t))}"attributes"===t.type&&"src"===t.attributeName?n(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),n)}function r(t){var n;at("Remove listeners from "+t.src),t.removeEventListener("load",i,!1),t.removeEventListener("error",o,!1),n=t,u.splice(u.indexOf(n),1)}function e(t,n,e){r(t.target),Mt(n,e+": "+t.target.src,l,l)}function i(t){e(t,"imageLoad","Image loaded")}function o(t){e(t,"imageLoadFailed","Image load failed")}function t(t){Mt("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(n)}var a,u=[],c=window.MutationObserver||window.WebKitMutationObserver,s=(a=document.querySelector("body"),s=new c(t),at("Create body MutationObserver"),s.observe(a,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),s);return{disconnect:function(){"disconnect"in s&&(at("Disconnect body MutationObserver"),s.disconnect(),u.forEach(r))}}}():(at("MutationObserver not supported in this browser!"),yt())):at("Auto Resize disabled")}function vt(){ft("remove"),null!==n&&n.disconnect(),clearInterval(t)}function yt(){0!==b&&(at("setInterval: "+b+"ms"),t=setInterval(function(){Mt("interval","setInterval: "+b)},Math.abs(b)))}function mt(t,r){var n=0;return r=r||document.body,n="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(n=document.defaultView.getComputedStyle(r,null))?n[t]:0:function(t){if(/^\d+(px)?$/i.test(t))return parseInt(t,i);var n=r.style.left,e=r.runtimeStyle.left;return r.runtimeStyle.left=r.currentStyle.left,r.style.left=t||0,t=r.style.pixelLeft,r.style.left=n,r.runtimeStyle.left=e,t}(r.currentStyle[t]),parseInt(n,i)}function bt(t,n){for(var e,r=n.length,i=0,o=0,a=it(t),u=Z(),c=0;c<r;c++)o<(i=n[c].getBoundingClientRect()[t]+mt("margin"+a,n[c]))&&(o=i);return u=Z()-u,at("Parsed "+r+" HTML elements"),at("Element position calculated in "+u+"ms"),R/2<(e=u)&&at("Event throttle increased to "+(R=2*e)+"ms"),o}function xt(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function _t(t,n){var e=document.querySelectorAll("["+n+"]");return 0===e.length&&(ut("No tagged elements ("+n+") found on page"),document.querySelectorAll("body *")),bt(t,e)}function wt(){return document.querySelectorAll("body *")}function At(t,n,e,r){var i,o;!function(){function t(t,n){return!(Math.abs(t-n)<=T)}return i=l!==e?e:Q[g](),o=l!==r?r:J[P](),t(d,i)||c&&t(D,o)}()&&"init"!==t?t in{init:1,interval:1,size:1}||!(g in M||c&&P in M)?t in{interval:1}||at("No change in size detected"):St(n):(kt(),Ct(d=i,D=o,t))}function Mt(t,n,e,r){N&&t in s?at("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||at("Trigger event: "+n),"init"===t?At(t,n,e,r):tt(t,n,e,r))}function kt(){N||(N=!0,at("Trigger event lock on")),clearTimeout(L),L=setTimeout(function(){N=!1,at("Trigger event lock off"),at("--")},f)}function Et(t){d=Q[g](),D=J[P](),Ct(d,D,t)}function St(t){var n=g;g=p,at("Reset trigger event: "+t),kt(),Et("reset"),g=n}function Ct(t,n,e,r,i){var o;!0===E&&(l===i?i=C:at("Message targetOrigin: "+i),at("Sending message to host page ("+(o=A+":"+t+":"+n+":"+e+(l!==r?":"+r:""))+")"),S.postMessage(_+o,i))}function Tt(n){var e={init:function(){y=n.data,S=n.source,ct(),h=!1,setTimeout(function(){v=!1},f)},reset:function(){v?at("Page reset ignored by init"):(at("Page size reset by host page"),Et("resetPage"))},resize:function(){Mt("resizeParent","Parent window requested size check")},moveToAnchor:function(){m.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=i();at("PageInfoFromParent called from parent: "+t),B(JSON.parse(t)),at(" --")},message:function(){var t=i();at("MessageCallback called from parent: "+t),F(JSON.parse(t)),at(" --")}};function r(){return n.data.split("]")[1].split(":")[0]}function i(){return n.data.substr(n.data.indexOf(":")+1)}function o(){return n.data.split(":")[2]in{true:1,false:1}}function t(){var t=r();t in e?e[t]():("undefined"==typeof module||!module.exports)&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||o()||ut("Unexpected message ("+n.data+")")}_===(""+n.data).substr(0,w)&&(!1===h?t():o()?e.init():at('Ignored message of type "'+r()+'". Received before initialization.'))}function Nt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).crossfilter=t()}}(function(){return function o(a,u,c){function s(n,t){if(!u[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[n]={exports:{}};a[n][0].call(i.exports,function(t){return s(a[n][1][t]||t)},i,i.exports,o,a,u,c)}return u[n].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)s(c[t]);return s}({1:[function(t,n,e){n.exports=t("./src/crossfilter").crossfilter},{"./src/crossfilter":6}],2:[function(t,V,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",e=1/0,i="[object Function]",o="[object GeneratorFunction]",a="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,g=d||p||Function("return this")();var v,y=Array.prototype,m=Function.prototype,b=Object.prototype,x=g["__core-js_shared__"],_=(v=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",w=m.toString,A=b.hasOwnProperty,M=b.toString,k=RegExp("^"+w.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=g.Symbol,S=y.splice,C=I(g,"Map"),T=I(Object,"create"),N=E?E.prototype:void 0,L=N?N.toString:void 0;function R(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function D(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function O(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function P(t,n){for(var e,r,i=t.length;i--;)if((e=t[i][0])===(r=n)||e!=e&&r!=r)return i;return-1}function z(t){return!(!Y(t)||(n=t,_&&_ in n))&&(H(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t)?k:h).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var n}function F(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function I(t,n){var e,r,i=(r=n,null==(e=t)?void 0:e[r]);return z(i)?i:void 0}R.prototype.clear=function(){this.__data__=T?T(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var n=this.__data__;if(T){var e=n[t];return e===r?void 0:e}return A.call(n,t)?n[t]:void 0},R.prototype.has=function(t){var n=this.__data__;return T?void 0!==n[t]:A.call(n,t)},R.prototype.set=function(t,n){return this.__data__[t]=T&&void 0===n?r:n,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(t){var n=this.__data__,e=P(n,t);return!(e<0||(e==n.length-1?n.pop():S.call(n,e,1),0))},D.prototype.get=function(t){var n=this.__data__,e=P(n,t);return e<0?void 0:n[e][1]},D.prototype.has=function(t){return-1<P(this.__data__,t)},D.prototype.set=function(t,n){var e=this.__data__,r=P(e,t);return r<0?e.push([t,n]):e[r][1]=n,this},O.prototype.clear=function(){this.__data__={hash:new R,map:new(C||D),string:new R}},O.prototype.delete=function(t){return F(this,t).delete(t)},O.prototype.get=function(t){return F(this,t).get(t)},O.prototype.has=function(t){return F(this,t).has(t)},O.prototype.set=function(t,n){return F(this,t).set(t,n),this};var B=j(function(t){var n;t=null==(n=t)?"":function(t){if("string"==typeof t)return t;if(G(t))return L?L.call(t):"";var n=t+"";return"0"==n&&1/t==-e?"-0":n}(n);var i=[];return s.test(t)&&i.push(""),t.replace(l,function(t,n,e,r){i.push(e?r.replace(f,"$1"):n||t)}),i});function U(t){if("string"==typeof t||G(t))return t;var n=t+"";return"0"==n&&1/t==-e?"-0":n}function j(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new TypeError(n);var a=function(){var t=arguments,n=o?o.apply(this,t):t[0],e=a.cache;if(e.has(n))return e.get(n);var r=i.apply(this,t);return a.cache=e.set(n,r),r};return a.cache=new(j.Cache||O),a}j.Cache=O;var q=Array.isArray;function H(t){var n=Y(t)?M.call(t):"";return n==i||n==o}function Y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function G(t){return"symbol"==typeof t||!!(n=t)&&"object"==typeof n&&M.call(t)==a;var n}V.exports=function(t,n,e){var r,i=-1,o=(n=function(t,n){if(q(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!G(t))||c.test(t)||!u.test(t)||null!=n&&t in Object(n)}(n,t)?[n]:q(r=n)?r:B(r)).length;for(o||(t=void 0,o=1);++i<o;){var a=null==t?void 0:t[U(n[i])];void 0===a&&(i=o,a=e),t=H(a)?a.call(t):a}return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){n.exports={version:"1.4.6"}},{}],4:[function(t,n,e){if("undefined"!=typeof Uint8Array)var o=function(t){return new Uint8Array(t)},r=function(t,n){if(t.length>=n)return t;var e=new t.constructor(n);return e.set(t),e},a=function(t,n){var e,r,i;switch(n){case 16:i=t.length,e=new Uint16Array(i);break;case 32:r=t.length,e=new Uint32Array(r);break;default:throw new Error("invalid array width!")}return e.set(t),e};function i(t){for(var n=new Array(t),e=-1;++e<t;)n[e]=0;return n}function u(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=o(t)}u.prototype.lengthen=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n)this[n]=r(this[n],t);this.length=t},u.prototype.add=function(){var t,n,e,r,i;for(r=0,i=this.subarrays;r<i;++r)if(e=~(t=this.masks[r])&-~t,!(32<=(n=this.width-32*r))||e)return n<32&&e&1<<n&&(this[r]=a(this[r],n<<=1),this.width=32*r+n),this.masks[r]|=e,{offset:r,one:e};return this[this.subarrays]=o(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},u.prototype.copy=function(t,n){var e,r;for(e=0,r=this.subarrays;e<r;++e)this[e][t]=this[e][n]},u.prototype.truncate=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n){for(var r=this.length-1;t<=r;r--)this[n][r]=0;this[n].length=t}this.length=t},u.prototype.zero=function(t){var n,e;for(n=0,e=this.subarrays;n<e;++n)if(this[n][t])return!1;return!0},u.prototype.zeroExcept=function(t,n,e){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(r===n?this[r][t]&e:this[r][t])return!1;return!0},u.prototype.zeroExceptMask=function(t,n){var e,r;for(e=0,r=this.subarrays;e<r;++e)if(this[e][t]&n[e])return!1;return!0},u.prototype.only=function(t,n,e){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(this[r][t]!=(r===n?e:0))return!1;return!0},u.prototype.onlyExcept=function(t,n,e,r,i){var o,a,u;for(a=0,u=this.subarrays;a<u;++a)if(o=this[a][t],a===n&&(o&=e),o!=(a===r?i:0))return!1;return!0},n.exports={array8:i,array16:i,array32:i,arrayLengthen:function(t,n){for(var e=t.length;e<n;)t[e++]=0;return t},arrayWiden:function(t,n){if(32<n)throw new Error("invalid array width!");return t},bitarray:u}},{}],5:[function(t,n,e){"use strict";var r=t("./identity");function i(o){function t(t,n,e,r){for(;e<r;){var i=e+r>>>1;n<o(t[i])?r=i:e=i+1}return e}return(t.right=t).left=function(t,n,e,r){for(;e<r;){var i=e+r>>>1;o(t[i])<n?e=i+1:r=i}return e},t}n.exports=i(r),n.exports.by=i},{"./identity":10}],6:[function(t,n,e){"use strict";var $=t("./array"),_=t("./filter"),K=t("./identity"),Z=t("./null"),Q=t("./zero"),J=t("./heapselect"),tt=t("./heap"),F=t("./bisect"),r=t("./insertionsort"),nt=t("./permute"),et=t("./quicksort"),rt=t("./reduce"),i=t("./../package.json"),it=t("lodash.result");function ot(t,n){return(n<257?$.array8:n<65537?$.array16:$.array32)(t)}function at(t){for(var n=ot(t,t),e=-1;++e<t;)n[e]=e;return n}function ut(t){return 8===t?256:16===t?65536:4294967296}e.crossfilter=function(){var Y,t={add:n,remove:function(t){for(var n=ot(V,V),e=[],r="function"==typeof t,i=0,o=0;i<V;++i)a=i,(r?t(G[a],a):Y.zero(a))?(e.push(i),n[i]=-1):n[i]=o++;var a;X.forEach(function(t){t(-1,-1,[],e,!0)}),W.forEach(function(t){t(n)});for(var u=0,c=0;u<V;++u)-1!==n[u]&&(u!==c&&(Y.copy(c,u),G[c]=G[u]),++c);G.length=V=c,Y.truncate(c),x("dataRemoved")},dimension:function(w,I){if("string"==typeof w){var n=w;w=function(t){return it(t,n)}}var B,U,j,t,q,H,A,M,k,E,S,C,T,e,r,N,h={filter:function(t){return null==t?p():Array.isArray(t)?d(t):"function"==typeof t?g(t):s(t)},filterExact:s,filterRange:d,filterFunction:g,filterAll:p,currentFilter:function(){return e},hasCurrentFilter:function(){return r},top:function(t,n){var e,r=[],i=P,o=0;n&&0<n&&(o=n);for(;--i>=O&&0<t;)Y.zero(e=H[i])&&(0<o?--o:(r.push(G[e]),--t));if(I)for(i=0;i<L.length&&0<t;i++)Y.zero(e=L[i])&&(0<o?--o:(r.push(G[e]),--t));return r},bottom:function(t,n){var e,r,i=[],o=0;n&&0<n&&(o=n);if(I)for(e=0;e<L.length&&0<t;e++)Y.zero(r=L[e])&&(0<o?--o:(i.push(G[r]),--t));e=O;for(;e<P&&0<t;)Y.zero(r=H[e])&&(0<o?--o:(i.push(G[r]),--t)),e++;return i},group:y,groupAll:function(){var t=y(Z),n=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return n()[0].value},t},dispose:m,remove:m,accessor:w,id:function(){return t}},L=[],R=et.by(function(t){return A[t]}),D=_.filterAll,l=[],f=[],O=0,P=0,z=0;b.unshift(o),b.push(a),W.push(u);var i=Y.add();function o(t,n,e){if(I){N=[];for(var r=x=z=0;r<t.length;r++)for(x=0,N=w(t[r]);x<N.length;x++)z++;A=[],E=at(t.length),C=ot(z,1);for(var i=at(z),o=0,a=0;a<t.length;a++)if((N=w(t[a])).length)for(E[a]=N.length,x=0;x<N.length;x++)A.push(N[x]),i[o]=a,o++;else E[a]=0,L.push(a+n);var u=R(at(z),0,z);A=nt(A,u),M=nt(i,u)}else A=t.map(w),M=R(at(e),0,e),A=nt(A,M);I&&(e=z);var c=D(A),s=c[0],l=c[1];if(T)for(var f=0;f<e;++f)T(A[f],f)||(Y[j][M[f]+n]|=B,I&&(C[f]=1));else{for(var h=0;h<s;++h)Y[j][M[h]+n]|=B,I&&(C[h]=1);for(var d=l;d<e;++d)Y[j][M[d]+n]|=B,I&&(C[d]=1)}if(!n)return q=A,H=M,k=E,S=C,O=s,void(P=l);var p,g=q,v=H,y=S,m=0;if(r=0,I&&(p=n,n=g.length,e=z),q=I?new Array(n+e):new Array(V),H=I?new Array(n+e):ot(V,V),I&&(S=ot(n+e,1)),I){var b=k.length;k=$.arrayLengthen(k,V);for(var x=0;x+b<V;x++)k[x+b]=E[x]}for(var _=0;r<n&&m<e;++_)g[r]<A[m]?(q[_]=g[r],I&&(S[_]=y[r]),H[_]=v[r++]):(q[_]=A[m],I&&(S[_]=C[m]),H[_]=M[m++]+(I?p:n));for(;r<n;++r,++_)q[_]=g[r],I&&(S[_]=y[r]),H[_]=v[r];for(;m<e;++m,++_)q[_]=A[m],I&&(S[_]=C[m]),H[_]=M[m]+(I?p:n);c=D(q),O=c[0],P=c[1]}function a(t,n,e){l.forEach(function(t){t(A,M,n,e)}),A=M=null}function u(t){if(I){for(var n=0,e=0;n<L.length;n++)-1!==t[L[n]]&&(L[e]=t[L[n]],e++);for(L.length=e,e=n=0;n<V;n++)-1!==t[n]&&(e!==n&&(k[e]=k[n]),e++);k.length=e}for(var r,i=q.length,o=0,a=0;o<i;++o)r=H[o],-1!==t[r]&&(o!==a&&(q[a]=q[o]),H[a]=t[r],I&&(S[a]=S[o]),++a);for(q.length=a,I&&(S.length=a);a<i;)H[a++]=0;var u=D(q);O=u[0],P=u[1]}function c(t){var e=t[0],r=t[1];if(T)return T=null,v(function(t,n){return e<=n&&n<r},0===t[0]&&t[1]===q.length),O=e,P=r,h;var n,i,o,a=[],u=[],c=[],s=[];if(e<O)for(n=e,i=Math.min(O,r);n<i;++n)a.push(H[n]),c.push(n);else if(O<e)for(n=O,i=Math.min(e,P);n<i;++n)u.push(H[n]),s.push(n);if(P<r)for(n=Math.max(e,P),i=r;n<i;++n)a.push(H[n]),c.push(n);else if(r<P)for(n=Math.max(O,r),i=P;n<i;++n)u.push(H[n]),s.push(n);if(I){var l=[],f=[];for(n=0;n<a.length;n++)k[a[n]]++,S[c[n]]=0,1===k[a[n]]&&(Y[j][a[n]]^=B,l.push(a[n]));for(n=0;n<u.length;n++)k[u[n]]--,S[s[n]]=1,0===k[u[n]]&&(Y[j][u[n]]^=B,f.push(u[n]));if(a=l,u=f,0===t[0]&&t[1]===q.length)for(n=0;n<L.length;n++)Y[j][o=L[n]]&B&&(Y[j][o]^=B,a.push(o));else for(n=0;n<L.length;n++)Y[j][o=L[n]]&B||(Y[j][o]^=B,u.push(o))}else{for(n=0;n<a.length;n++)Y[j][a[n]]^=B;for(n=0;n<u.length;n++)Y[j][u[n]]^=B}return O=e,P=r,X.forEach(function(t){t(B,j,a,u)}),x("filtered"),h}function s(t){return e=t,r=!0,c((D=_.filterExact(F,t))(q))}function d(t){return e=t,r=!0,c((D=_.filterRange(F,t))(q))}function p(){return e=void 0,r=!1,c((D=_.filterAll)(q))}function g(t){r=!0,T=e=t,D=_.filterAll,v(t,!1);var n=D(q);return O=n[0],P=n[1],h}function v(t,n){var e,r,i,o=[],a=[],u=[],c=[],s=q.length;if(!I)for(e=0;e<s;++e)!(Y[j][r=H[e]]&B)^!!(i=t(q[e],e))&&(i?o.push(r):a.push(r));if(I)for(e=0;e<s;++e)t(q[e],e)?(o.push(H[e]),u.push(e)):(a.push(H[e]),c.push(e));if(I){var l=[],f=[];for(e=0;e<o.length;e++)1===S[u[e]]&&(k[o[e]]++,S[u[e]]=0,1===k[o[e]]&&(Y[j][o[e]]^=B,l.push(o[e])));for(e=0;e<a.length;e++)0===S[c[e]]&&(k[a[e]]--,S[c[e]]=1,0===k[a[e]]&&(Y[j][a[e]]^=B,f.push(a[e])));if(o=l,a=f,n)for(e=0;e<L.length;e++)Y[j][r=L[e]]&B&&(Y[j][r]^=B,o.push(r));else for(e=0;e<L.length;e++)Y[j][r=L[e]]&B||(Y[j][r]^=B,a.push(r))}else{for(e=0;e<o.length;e++)Y[j][o[e]]&B&&(Y[j][o[e]]&=U);for(e=0;e<a.length;e++)Y[j][a[e]]&B||(Y[j][a[e]]|=B)}X.forEach(function(t){t(B,j,o,a)}),x("filtered")}function y(x){var r={top:function(t){var n=e(a(),0,_.length,t);return i.sort(n,0,n.length)},all:a,reduce:u,reduceCount:t,reduceSum:function(t){return u(rt.reduceAdd(t),rt.reduceSubtract(t),Q)},order:c,orderNatural:function(){return c(K)},size:function(){return T},dispose:s,remove:s};f.push(r);var _,w,e,i,A,M,k,E,S=8,C=ut(S),T=0,N=Z,L=Z,R=!0,D=x===Z;function n(t,n,e,r){I&&(E=e,e=q.length-t.length,r=t.length);var i,o,a,u,c,s,l=_,f=I?[]:ot(T,C),h=A,d=M,p=k,g=T,v=0,y=0;for(R&&(h=p=Z),R&&(d=p=Z),_=new Array(T),T=0,w=I?g?w:[]:1<g?$.arrayLengthen(w,V):ot(V,C),g&&(a=(o=l[0]).key);y<r&&!((u=x(t[y]))>=u);)++y;for(;y<r;){for(o&&a<=u?(c=o,s=a,f[v]=T,(o=l[++v])&&(a=o.key)):(c={key:u,value:p()},s=u),_[T]=c;u<=s&&(i=n[y]+(I?E:e),I?w[i]?w[i].push(T):w[i]=[T]:w[i]=T,c.value=h(c.value,G[i],!0),Y.zeroExcept(i,j,U)||(c.value=d(c.value,G[i],!1)),!(++y>=r));)u=x(t[y]);b()}for(;v<g;)_[f[v]=T]=l[v++],b();if(I)for(var m=0;m<V;m++)w[m]||(w[m]=[]);if(v<T)if(I)for(v=0;v<E;++v)for(m=0;m<w[v].length;m++)w[v][m]=f[w[v][m]];else for(v=0;v<e;++v)w[v]=f[w[v]];function b(){I?T++:++T===C&&(f=$.arrayWiden(f,S<<=1),w=$.arrayWiden(w,S),C=ut(S))}i=X.indexOf(N),1<T||I?(N=O,L=z):(!T&&D&&(T=1,_=[{key:null,value:p()}]),1===T?(N=P,L=F):L=N=Z,w=null),X[i]=N}function o(t){if(1<T||I){var n,e,r,i=T,o=_,a=ot(i,i);if(I){for(r=n=0;n<V;++n)if(-1!==t[n]){for(w[r]=w[n],e=0;e<w[r].length;e++)a[w[r][e]]=1;++r}}else for(r=n=0;n<V;++n)-1!==t[n]&&(a[w[r]=w[n]]=1,++r);for(_=[],n=T=0;n<i;++n)a[n]&&(a[n]=T++,_.push(o[n]));if(1<T||I)if(I)for(n=0;n<r;++n)for(e=0;e<w[n].length;++e)w[n][e]=a[w[n][e]];else for(n=0;n<r;++n)w[n]=a[w[n]];else w=null;X[X.indexOf(N)]=1<T||I?(L=z,N=O):1===T?(L=F,N=P):L=N=Z}else if(1===T){if(D)return;for(var u=0;u<V;++u)if(-1!==t[u])return;_=[],T=0,X[X.indexOf(N)]=N=L=Z}}function O(t,n,e,r,i){var o,a,u,c,s;if(!(t===B&&n===j||R))if(I){for(o=0,c=e.length;o<c;++o)if(Y.zeroExcept(u=e[o],j,U))for(a=0;a<w[u].length;a++)(s=_[w[u][a]]).value=A(s.value,G[u],!1,a);for(o=0,c=r.length;o<c;++o)if(Y.onlyExcept(u=r[o],j,U,n,t))for(a=0;a<w[u].length;a++)(s=_[w[u][a]]).value=M(s.value,G[u],i,a)}else{for(o=0,c=e.length;o<c;++o)Y.zeroExcept(u=e[o],j,U)&&((s=_[w[u]]).value=A(s.value,G[u],!1));for(o=0,c=r.length;o<c;++o)Y.onlyExcept(u=r[o],j,U,n,t)&&((s=_[w[u]]).value=M(s.value,G[u],i))}}function P(t,n,e,r,i){if(!(t===B&&n===j||R)){var o,a,u,c=_[0];for(o=0,u=e.length;o<u;++o)Y.zeroExcept(a=e[o],j,U)&&(c.value=A(c.value,G[a],!1));for(o=0,u=r.length;o<u;++o)Y.onlyExcept(a=r[o],j,U,n,t)&&(c.value=M(c.value,G[a],i))}}function z(){var t,n,e;for(t=0;t<T;++t)_[t].value=k();if(I){for(t=0;t<V;++t)for(n=0;n<w[t].length;n++)(e=_[w[t][n]]).value=A(e.value,G[t],!0,n);for(t=0;t<V;++t)if(!Y.zeroExcept(t,j,U))for(n=0;n<w[t].length;n++)(e=_[w[t][n]]).value=M(e.value,G[t],!1,n)}else{for(t=0;t<V;++t)(e=_[w[t]]).value=A(e.value,G[t],!0);for(t=0;t<V;++t)Y.zeroExcept(t,j,U)||((e=_[w[t]]).value=M(e.value,G[t],!1))}}function F(){var t,n=_[0];for(n.value=k(),t=0;t<V;++t)n.value=A(n.value,G[t],!0);for(t=0;t<V;++t)Y.zeroExcept(t,j,U)||(n.value=M(n.value,G[t],!1))}function a(){return R&&(L(),R=!1),_}function u(t,n,e){return A=t,M=n,k=e,R=!0,r}function t(){return u(rt.reduceIncrement,rt.reduceDecrement,Q)}function c(n){function t(t){return n(t.value)}return e=J.by(t),i=tt.by(t),r}function s(){var t=X.indexOf(N);return 0<=t&&X.splice(t,1),0<=(t=l.indexOf(n))&&l.splice(t,1),0<=(t=W.indexOf(o))&&W.splice(t,1),0<=(t=f.indexOf(r))&&f.splice(t,1),r}return arguments.length<1&&(x=K),X.push(N),l.push(n),W.push(o),n(q,H,0,V),t().orderNatural()}function m(){f.forEach(function(t){t.dispose()});var t=b.indexOf(o);return 0<=t&&b.splice(t,1),0<=(t=b.indexOf(a))&&b.splice(t,1),0<=(t=W.indexOf(u))&&W.splice(t,1),Y.masks[j]&=U,p()}return j=i.offset,B=i.one,U=~B,t=j<<7|Math.log(B)/Math.log(2),o(G,0,V),a(G,0,V),h},groupAll:function(){var c,s,l,r,i={reduce:o,reduceCount:t,reduceSum:function(t){return o(rt.reduceAdd(t),rt.reduceSubtract(t),Q)},value:function(){f&&(function(){var t;for(c=r(),t=0;t<V;++t)c=s(c,G[t],!0),Y.zero(t)||(c=l(c,G[t],!1))}(),f=!1);return c},dispose:a,remove:a},f=!0;function n(t,n){var e;if(!f)for(e=n;e<V;++e)c=s(c,G[e],!0),Y.zero(e)||(c=l(c,G[e],!1))}function e(t,n,e,r,i){var o,a,u;if(!f){for(o=0,u=e.length;o<u;++o)Y.zero(a=e[o])&&(c=s(c,G[a],i));for(o=0,u=r.length;o<u;++o)Y.only(a=r[o],n,t)&&(c=l(c,G[a],i))}}function o(t,n,e){return s=t,l=n,r=e,f=!0,i}function t(){return o(rt.reduceIncrement,rt.reduceDecrement,Q)}function a(){var t=X.indexOf(e);return 0<=t&&X.splice(t,1),0<=(t=b.indexOf(n))&&b.splice(t,1),i}return X.push(e),b.push(n),n(G,0),t()},size:function(){return V},all:function(){return G},allFiltered:function(t){var n=[],e=0,r=i(t||[]);for(e=0;e<V;e++)Y.zeroExceptMask(e,r)&&n.push(G[e]);return n},onChange:function(t){if("function"!=typeof t)return void console.warn("onChange callback parameter must be a function!");return e.push(t),function(){e.splice(e.indexOf(t),1)}},isElementFiltered:function(t,n){var e=i(n||[]);return Y.zeroExceptMask(t,e)}},G=[],V=0,X=[],b=[],W=[],e=[];function n(n){var e=V,r=n.length;return r&&(G=G.concat(n),Y.lengthen(V+=r),b.forEach(function(t){t(n,e,r)}),x("dataAdded")),t}function i(t){var n,e,r,i,o=Array(Y.subarrays);for(n=0;n<Y.subarrays;n++)o[n]=-1;for(e=0,r=t.length;e<r;e++)i=t[e].id(),o[i>>7]&=~(1<<(63&i));return o}function x(t){for(var n=0;n<e.length;n++)e[n](t)}return Y=new $.bitarray(0),arguments.length?n(arguments[0]):t},e.crossfilter.heap=tt,e.crossfilter.heapselect=J,e.crossfilter.bisect=F,e.crossfilter.insertionsort=r,e.crossfilter.permute=nt,e.crossfilter.quicksort=et,e.crossfilter.version=i.version},{"./../package.json":3,"./array":4,"./bisect":5,"./filter":7,"./heap":8,"./heapselect":9,"./identity":10,"./insertionsort":11,"./null":12,"./permute":13,"./quicksort":14,"./reduce":15,"./zero":16,"lodash.result":2}],7:[function(t,n,e){"use strict";n.exports={filterExact:function(e,r){return function(t){var n=t.length;return[e.left(t,r,0,n),e.right(t,r,0,n)]}},filterRange:function(e,t){var r=t[0],i=t[1];return function(t){var n=t.length;return[e.left(t,r,0,n),e.left(t,i,0,n)]}},filterAll:function(t){return[0,t.length]}}},{}],8:[function(t,n,e){"use strict";var r=t("./identity");function i(u){function t(t,n,e){for(var r=e-n,i=1+(r>>>1);0<--i;)o(t,i,r,n);return t}function o(t,n,e,r){for(var i,o=t[--r+n],a=u(o);(i=n<<1)<=e&&(i<e&&u(t[r+i])>u(t[r+i+1])&&i++,!(a<=u(t[r+i])));)t[r+n]=t[r+i],n=i;t[r+n]=o}return t.sort=function(t,n,e){for(var r,i=e-n;0<--i;)r=t[n],t[n]=t[n+i],t[n+i]=r,o(t,1,i,n);return t},t}n.exports=i(r),n.exports.by=i},{"./identity":10}],9:[function(t,n,e){"use strict";var r=t("./identity"),i=t("./heap");function o(c){var s=i.by(c);return function(t,n,e,r){var i,o,a,u=new Array(r=Math.min(e-n,r));for(o=0;o<r;++o)u[o]=t[n++];if(s(u,0,r),n<e)for(i=c(u[0]);c(a=t[n])>i&&(u[0]=a,i=c(s(u,0,r)[0])),++n<e;);return u}}n.exports=o(r),n.exports.by=o},{"./heap":8,"./identity":10}],10:[function(t,n,e){"use strict";n.exports=function(t){return t}},{}],11:[function(t,n,e){"use strict";var r=t("./identity");function i(u){return function(t,n,e){for(var r=n+1;r<e;++r){for(var i=r,o=t[r],a=u(o);n<i&&u(t[i-1])>a;--i)t[i]=t[i-1];t[i]=o}return t}}n.exports=i(r),n.exports.by=i},{"./identity":10}],12:[function(t,n,e){"use strict";n.exports=function(){return null}},{}],13:[function(t,n,e){"use strict";n.exports=function(t,n,e){for(var r=0,i=n.length,o=e?JSON.parse(JSON.stringify(t)):new Array(i);r<i;++r)o[r]=t[n[r]];return o}},{}],14:[function(t,n,e){var r=t("./identity"),i=t("./insertionsort");function o(L){var r=i.by(L);function R(t,n,e){return(e-n<32?r:function(o,t,n){var e,r=(n-t)/6|0,i=t+r,a=n-1-r,u=t+n-1>>1,c=u-r,s=u+r,l=o[i],f=L(l),h=o[c],d=L(h),p=o[u],g=L(p),v=o[s],y=L(v),m=o[a],b=L(m);d<f&&(e=l,l=h,h=e,e=f,f=d,d=e);b<y&&(e=v,v=m,m=e,e=y,y=b,b=e);g<f&&(e=l,l=p,p=e,e=f,f=g,g=e);g<d&&(e=h,h=p,p=e,e=d,d=g,g=e);y<f&&(e=l,l=v,v=e,e=f,f=y,y=e);y<g&&(e=p,p=v,v=e,e=g,g=y,y=e);b<d&&(e=h,h=m,m=e,e=d,d=b,b=e);g<d&&(e=h,h=p,p=e,e=d,d=g,g=e);b<y&&(e=v,v=m,m=e,e=y,y=b,b=e);var x=h,_=d,w=v,A=y;o[i]=l,o[c]=o[t],o[u]=p,o[s]=o[n-1],o[a]=m;var M=t+1,k=n-2,E=_<=A&&A<=_;if(E)for(var S=M;S<=k;++S){var C=o[S],T=L(C);if(T<_)S!==M&&(o[S]=o[M],o[M]=C),++M;else if(_<T)for(;;){var N=L(o[k]);if(!(_<N)){if(N<_){o[S]=o[M],o[M++]=o[k],o[k--]=C;break}o[S]=o[k],o[k--]=C;break}k--}}else!function(){for(var t=M;t<=k;t++){var n=o[t],e=L(n);if(e<_)t!==M&&(o[t]=o[M],o[M]=n),++M;else if(A<e)for(;;){var r=L(o[k]);if(!(A<r)){r<_?(o[t]=o[M],o[M++]=o[k]):o[t]=o[k],o[k--]=n;break}if(--k<t)break}}}();if(o[t]=o[M-1],o[M-1]=x,o[n-1]=o[k+1],o[k+1]=w,R(o,t,M-1),R(o,k+2,n),E)return o;M<i&&a<k&&function(){for(var t,n;(t=L(o[M]))<=_&&_<=t;)++M;for(;(n=L(o[k]))<=A&&A<=n;)--k;for(var e=M;e<=k;e++){var r=o[e],i=L(r);if(i<=_&&_<=i)e!==M&&(o[e]=o[M],o[M]=r),M++;else if(i<=A&&A<=i)for(;;){if(!((n=L(o[k]))<=A&&A<=n)){n<_?(o[e]=o[M],o[M++]=o[k]):o[e]=o[k],o[k--]=r;break}if(--k<e)break}}}();return R(o,M,k+1)})(t,n,e)}return R}n.exports=o(r),n.exports.by=o},{"./identity":10,"./insertionsort":11}],15:[function(t,n,e){"use strict";n.exports={reduceIncrement:function(t){return t+1},reduceDecrement:function(t){return t-1},reduceAdd:function(e){return function(t,n){return t+ +e(n)}},reduceSubtract:function(e){return function(t,n){return t-e(n)}}}},{}],16:[function(t,n,e){"use strict";n.exports=function(){return 0}},{}]},{},[1])(1)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.reductio=t()}}(function(){return function o(a,u,c){function s(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};a[e][0].call(i.exports,function(t){var n=a[e][1][t];return s(n||t)},i,i.exports,o,a,u,c)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)s(c[t]);return s}({1:[function(o,a,t){(function(t){var n=o("./build.js"),e=o("./accessors.js"),r=o("./parameters.js"),f=o("./postprocess"),h="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null;function i(){var s=r(),l={};function t(t){if(l={reduceAdd:function(t){return t},reduceRemove:function(t){return t},reduceInitial:function(){return{}}},n.build(s,l),s.groupAll)if(t.top)console.warn("'groupAll' is defined but attempting to run on a standard dimension.group(). Must run on dimension.groupAll().");else{var r,i,o,a,u,c=h.bisect.by(function(t){return t.key}).left;t.reduce(function(t,n,e){for(o=s.groupAll(n),a=o.length,i=0;i<a;i++)u=o[i],t[r=c(t,u,0,t.length)]&&t[r].key===u||t.splice(r,0,{key:u,value:l.reduceInitial()}),l.reduceAdd(t[r].value,n,e);return t},function(t,n,e){for(o=s.groupAll(n),a=o.length,i=0;i<a;i++)r=c(t,o[i],0,t.length),l.reduceRemove(t[r].value,n,e);return t},function(){return[]}),t.all||(t.all=function(){return this.value()})}else t.reduce(l.reduceAdd,l.reduceRemove,l.reduceInitial);return f(t,s,l),t}return e.build(t,s),t}o("./postprocessors")(i),f=f(i),a.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessors.js":2,"./build.js":6,"./parameters.js":19,"./postprocess":20,"./postprocessors":21}],2:[function(t,n,e){var a=t("./parameters.js");_assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1;e<arguments.length;++e){var r=arguments[e];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}return n};var r={build:function e(r,i){function n(t){if("string"==typeof t){var n=t;return function(t){return t[n]}}return t}function o(t){if("string"==typeof t){var n=t;return function(t){return+t[n]}}return t}r.fromObject=function(t){return arguments.length?(_assign(i,t),r):i},r.toObject=function(){return i},r.count=function(t,n){return arguments.length?(n||(n="count"),i.count=n,r):i.count},r.sum=function(t){return arguments.length?(t=o(t),i.sum=t,r):i.sum},r.avg=function(t){return arguments.length?("function"==typeof(t=o(t))?(i.sum&&i.sum!==t&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),i.sum=t,i.avg=!0,i.count="count"):i.avg=t,r):i.avg},r.exception=function(t){return arguments.length?(t=n(t),i.exceptionAccessor=t,r):i.exceptionAccessor},r.filter=function(t){return arguments.length?(i.filter=t,r):i.filter},r.valueList=function(t){return arguments.length?(t=n(t),i.valueList=t,r):i.valueList},r.median=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),i.valueList=t),i.median=t,r):i.median},r.min=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by min aggregation"),i.valueList=t),i.min=t,r):i.min},r.max=function(t){return arguments.length?("function"==typeof(t=o(t))&&(i.valueList&&i.valueList!==t&&console.warn("VALUELIST accessor is being overwritten by max aggregation"),i.valueList=t),i.max=t,r):i.max},r.exceptionCount=function(t){return arguments.length?("function"==typeof(t=n(t))?(i.exceptionAccessor&&i.exceptionAccessor!==t&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),i.exceptionAccessor=t,i.exceptionCount=!0):i.exceptionCount=t,r):i.exceptionCount},r.exceptionSum=function(t){return arguments.length?(t=o(t),i.exceptionSum=t,r):i.exceptionSum},r.histogramValue=function(t){return arguments.length?(t=o(t),i.histogramValue=t,r):i.histogramValue},r.histogramBins=function(t){return arguments.length?(i.histogramThresholds=t,r):i.histogramThresholds},r.std=function(t){return arguments.length?("function"==typeof(t=o(t))?(i.sumOfSquares=t,i.sum=t,i.count="count",i.std=!0):i.std=t,r):i.std},r.sumOfSq=function(t){return arguments.length?(t=o(t),i.sumOfSquares=t,r):i.sumOfSquares},r.value=function(t,n){if(arguments.length&&"string"==typeof t)return i.values||(i.values={}),i.values[t]={},i.values[t].parameters=a(),e(i.values[t],i.values[t].parameters),n&&(i.values[t].accessor=n),i.values[t];console.error("'value' requires a string argument.")},r.nest=function(t){return arguments.length?(t.map(n),i.nestKeys=t,r):i.nestKeys},r.alias=function(t){return arguments.length?(i.aliasKeys=t,r):i.aliasKeys},r.aliasProp=function(t){return arguments.length?(i.aliasPropKeys=t,r):i.aliasPropKeys},r.groupAll=function(t){return arguments.length?(i.groupAll=t,r):i.groupAll},r.dataList=function(t){return arguments.length?(i.dataList=t,r):i.dataList},r.custom=function(t){return arguments.length?(i.custom=t,r):i.custom}}};n.exports=r},{"./parameters.js":19}],3:[function(t,n,e){n.exports={initial:function(r,i,o){return function(n){function t(t){return function(){return o[t](i(n))}}for(var e in r&&(n=r(n)),o)i(n)[e]=t(e);return n}}}},{}],4:[function(t,n,e){n.exports={add:function(i,o,a){return function(t,n,e){for(var r in o&&o(t,n,e),i)a(t)[r]=i[r](a(t),n);return t}}}},{}],5:[function(t,n,e){n.exports={add:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),0<i(t).count?i(t).avg=i(t).sum/i(t).count:i(t).avg=0,t}},remove:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),0<i(t).count?i(t).avg=i(t).sum/i(t).count:i(t).avg=0,t}},initial:function(n,e){return function(t){return t=n(t),e(t).avg=0,t}}}},{}],6:[function(t,n,e){var a=t("./filter.js"),u=t("./count.js"),c=t("./sum.js"),s=t("./avg.js"),l=t("./median.js"),f=t("./min.js"),h=t("./max.js"),d=t("./value-count.js"),p=t("./value-list.js"),g=t("./exception-count.js"),v=t("./exception-sum.js"),y=t("./histogram.js"),m=t("./sum-of-squares.js"),b=t("./std.js"),x=t("./nest.js"),_=t("./alias.js"),w=t("./aliasProp.js"),A=t("./data-list.js"),M=t("./custom.js");var r={build:function t(r,i,o){o||(o=function(t){return t});var n={reduceAdd:i.reduceAdd,reduceRemove:i.reduceRemove,reduceInitial:i.reduceInitial};(r.count||r.std)&&(i.reduceAdd=u.add(i.reduceAdd,o,r.count),i.reduceRemove=u.remove(i.reduceRemove,o,r.count),i.reduceInitial=u.initial(i.reduceInitial,o,r.count)),r.sum&&(i.reduceAdd=c.add(r.sum,i.reduceAdd,o),i.reduceRemove=c.remove(r.sum,i.reduceRemove,o),i.reduceInitial=c.initial(i.reduceInitial,o)),r.avg&&(r.count&&r.sum?(i.reduceAdd=s.add(r.sum,i.reduceAdd,o),i.reduceRemove=s.remove(r.sum,i.reduceRemove,o),i.reduceInitial=s.initial(i.reduceInitial,o)):console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true).")),r.exceptionCount&&(r.exceptionAccessor?(i.reduceAdd=g.add(r.exceptionAccessor,i.reduceAdd,o),i.reduceRemove=g.remove(r.exceptionAccessor,i.reduceRemove,o),i.reduceInitial=g.initial(i.reduceInitial,o)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),r.exceptionSum&&(r.exceptionAccessor?(i.reduceAdd=v.add(r.exceptionAccessor,r.exceptionSum,i.reduceAdd,o),i.reduceRemove=v.remove(r.exceptionAccessor,r.exceptionSum,i.reduceRemove,o),i.reduceInitial=v.initial(i.reduceInitial,o)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(r.valueList||r.median||r.min||r.max)&&(i.reduceAdd=p.add(r.valueList,i.reduceAdd,o),i.reduceRemove=p.remove(r.valueList,i.reduceRemove,o),i.reduceInitial=p.initial(i.reduceInitial,o)),r.dataList&&(i.reduceAdd=A.add(r.dataList,i.reduceAdd,o),i.reduceRemove=A.remove(r.dataList,i.reduceRemove,o),i.reduceInitial=A.initial(i.reduceInitial,o)),r.median&&(i.reduceAdd=l.add(i.reduceAdd,o),i.reduceRemove=l.remove(i.reduceRemove,o),i.reduceInitial=l.initial(i.reduceInitial,o)),r.min&&(i.reduceAdd=f.add(i.reduceAdd,o),i.reduceRemove=f.remove(i.reduceRemove,o),i.reduceInitial=f.initial(i.reduceInitial,o)),r.max&&(i.reduceAdd=h.add(i.reduceAdd,o),i.reduceRemove=h.remove(i.reduceRemove,o),i.reduceInitial=h.initial(i.reduceInitial,o)),r.exceptionAccessor&&(i.reduceAdd=d.add(r.exceptionAccessor,i.reduceAdd,o),i.reduceRemove=d.remove(r.exceptionAccessor,i.reduceRemove,o),i.reduceInitial=d.initial(i.reduceInitial,o)),r.histogramValue&&r.histogramThresholds&&(i.reduceAdd=y.add(r.histogramValue,i.reduceAdd,o),i.reduceRemove=y.remove(r.histogramValue,i.reduceRemove,o),i.reduceInitial=y.initial(r.histogramThresholds,i.reduceInitial,o)),r.sumOfSquares&&(i.reduceAdd=m.add(r.sumOfSquares,i.reduceAdd,o),i.reduceRemove=m.remove(r.sumOfSquares,i.reduceRemove,o),i.reduceInitial=m.initial(i.reduceInitial,o)),r.std&&(r.sumOfSquares&&r.sum?(i.reduceAdd=b.add(i.reduceAdd,o),i.reduceRemove=b.remove(i.reduceRemove,o),i.reduceInitial=b.initial(i.reduceInitial,o)):console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor).")),r.custom&&(i.reduceAdd=M.add(i.reduceAdd,o,r.custom.add),i.reduceRemove=M.remove(i.reduceRemove,o,r.custom.remove),i.reduceInitial=M.initial(i.reduceInitial,o,r.custom.initial)),r.nestKeys&&(i.reduceAdd=x.add(r.nestKeys,i.reduceAdd,o),i.reduceRemove=x.remove(r.nestKeys,i.reduceRemove,o),i.reduceInitial=x.initial(i.reduceInitial,o)),r.aliasKeys&&(i.reduceInitial=_.initial(i.reduceInitial,o,r.aliasKeys)),r.aliasPropKeys&&(i.reduceAdd=w.add(r.aliasPropKeys,i.reduceAdd,o),i.reduceRemove=w.add(r.aliasPropKeys,i.reduceRemove,o)),r.filter&&(i.reduceAdd=a.add(r.filter,i.reduceAdd,n.reduceAdd,o),i.reduceRemove=a.remove(r.filter,i.reduceRemove,n.reduceRemove,o)),r.values&&Object.getOwnPropertyNames(r.values).forEach(function(n){var e;i.reduceInitial=(e=i.reduceInitial,function(t){return t=e(t),o(t)[n]={},t}),t(r.values[n].parameters,i,function(t){return t[n]})})}};n.exports=r},{"./alias.js":3,"./aliasProp.js":4,"./avg.js":5,"./count.js":8,"./custom.js":9,"./data-list.js":10,"./exception-count.js":11,"./exception-sum.js":12,"./filter.js":13,"./histogram.js":14,"./max.js":15,"./median.js":16,"./min.js":17,"./nest.js":18,"./std.js":23,"./sum-of-squares.js":24,"./sum.js":25,"./value-count.js":26,"./value-list.js":27}],7:[function(t,n,e){var r=function(n){return function(t){return t[n]}};_grouper=function(i,o){return i||(i=function(t){return t}),function(t,n){o&&o(t,n);var e=i(t),r=i(n);return void 0!==r.count&&(e.count+=r.count),void 0!==r.sum&&(e.sum+=r.sum),void 0!==r.avg&&(e.avg=e.sum/e.count),t}},reductio_cap=function(u,c,t){c.reduceInitial();var n=t.values?Object.keys(t.values):[],s=_grouper();if(n.length)for(var e=0;e<n.length;++e)s=_grouper(r(n[e]),s);return function(t,n){if(!arguments.length)return u();if(t===1/0||!t)return u();var e=u(),r=t-1;if(e.length<=t)return e;var i=e.slice(0,r),o={key:n||"Others"};o.value=c.reduceInitial();for(var a=r;a<e.length;++a)s(o.value,e[a].value);return i.push(o),i}},n.exports=reductio_cap},{}],8:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return r&&r(t,n,e),i(t)[o]++,t}},remove:function(r,i,o){return function(t,n,e){return r&&r(t,n,e),i(t)[o]--,t}},initial:function(n,e,r){return function(t){return n&&(t=n(t)),e(t)[r]=0,t}}}},{}],9:[function(t,n,e){n.exports={add:function(r,t,i){return function(t,n,e){return r&&r(t,n,e),i(t,n)}},remove:function(r,t,i){return function(t,n,e){return r&&r(t,n,e),i(t,n)}},initial:function(n,t,e){return function(t){return n&&(t=n(t)),e(t)}}}},{}],10:[function(t,n,e){n.exports={add:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),i(t).dataList.push(n),t}},remove:function(t,r,i){return function(t,n,e){return r&&r(t,n,e),i(t).dataList.splice(i(t).dataList.indexOf(n),1),t}},initial:function(n,e){return function(t){return n&&(t=n(t)),e(t).dataList=[],t}}}},{}],11:[function(t,n,e){n.exports={add:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)&&0!==u[1]||o(t).exceptionCount++,t}},remove:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)&&1===u[1]&&o(t).exceptionCount--,t}},initial:function(n,e){return function(t){return t=n(t),e(t).exceptionCount=0,t}}}},{}],12:[function(t,n,e){n.exports={add:function(r,i,o,a){var u,c;return function(t,n,e){return o&&o(t,n,e),u=a(t).bisect(a(t).values,r(n),0,a(t).values.length),(c=a(t).values[u])&&c[0]===r(n)&&0!==c[1]||(a(t).exceptionSum=a(t).exceptionSum+i(n)),t}},remove:function(r,i,o,a){var u,c;return function(t,n,e){return o&&o(t,n,e),u=a(t).bisect(a(t).values,r(n),0,a(t).values.length),(c=a(t).values[u])&&c[0]===r(n)&&1===c[1]&&(a(t).exceptionSum=a(t).exceptionSum-i(n)),t}},initial:function(n,e){return function(t){return t=n(t),e(t).exceptionSum=0,t}}}},{}],13:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return r(n,e)?i&&i(t,n,e):o&&o(t,n,e),t}},remove:function(r,i,o){return function(t,n,e){return r(n,e)?i&&i(t,n,e):o&&o(t,n,e),t}}}},{}],14:[function(t,r,n){(function(t){var n="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,e={add:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left,c=n.bisect.by(function(t){return t.x}).right;return function(t,n,e){return i&&i(t,n,e),(a=o(t).histogram[c(o(t).histogram,r(n),0,o(t).histogram.length)-1]).y++,a.splice(u(a,r(n),0,a.length),0,r(n)),t}},remove:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left,c=n.bisect.by(function(t){return t.x}).right;return function(t,n,e){return i&&i(t,n,e),(a=o(t).histogram[c(o(t).histogram,r(n),0,o(t).histogram.length)-1]).y--,a.splice(u(a,r(n),0,a.length),1),t}},initial:function(r,i,o){return function(t){t=i(t),o(t).histogram=[];for(var n=[],e=1;e<r.length;e++)(n=[]).x=r[e-1],n.dx=r[e]-r[e-1],n.y=0,o(t).histogram.push(n);return t}}};r.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,n,e){var r={add:function(r,i){return function(t,n,e){return r&&r(t,n,e),i(t).max=i(t).valueList[i(t).valueList.length-1],t}},remove:function(r,i){return function(t,n,e){return r&&r(t,n,e),0===i(t).valueList.length?i(t).max=void 0:i(t).max=i(t).valueList[i(t).valueList.length-1],t}},initial:function(n,e){return function(t){return t=n(t),e(t).max=void 0,t}}};n.exports=r},{}],16:[function(t,n,e){var r={add:function(r,i){var o;return function(t,n,e){return r&&r(t,n,e),o=Math.floor(i(t).valueList.length/2),i(t).valueList.length%2?i(t).median=i(t).valueList[o]:i(t).median=(i(t).valueList[o-1]+i(t).valueList[o])/2,t}},remove:function(r,i){var o;return function(t,n,e){return r&&r(t,n,e),o=Math.floor(i(t).valueList.length/2),0===i(t).valueList.length?i(t).median=void 0:1===i(t).valueList.length||i(t).valueList.length%2?i(t).median=i(t).valueList[o]:i(t).median=(i(t).valueList[o-1]+i(t).valueList[o])/2,t}},initial:function(n,e){return function(t){return t=n(t),e(t).median=void 0,t}}};n.exports=r},{}],17:[function(t,n,e){var r={add:function(r,i){return function(t,n,e){return r&&r(t,n,e),i(t).min=i(t).valueList[0],t}},remove:function(r,i){return function(t,n,e){return r&&r(t,n,e),0===i(t).valueList.length?i(t).min=void 0:i(t).min=i(t).valueList[0],t}},initial:function(n,e){return function(t){return t=n(t),e(t).min=void 0,t}}};n.exports=r},{}],18:[function(t,n,e){(function(t){"undefined"!=typeof window?window.crossfilter:void 0!==t&&t.crossfilter;n.exports={add:function(r,i,o){var a,u;return function(t,e,n){return i&&i(t,e,n),a=o(t).nest,r.forEach(function(n){(u=a.filter(function(t){return t.key===n(e)})[0])?a=u.values:(u=[],a.push({key:n(e),values:u}),a=u)}),a.push(e),t}},remove:function(r,i,o){var a;return function(t,e,n){return i&&i(t,e,n),a=o(t).nest,r.forEach(function(n){a=a.filter(function(t){return t.key===n(e)})[0].values}),a.splice(a.indexOf(e),1),t}},initial:function(n,e){return function(t){return t=n(t),e(t).nest=[],t}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,n,e){n.exports=function(){return{order:!1,avg:!1,count:!1,sum:!1,exceptionAccessor:!1,exceptionCount:!1,exceptionSum:!1,filter:!1,valueList:!1,median:!1,histogramValue:!1,min:!1,max:!1,histogramThresholds:!1,std:!1,sumOfSquares:!1,values:!1,nestKeys:!1,aliasKeys:!1,aliasPropKeys:!1,groupAll:!1,dataList:!1,custom:!1}}},{}],20:[function(t,n,e){n.exports=function(n){return function(t,o,a){t.post=function(){var r=function(){return r.all()};r.all=function(){return t.all()};var i=n.postprocessors;return Object.keys(i).forEach(function(e){r[e]=function(){var t=r.all,n=[].slice.call(arguments);return r.all=function(){return i[e](t,a,o).apply(null,n)},r}}),r}}}},{}],21:[function(t,n,e){n.exports=function(e){e.postprocessors={},e.registerPostProcessor=function(t,n){e.postprocessors[t]=n},e.registerPostProcessor("cap",t("./cap")),e.registerPostProcessor("sortBy",t("./sortBy"))}},{"./cap":7,"./sortBy":22}],22:[function(t,n,e){function o(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}n.exports=function(i){return function(t,n){return 1===arguments.length&&(n=o),i().sort((e=function(n){if("function"==typeof n)return n;if(~n.indexOf(".")){var e=n.split(".");return function(t){return e.reduce(function(t,n){return t[n]},t)}}return function(t){return t[n]}}(t),r=n,function(t,n){return r(e(t),e(n))}));var e,r}}},{}],23:[function(t,n,e){var r={add:function(i,o){return function(t,n,e){if(i&&i(t,n,e),0<o(t).count){o(t).std=0;var r=o(t).sumOfSq-o(t).sum*o(t).sum/o(t).count;0<r&&(o(t).std=Math.sqrt(r/(o(t).count-1)))}else o(t).std=0;return t}},remove:function(i,o){return function(t,n,e){if(i&&i(t,n,e),0<o(t).count){o(t).std=0;var r=o(t).sumOfSq-o(t).sum*o(t).sum/o(t).count;0<r&&(o(t).std=Math.sqrt(r/(o(t).count-1)))}else o(t).std=0;return t}},initial:function(n,e){return function(t){return t=n(t),e(t).std=0,t}}};n.exports=r},{}],24:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sumOfSq=o(t).sumOfSq+r(n)*r(n),t}},remove:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sumOfSq=o(t).sumOfSq-r(n)*r(n),t}},initial:function(n,e){return function(t){return t=n(t),e(t).sumOfSq=0,t}}}},{}],25:[function(t,n,e){n.exports={add:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sum=o(t).sum+r(n),t}},remove:function(r,i,o){return function(t,n,e){return i&&i(t,n,e),o(t).sum=o(t).sum-r(n),t}},initial:function(n,e){return function(t){return t=n(t),e(t).sum=0,t}}}},{}],26:[function(t,e,n){(function(t){var r="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,n={add:function(r,i,o){var a,u;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),(u=o(t).values[a])&&u[0]===r(n)?u[1]++:o(t).values.splice(a,0,[r(n),1]),t}},remove:function(r,i,o){var a;return function(t,n,e){return i&&i(t,n,e),a=o(t).bisect(o(t).values,r(n),0,o(t).values.length),o(t).values[a][1]--,t}},initial:function(n,e){return function(t){return t=n(t),e(t).values=[],e(t).bisect=r.bisect.by(function(t){return t[0]}).left,t}}};e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,r,n){(function(t){var n="undefined"!=typeof window?window.crossfilter:void 0!==t?t.crossfilter:null,e={add:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left;return function(t,n,e){return i&&i(t,n,e),a=u(o(t).valueList,r(n),0,o(t).valueList.length),o(t).valueList.splice(a,0,r(n)),t}},remove:function(r,i,o){var a,u=n.bisect.by(function(t){return t}).left;return function(t,n,e){return i&&i(t,n,e),a=u(o(t).valueList,r(n),0,o(t).valueList.length),o(t).valueList.splice(a,1),t}},initial:function(n,e){return function(t){return t=n(t),e(t).valueList=[],t}}};r.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(U){"use strict";function u(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function M(o){var e;return 1===o.length&&(e=o,o=function(t,n){return u(e(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;o(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<o(t[i],n)?r=i:e=i+1}return e}}}var t=M(u),g=t.right,n=t.left;function l(t,n){return[t,n]}function s(t){return null===t?NaN:+t}function r(t,n){var e,r,i=t.length,o=0,a=-1,u=0,c=0;if(null==n)for(;++a<i;)isNaN(e=s(t[a]))||(c+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=s(n(t[a],a,t)))||(c+=(r=e-u)*(e-(u+=r/++o)));if(1<o)return c/(o-1)}function i(t,n){var e=r(t,n);return e?Math.sqrt(e):e}function c(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e<=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(e<r&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e<=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(e<r&&(r=e),i<e&&(i=e));return[r,i]}var e=Array.prototype,o=e.slice,a=e.map;function f(t){return function(){return t}}function v(t){return t}function k(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var h=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2);function y(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=m(t,n,e))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function m(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(h<=o?10:d<=o?5:p<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(h<=o?10:d<=o?5:p<=o?2:1)}function E(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return h<=o?i*=10:d<=o?i*=5:p<=o&&(i*=2),n<t?-i:i}function b(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function x(t,n,e){if(null==e&&(e=s),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(1<=n)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function _(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&r<e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r<e&&(r=e);return r}function S(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e}function w(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&e<r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e<r&&(r=e);return r}function A(t){if(!(i=t.length))return[];for(var n=-1,e=w(t,C),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function C(t){return t.length}var T=Array.prototype.slice;function N(t){return t}var L=1,R=2,D=3,O=4,P=1e-6;function z(t){return"translate("+(t+.5)+",0)"}function F(t){return"translate(0,"+(t+.5)+")"}function I(){return!this.__axis}function B(g,v){var y=[],m=null,b=null,x=6,_=6,w=3,A=g===L||g===O?-1:1,M=g===O||g===R?"x":"y",k=g===L||g===D?z:F;function n(t){var n=null==m?v.ticks?v.ticks.apply(v,y):v.domain():m,e=null==b?v.tickFormat?v.tickFormat.apply(v,y):N:b,r=Math.max(x,0)+w,i=v.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,u=(v.bandwidth?function(n){var e=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(e=Math.round(e)),function(t){return+n(t)+e}}:function(n){return function(t){return+n(t)}})(v.copy()),c=t.selection?t.selection():t,s=c.selectAll(".domain").data([null]),l=c.selectAll(".tick").data(n,v).order(),f=l.exit(),h=l.enter().append("g").attr("class","tick"),d=l.select("line"),p=l.select("text");s=s.merge(s.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),l=l.merge(h),d=d.merge(h.append("line").attr("stroke","#000").attr(M+"2",A*x)),p=p.merge(h.append("text").attr("fill","#000").attr(M,A*r).attr("dy",g===L?"0em":g===D?"0.71em":"0.32em")),t!==c&&(s=s.transition(t),l=l.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",P).attr("transform",function(t){return isFinite(t=u(t))?k(t):this.getAttribute("transform")}),h.attr("opacity",P).attr("transform",function(t){var n=this.parentNode.__axis;return k(n&&isFinite(n=n(t))?n:u(t))})),f.remove(),s.attr("d",g===O||g==R?"M"+A*_+","+o+"H0.5V"+a+"H"+A*_:"M"+o+","+A*_+"V0.5H"+a+"V"+A*_),l.attr("opacity",1).attr("transform",function(t){return k(u(t))}),d.attr(M+"2",A*x),p.attr(M,A*r).text(e),c.filter(I).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===R?"start":g===O?"end":"middle"),c.each(function(){this.__axis=u})}return n.scale=function(t){return arguments.length?(v=t,n):v},n.ticks=function(){return y=T.call(arguments),n},n.tickArguments=function(t){return arguments.length?(y=null==t?[]:T.call(t),n):y.slice()},n.tickValues=function(t){return arguments.length?(m=null==t?null:T.call(t),n):m&&m.slice()},n.tickFormat=function(t){return arguments.length?(b=t,n):b},n.tickSize=function(t){return arguments.length?(x=_=+t,n):x},n.tickSizeInner=function(t){return arguments.length?(x=+t,n):x},n.tickSizeOuter=function(t){return arguments.length?(_=+t,n):_},n.tickPadding=function(t){return arguments.length?(w=+t,n):w},n}var j={value:function(){}};function q(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new H(r)}function H(t){this._=t}function Y(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function G(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=j,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}H.prototype=q.prototype={constructor:H,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=G(i[e],t.name,n);else if(null==n)for(e in i)i[e]=G(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=Y(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var V="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}function $(t){var n=W(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===V&&t.documentElement.namespaceURI===V?t.createElement(e):t.createElementNS(n,e)}})(n)}function K(){}function Z(t){return null==t?K:function(){return this.querySelector(t)}}function Q(){return[]}function J(t){return null==t?Q:function(){return this.querySelectorAll(t)}}var tt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var nt=document.documentElement;if(!nt.matches){var et=nt.webkitMatchesSelector||nt.msMatchesSelector||nt.mozMatchesSelector||nt.oMatchesSelector;tt=function(t){return function(){return et.call(this,t)}}}}var rt=tt;function it(t){return new Array(t.length)}function ot(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ot.prototype={constructor:ot,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var at="$";function ut(t,n,e,r,i,o){for(var a,u=0,c=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ot(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function ct(t,n,e,r,i,o,a){var u,c,s,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(d[u]=s=at+a.call(c,c.__data__,u,n),s in l?i[u]=c:l[s]=c);for(u=0;u<h;++u)(c=l[s=at+a.call(t,o[u],u,o)])?((r[u]=c).__data__=o[u],l[s]=null):e[u]=new ot(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&l[d[u]]===c&&(i[u]=c)}function st(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ft(t,n){return t.style.getPropertyValue(n)||lt(t).getComputedStyle(t,null).getPropertyValue(n)}function ht(t){return t.trim().split(/^|\s+/)}function dt(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ht(t.getAttribute("class")||"")}function gt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function vt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function yt(){this.textContent=""}function mt(){this.innerHTML=""}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _t(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function At(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var kt={};(U.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(kt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Et(e,t,n){return e=St(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function St(e,r,i){return function(t){var n=U.event;U.event=t;try{e.call(this,this.__data__,r,i)}finally{U.event=n}}}function Ct(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function Tt(c,s,l){var f=kt.hasOwnProperty(c.type)?Et:St;return function(t,n,e){var r,i=this.__on,o=f(s,n,e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=s);this.addEventListener(c.type,o,l),r={type:c.type,name:c.name,value:s,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function Nt(t,n,e,r){var i=U.event;t.sourceEvent=U.event,U.event=t;try{return n.apply(e,r)}finally{U.event=i}}function Lt(t,n,e){var r=lt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Rt=[null];function Dt(t,n){this._groups=t,this._parents=n}function Ot(){return new Dt([[document.documentElement]],Rt)}function Pt(t){return"string"==typeof t?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],Rt)}Dt.prototype=Ot.prototype={constructor:Dt,select:function(t){"function"!=typeof t&&(t=Z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new Dt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=J(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new Dt(r,i)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Dt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?ct:ut,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),s=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,v=c[l]=new Array(g),y=u[l]=new Array(g);r(f,h,v,y,s[l]=new Array(d),p,n);for(var m,b,x=0,_=0;x<g;++x)if(m=v[x]){for(_<=x&&(_=x+1);!(b=y[_])&&++_<g;);m._next=b||null}}return(u=new Dt(u,i))._enter=c,u._exit=s,u},enter:function(){return new Dt(this._enter||this._groups.map(it),this._parents)},exit:function(){return new Dt(this._exit||this._groups.map(it),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],l=e[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Dt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=st);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(t)}return new Dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=W(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):ft(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=ht(t+"");if(arguments.length<2){for(var r=dt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?gt:vt)(this,t)}}:n?function(t){return function(){gt(this,t)}}:function(t){return function(){vt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mt:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(bt)},lower:function(){return this.each(xt)},append:function(t){var n="function"==typeof t?t:$(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:$(t),r=null==n?_t:"function"==typeof n?n:Z(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?Mt:At)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=o.length;if(!(arguments.length<2)){for(u=n?Tt:Ct,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Lt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Lt(this,t,n)}})(t,n))}};var zt=0;function Ft(){return new It}function It(){this._="@"+(++zt).toString(36)}function Bt(){for(var t,n=U.event;t=n.sourceEvent;)n=t;return n}function Ut(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function jt(t){var n=Bt();return n.changedTouches&&(n=n.changedTouches[0]),Ut(t,n)}function qt(t,n,e){arguments.length<3&&(e=n,n=Bt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Ut(t,r);return null}function Ht(){U.event.stopImmediatePropagation()}function Yt(){U.event.preventDefault(),U.event.stopImmediatePropagation()}function Gt(t){var n=t.document.documentElement,e=Pt(t).on("dragstart.drag",Yt,!0);"onselectstart"in n?e.on("selectstart.drag",Yt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Vt(t,n){var e=t.document.documentElement,r=Pt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Yt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Xt(t){return function(){return t}}function Wt(t,n,e,r,i,o,a,u,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=c,this._=s}function $t(){return!U.event.button}function Kt(){return this.parentNode}function Zt(t){return null==t?{x:U.event.x,y:U.event.y}:t}function Qt(){return"ontouchstart"in this}function Jt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function tn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function nn(){}It.prototype=Ft.prototype={constructor:It,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Wt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var en=1/.7,rn="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",un=/^#([0-9a-f]{3})$/,cn=/^#([0-9a-f]{6})$/,sn=new RegExp("^rgb\\("+[rn,rn,rn]+"\\)$"),ln=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),fn=new RegExp("^rgba\\("+[rn,rn,rn,on]+"\\)$"),hn=new RegExp("^rgba\\("+[an,an,an,on]+"\\)$"),dn=new RegExp("^hsl\\("+[on,an,an]+"\\)$"),pn=new RegExp("^hsla\\("+[on,an,an,on]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vn(t){var n;return t=(t+"").trim().toLowerCase(),(n=un.exec(t))?new _n((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=cn.exec(t))?yn(parseInt(n[1],16)):(n=sn.exec(t))?new _n(n[1],n[2],n[3],1):(n=ln.exec(t))?new _n(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=fn.exec(t))?mn(n[1],n[2],n[3],n[4]):(n=hn.exec(t))?mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=dn.exec(t))?An(n[1],n[2]/100,n[3]/100,1):(n=pn.exec(t))?An(n[1],n[2]/100,n[3]/100,n[4]):gn.hasOwnProperty(t)?yn(gn[t]):"transparent"===t?new _n(NaN,NaN,NaN,0):null}function yn(t){return new _n(t>>16&255,t>>8&255,255&t,1)}function mn(t,n,e,r){return r<=0&&(t=n=e=NaN),new _n(t,n,e,r)}function bn(t){return t instanceof nn||(t=vn(t)),t?new _n((t=t.rgb()).r,t.g,t.b,t.opacity):new _n}function xn(t,n,e,r){return 1===arguments.length?bn(t):new _n(t,n,e,null==r?1:r)}function _n(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function wn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function An(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new kn(t,n,e,r)}function Mn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=vn(t)),!t)return new kn;if(t instanceof kn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new kn(a,u,c,t.opacity)}(t):new kn(t,n,e,null==r?1:r)}function kn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function En(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Jt(nn,vn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Jt(_n,xn,tn(nn,{brighter:function(t){return t=null==t?en:Math.pow(en,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Jt(kn,Mn,tn(nn,{brighter:function(t){return t=null==t?en:Math.pow(en,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new _n(En(240<=t?t-240:t+120,i,r),En(t,i,r),En(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Sn=Math.PI/180,Cn=180/Math.PI,Tn=.96422,Nn=1,Ln=.82521,Rn=4/29,Dn=6/29,On=3*Dn*Dn,Pn=Dn*Dn*Dn;function zn(t){if(t instanceof In)return new In(t.l,t.a,t.b,t.opacity);if(t instanceof Gn){if(isNaN(t.h))return new In(t.l,0,0,t.opacity);var n=t.h*Sn;return new In(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof _n||(t=bn(t));var e,r,i=qn(t.r),o=qn(t.g),a=qn(t.b),u=Bn((.2225045*i+.7168786*o+.0606169*a)/Nn);return i===o&&o===a?e=r=u:(e=Bn((.4360747*i+.3850649*o+.1430804*a)/Tn),r=Bn((.0139322*i+.0971045*o+.7141733*a)/Ln)),new In(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Fn(t,n,e,r){return 1===arguments.length?zn(t):new In(t,n,e,null==r?1:r)}function In(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Bn(t){return Pn<t?Math.pow(t,1/3):t/On+Rn}function Un(t){return Dn<t?t*t*t:On*(t-Rn)}function jn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Hn(t){if(t instanceof Gn)return new Gn(t.h,t.c,t.l,t.opacity);if(t instanceof In||(t=zn(t)),0===t.a&&0===t.b)return new Gn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Cn;return new Gn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Yn(t,n,e,r){return 1===arguments.length?Hn(t):new Gn(t,n,e,null==r?1:r)}function Gn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Jt(In,Fn,tn(nn,{brighter:function(t){return new In(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new In(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new _n(jn(3.1338561*(n=Tn*Un(n))-1.6168667*(t=Nn*Un(t))-.4906146*(e=Ln*Un(e))),jn(-.9787684*n+1.9161415*t+.033454*e),jn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Jt(Gn,Yn,tn(nn,{brighter:function(t){return new Gn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Gn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return zn(this).rgb()}}));var Vn=1.78277,Xn=-.29227,Wn=-.90649,$n=1.97294,Kn=$n*Wn,Zn=$n*Vn,Qn=Vn*Xn- -.14861*Wn;function Jn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof te)return new te(t.h,t.s,t.l,t.opacity);t instanceof _n||(t=bn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Qn*r+Kn*n-Zn*e)/(Qn+Kn-Zn),o=r-i,a=($n*(e-i)-Xn*o)/Wn,u=Math.sqrt(a*a+o*o)/($n*i*(1-i)),c=u?Math.atan2(a,o)*Cn-120:NaN;return new te(c<0?c+360:c,u,i,t.opacity)}(t):new te(t,n,e,null==r?1:r)}function te(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ne(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function ee(a){var u=a.length-1;return function(t){var n=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),e=a[n],r=a[n+1],i=0<n?a[n-1]:2*e-r,o=n<u-1?a[n+2]:2*r-e;return ne((t-n/u)*u,i,e,r,o)}}function re(a){var u=a.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*u),e=a[(n+u-1)%u],r=a[n%u],i=a[(n+1)%u],o=a[(n+2)%u];return ne((t-n/u)*u,e,r,i,o)}}function ie(t){return function(){return t}}function oe(n,e){return function(t){return n+t*e}}function ae(t,n){var e=n-t;return e?oe(t,180<e||e<-180?e-360*Math.round(e/360):e):ie(isNaN(t)?n:t)}function ue(o){return 1==(o=+o)?ce:function(t,n){return n-t?(e=t,r=n,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(t){return Math.pow(e+t*r,i)}):ie(isNaN(t)?n:t);var e,r,i}}function ce(t,n){var e=n-t;return e?oe(t,e):ie(isNaN(t)?n:t)}Jt(te,Jn,tn(nn,{brighter:function(t){return t=null==t?en:Math.pow(en,t),new te(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new te(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Sn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new _n(255*(n+e*(-.14861*r+Vn*i)),255*(n+e*(Xn*r+Wn*i)),255*(n+e*($n*r)),this.opacity)}}));var se=function t(n){var a=ue(n);function e(n,t){var e=a((n=xn(n)).r,(t=xn(t)).r),r=a(n.g,t.g),i=a(n.b,t.b),o=ce(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function le(u){return function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)e=xn(t[n]),i[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return i=u(i),o=u(o),a=u(a),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e+""}}}var fe=le(ee),he=le(re);function de(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=xe(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function pe(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}function ge(n,e){return e-=n=+n,function(t){return n+e*t}}function ve(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=xe(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(ye.source,"g");function be(t,r){var n,e,i,o,a,u=ye.lastIndex=me.lastIndex=0,c=-1,s=[],l=[];for(t+="",r+="";(n=ye.exec(t))&&(e=me.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),s[c]?s[c]+=i:s[++c]=i),(n=n[0])===(e=e[0])?s[c]?s[c]+=e:s[++c]=e:(s[++c]=null,l.push({i:c,x:ge(n,e)})),u=me.lastIndex;return u<r.length&&(i=r.slice(u),s[c]?s[c]+=i:s[++c]=i),s.length<2?l[0]?(a=l[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=l.length,function(t){for(var n,e=0;e<r;++e)s[(n=l[e]).i]=n.x(t);return s.join("")})}function xe(t,n){var e,r=typeof n;return null==n||"boolean"===r?ie(n):("number"===r?ge:"string"===r?(e=vn(n))?(n=e,se):be:n instanceof vn?se:n instanceof Date?pe:Array.isArray(n)?de:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ve:ge)(t,n)}function _e(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}}var we,Ae,Me,ke,Ee=180/Math.PI,Se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ce(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ee,skewX:Math.atan(c)*Ee,scaleX:a,scaleY:u}}function Te(h,d,p,g){function v(t){return t.length?t.pop()+" ":""}return function(t,n){var e,r,i,o,a,u,c,s,l=[],f=[];return t=h(t),n=h(n),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push("translate(",null,d,null,p);o.push({i:a-4,x:ge(t,e)},{i:a-2,x:ge(n,r)})}else(e||r)&&i.push("translate("+e+d+r+p)}(t.translateX,t.translateY,n.translateX,n.translateY,l,f),e=t.rotate,r=n.rotate,i=l,o=f,e!==r?(180<e-r?r+=360:180<r-e&&(e+=360),o.push({i:i.push(v(i)+"rotate(",null,g)-2,x:ge(e,r)})):r&&i.push(v(i)+"rotate("+r+g),a=t.skewX,u=n.skewX,c=l,s=f,a!==u?s.push({i:c.push(v(c)+"skewX(",null,g)-2,x:ge(a,u)}):u&&c.push(v(c)+"skewX("+u+g),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push(v(i)+"scale(",null,",",null,")");o.push({i:a-4,x:ge(t,e)},{i:a-2,x:ge(n,r)})}else 1===e&&1===r||i.push(v(i)+"scale("+e+","+r+")")}(t.scaleX,t.scaleY,n.scaleX,n.scaleY,l,f),t=n=null,function(t){for(var n,e=-1,r=f.length;++e<r;)l[(n=f[e]).i]=n.x(t);return l.join("")}}}var Ne=Te(function(t){return"none"===t?Se:(we||(we=document.createElement("DIV"),Ae=document.documentElement,Me=document.defaultView),we.style.transform=t,t=Me.getComputedStyle(Ae.appendChild(we),null).getPropertyValue("transform"),Ae.removeChild(we),Ce(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Le=Te(function(t){return null==t?Se:(ke||(ke=document.createElementNS("http://www.w3.org/2000/svg","g")),ke.setAttribute("transform",t),(t=ke.transform.baseVal.consolidate())?Ce((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Se)},", ",")",")"),Re=Math.SQRT2,De=2,Oe=4,Pe=1e-12;function ze(t){return((t=Math.exp(t))+1/t)/2}function Fe(t,n){var e,a,u=t[0],c=t[1],s=t[2],r=n[0],i=n[1],o=n[2],l=r-u,f=i-c,h=l*l+f*f;if(h<Pe)a=Math.log(o/s)/Re,e=function(t){return[u+t*l,c+t*f,s*Math.exp(Re*t*a)]};else{var d=Math.sqrt(h),p=(o*o-s*s+Oe*h)/(2*s*De*d),g=(o*o-s*s-Oe*h)/(2*o*De*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);a=(y-v)/Re,e=function(t){var n,e,r=t*a,i=ze(v),o=s/(De*d)*(i*(e=Re*r+v,((e=Math.exp(2*e))-1)/(e+1))-(n=v,((n=Math.exp(n))-1/n)/2));return[u+o*l,c+o*f,s*i/ze(Re*r+v)]}}return e.duration=1e3*a,e}function Ie(a){return function(n,t){var e=a((n=Mn(n)).h,(t=Mn(t)).h),r=ce(n.s,t.s),i=ce(n.l,t.l),o=ce(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(t),n.opacity=o(t),n+""}}}var Be=Ie(ae),Ue=Ie(ce);function je(a){return function(n,t){var e=a((n=Yn(n)).h,(t=Yn(t)).h),r=ce(n.c,t.c),i=ce(n.l,t.l),o=ce(n.opacity,t.opacity);return function(t){return n.h=e(t),n.c=r(t),n.l=i(t),n.opacity=o(t),n+""}}}var qe=je(ae),He=je(ce);function Ye(u){return function t(a){function n(n,t){var e=u((n=Jn(n)).h,(t=Jn(t)).h),r=ce(n.s,t.s),i=ce(n.l,t.l),o=ce(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(Math.pow(t,a)),n.opacity=o(t),n+""}}return a=+a,n.gamma=t,n}(1)}var Ge=Ye(ae),Ve=Ye(ce);var Xe,We,$e=0,Ke=0,Ze=0,Qe=1e3,Je=0,tr=0,nr=0,er="object"==typeof performance&&performance.now?performance:Date,rr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ir(){return tr||(rr(or),tr=er.now()+nr)}function or(){tr=0}function ar(){this._call=this._time=this._next=null}function ur(t,n,e){var r=new ar;return r.restart(t,n,e),r}function cr(){ir(),++$e;for(var t,n=Xe;n;)0<=(t=tr-n._time)&&n._call.call(null,t),n=n._next;--$e}function sr(){tr=(Je=er.now())+nr,$e=Ke=0;try{cr()}finally{$e=0,function(){var t,n,e=Xe,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),e=(t=e)._next):(n=e._next,e._next=null,e=t?t._next=n:Xe=n);We=t,fr(r)}(),tr=0}}function lr(){var t=er.now(),n=t-Je;Qe<n&&(nr-=n,Je=t)}function fr(t){$e||(Ke&&(Ke=clearTimeout(Ke)),24<t-tr?(t<1/0&&(Ke=setTimeout(sr,t-er.now()-nr)),Ze&&(Ze=clearInterval(Ze))):(Ze||(Je=er.now(),Ze=setInterval(lr,Qe)),$e=1,rr(sr)))}function hr(n,e,t){var r=new ar;return e=null==e?0:+e,r.restart(function(t){r.stop(),n(t+e)},e,t),r}ar.prototype=ur.prototype={constructor:ar,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ir():+e)+(null==n?0:+n),this._next||We===this||(We?We._next=this:Xe=this,We=this),this._call=t,this._time=e,fr()},stop:function(){this._call&&(this._call=null,this._time=1/0,fr())}};var dr=q("start","end","interrupt"),pr=[],gr=0,vr=1,yr=2,mr=3,br=4,xr=5,_r=6;function wr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(o,a,u){var c,s=o.__transition;function l(t){var n,e,r,i;if(u.state!==vr)return h();for(n in s)if((i=s[n]).name===u.name){if(i.state===mr)return hr(l);i.state===br?(i.state=_r,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete s[n]):+n<a&&(i.state=_r,i.timer.stop(),delete s[n])}if(hr(function(){u.state===mr&&(u.state=br,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=yr,u.on.call("start",o,o.__data__,u.index,u.group),u.state===yr){for(u.state=mr,c=new Array(r=u.tween.length),n=0,e=-1;n<r;++n)(i=u.tween[n].value.call(o,o.__data__,u.index,u.group))&&(c[++e]=i);c.length=e+1}}function f(t){for(var n=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=xr,1),e=-1,r=c.length;++e<r;)c[e].call(null,n);u.state===xr&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=_r,u.timer.stop(),delete s[a],s)return;delete o.__transition}(s[a]=u).timer=ur(function(t){u.state=vr,u.timer.restart(l,u.delay,u.time),u.delay<=t&&l(t-u.delay)},0,u.time)}(t,e,{name:n,index:r,group:i,on:dr,tween:pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gr})}function Ar(t,n){var e=kr(t,n);if(e.state>gr)throw new Error("too late; already scheduled");return e}function Mr(t,n){var e=kr(t,n);if(e.state>yr)throw new Error("too late; already started");return e}function kr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Er(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>yr&&e.state<xr,e.state=_r,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Sr(t,n,e){var r=t._id;return t.each(function(){var t=Mr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return kr(t,r).value[n]}}function Cr(t,n){var e;return("number"==typeof n?ge:n instanceof vn?se:(e=vn(n))?(n=e,se):be)(t,n)}var Tr=Ot.prototype.constructor;var Nr=0;function Lr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Rr(t){return Ot().transition(t)}function Dr(){return++Nr}var Or=Ot.prototype;function Pr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function zr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Lr.prototype=Rr.prototype={constructor:Lr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Z(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],l=s.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,wr(f[h],n,e,h,f,kr(u,e)));return new Lr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=J(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=kr(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&wr(h,n,e,g,d,p);o.push(d),a.push(c)}return new Lr(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Lr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],l=e[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Lr(a,this._parents,this._name,this._id)},selection:function(){return new Tr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Dr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=kr(a,n);wr(a,t,e,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Lr(r,this._parents,t,e)},call:Or.call,nodes:Or.nodes,node:Or.node,size:Or.size,empty:Or.empty,each:Or.each,on:function(t,n){var e,r,i,o,a,u,c=this._id;return arguments.length<2?kr(this.node(),c).on.on(t):this.each((e=c,i=n,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t})?Ar:Mr,function(){var t=u(this,e),n=t.on;n!==o&&(a=(o=n).copy()).on(r,i),t.on=a}))},attr:function(t,n){var e=W(t),r="transform"===e?Le:Cr;return this.attrTween(t,"function"==typeof n?(e.local?function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttributeNS(e.space,e.local))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttributeNS(e.space,e.local)}}:function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttribute(e))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttribute(e)}})(e,r,Sr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o;return function(){var t=this.getAttributeNS(n.space,n.local);return t===r?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o;return function(){var t=this.getAttribute(n);return t===r?null:t===i?o:o=e(i=t,r)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=W(t);return this.tween(e,(r.local?function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttributeNS(r.space,r.local,e(t))}}return n._value=t,n}:function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttribute(r,e(t))}}return n._value=t,n})(r,n))},style:function(t,n,e){var r,i,o,a,u,c,s,l,f,h,d,p,g,v,y,m,b,x="transform"==(t+="")?Ne:Cr;return null==n?this.styleTween(t,(g=t,v=x,function(){var t=ft(this,g),n=(this.style.removeProperty(g),ft(this,g));return t===n?null:t===y&&n===m?b:b=v(y=t,m=n)})).on("end.style."+t,(p=t,function(){this.style.removeProperty(p)})):this.styleTween(t,"function"==typeof n?(s=x,l=Sr(this,"style."+(c=t),n),function(){var t=ft(this,c),n=l(this);return null==n&&(this.style.removeProperty(c),n=ft(this,c)),t===n?null:t===f&&n===h?d:d=s(f=t,h=n)}):(r=t,i=x,o=n+"",function(){var t=ft(this,r);return t===o?null:t===a?u:u=i(a=t,o)}),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(r,t,i){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.style.setProperty(r,e(t),i)}}return n._value=t,n}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?(e=Sr(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}));var n,e},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=kr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var a,u;return function(){var t=Mr(this,i),n=t.tween;if(n!==a)for(var e=0,r=(u=a=n).length;e<r;++e)if(u[e].name===o){(u=u.slice()).splice(e,1);break}t.tween=u}}:function(o,a,u){var c,s;if("function"!=typeof u)throw new Error;return function(){var t=Mr(this,o),n=t.tween;if(n!==c){s=(c=n).slice();for(var e={name:a,value:u},r=0,i=s.length;r<i;++r)if(s[r].name===a){s[r]=e;break}r===i&&s.push(e)}t.tween=s}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Ar(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Ar(this,t).delay=n}})(n,t)):kr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Mr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Mr(this,t).duration=n}})(n,t)):kr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Mr(this,t).ease=n}}(n,t)):kr(this.node(),n).ease}};var Fr=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Ir=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Br=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Ur=Math.PI,jr=Ur/2;function qr(t){return(1-Math.cos(Ur*t))/2}function Hr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Yr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Gr=4/11,Vr=6/11,Xr=8/11,Wr=.75,$r=9/11,Kr=10/11,Zr=.9375,Qr=21/22,Jr=63/64,ti=1/Gr/Gr;function ni(t){return(t=+t)<Gr?ti*t*t:t<Xr?ti*(t-=Vr)*t+Wr:t<Kr?ti*(t-=$r)*t+Zr:ti*(t-=Qr)*t+Jr}var ei=1.70158,ri=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(ei),ii=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(ei),oi=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(ei),ai=2*Math.PI,ui=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ai);function t(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return n(t,r*ai)},t.period=function(t){return n(e,t)},t}(1,.3),ci=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ai);function t(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return n(t,r*ai)},t.period=function(t){return n(e,t)},t}(1,.3),si=function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=ai);function t(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/r):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return n(t,r*ai)},t.period=function(t){return n(e,t)},t}(1,.3),li={time:null,delay:0,duration:250,ease:zr};function fi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return li.time=ir(),li;return e}Ot.prototype.interrupt=function(t){return this.each(function(){Er(this,t)})},Ot.prototype.transition=function(t){var n,e;t instanceof Lr?(n=t._id,t=t._name):(n=Dr(),(e=li).time=ir(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&wr(a,t,n,s,u,e||fi(a,n));return new Lr(r,this._parents,t,n)};var hi=[null];function di(t){return function(){return t}}function pi(t,n,e){this.target=t,this.type=n,this.selection=e}function gi(){U.event.stopImmediatePropagation()}function vi(){U.event.preventDefault(),U.event.stopImmediatePropagation()}var yi={name:"drag"},mi={name:"space"},bi={name:"handle"},xi={name:"center"},_i={name:"x",handles:["e","w"].map(Ti),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},wi={name:"y",handles:["n","s"].map(Ti),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ai={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ti),input:function(t){return t},output:function(t){return t}},Mi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ki={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ei={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Si={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ci={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ti(t){return{type:t}}function Ni(){return!U.event.button}function Li(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ri(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Di(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Oi(P){var z,n=Li,F=Ni,e=q(i,"start","brush","end"),r=6;function i(t){var n=t.property("__brush",u).selectAll(".overlay").data([Ti("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mi.overlay).merge(n).each(function(){var t=Ri(this).extent;Pt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ti("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=t.selectAll(".handle").data(P.handles,function(t){return t.type});e.exit().remove(),e.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mi[t.type]}),t.each(I).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function I(){var t=Pt(this),n=Ri(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-r/2:n[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-r/2:n[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function B(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function a(){if(U.event.touches){if(U.event.changedTouches.length<U.event.touches.length)return vi()}else if(z)return;if(F.apply(this,arguments)){var n,e,r,i,o,a,u,c,s,l,f,h,d,p=this,g=U.event.target.__data__.type,v="selection"===(U.event.metaKey?g="overlay":g)?yi:U.event.altKey?xi:bi,y=P===wi?null:Si[g],m=P===_i?null:Ci[g],b=Ri(p),t=b.extent,x=b.selection,_=t[0][0],w=t[0][1],A=t[1][0],M=t[1][1],k=y&&m&&U.event.shiftKey,E=jt(p),S=E,C=B(p,arguments).beforestart();"overlay"===g?b.selection=x=[[n=P===wi?_:E[0],r=P===_i?w:E[1]],[o=P===wi?A:n,u=P===_i?M:r]]:(n=x[0][0],r=x[0][1],o=x[1][0],u=x[1][1]),e=n,i=r,a=o,c=u;var T=Pt(p).attr("pointer-events","none"),N=T.selectAll(".overlay").attr("cursor",Mi[g]);if(U.event.touches)T.on("touchmove.brush",R,!0).on("touchend.brush touchcancel.brush",O,!0);else{var L=Pt(U.event.view).on("keydown.brush",function(){switch(U.event.keyCode){case 16:k=y&&m;break;case 18:v===bi&&(y&&(o=a-s*y,n=e+s*y),m&&(u=c-l*m,r=i+l*m),v=xi,D());break;case 32:v!==bi&&v!==xi||(y<0?o=a-s:0<y&&(n=e-s),m<0?u=c-l:0<m&&(r=i-l),v=mi,N.attr("cursor",Mi.selection),D());break;default:return}vi()},!0).on("keyup.brush",function(){switch(U.event.keyCode){case 16:k&&(h=d=k=!1,D());break;case 18:v===xi&&(y<0?o=a:0<y&&(n=e),m<0?u=c:0<m&&(r=i),v=bi,D());break;case 32:v===mi&&(U.event.altKey?(y&&(o=a-s*y,n=e+s*y),m&&(u=c-l*m,r=i+l*m),v=xi):(y<0?o=a:0<y&&(n=e),m<0?u=c:0<m&&(r=i),v=bi),N.attr("cursor",Mi[g]),D());break;default:return}vi()},!0).on("mousemove.brush",R,!0).on("mouseup.brush",O,!0);Gt(U.event.view)}gi(),Er(p),I.call(p),C.start()}function R(){var t=jt(p);!k||h||d||(Math.abs(t[0]-S[0])>Math.abs(t[1]-S[1])?d=!0:h=!0),S=t,f=!0,vi(),D()}function D(){var t;switch(s=S[0]-E[0],l=S[1]-E[1],v){case mi:case yi:y&&(s=Math.max(_-n,Math.min(A-o,s)),e=n+s,a=o+s),m&&(l=Math.max(w-r,Math.min(M-u,l)),i=r+l,c=u+l);break;case bi:y<0?(s=Math.max(_-n,Math.min(A-n,s)),e=n+s,a=o):0<y&&(s=Math.max(_-o,Math.min(A-o,s)),e=n,a=o+s),m<0?(l=Math.max(w-r,Math.min(M-r,l)),i=r+l,c=u):0<m&&(l=Math.max(w-u,Math.min(M-u,l)),i=r,c=u+l);break;case xi:y&&(e=Math.max(_,Math.min(A,n-s*y)),a=Math.max(_,Math.min(A,o+s*y))),m&&(i=Math.max(w,Math.min(M,r-l*m)),c=Math.max(w,Math.min(M,u+l*m)))}a<e&&(y*=-1,t=n,n=o,o=t,t=e,e=a,a=t,g in ki&&N.attr("cursor",Mi[g=ki[g]])),c<i&&(m*=-1,t=r,r=u,u=t,t=i,i=c,c=t,g in Ei&&N.attr("cursor",Mi[g=Ei[g]])),b.selection&&(x=b.selection),h&&(e=x[0][0],a=x[1][0]),d&&(i=x[0][1],c=x[1][1]),x[0][0]===e&&x[0][1]===i&&x[1][0]===a&&x[1][1]===c||(b.selection=[[e,i],[a,c]],I.call(p),C.brush())}function O(){if(gi(),U.event.touches){if(U.event.touches.length)return;z&&clearTimeout(z),z=setTimeout(function(){z=null},500),T.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Vt(U.event.view,f),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);T.attr("pointer-events","all"),N.attr("cursor",Mi.overlay),b.selection&&(x=b.selection),Di(x)&&(b.selection=null,I.call(p)),C.end()}}function u(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=P,t}return i.move=function(t,u){t.selection?t.on("start.brush",function(){B(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){B(this,arguments).end()}).tween("brush",function(){var n=this,e=n.__brush,r=B(n,arguments),t=e.selection,i=P.input("function"==typeof u?u.apply(this,arguments):u,e.extent),o=xe(t,i);function a(t){e.selection=1===t&&Di(i)?null:o(t),I.call(n),r.brush()}return t&&i?a:a(1)}):t.each(function(){var t=arguments,n=this.__brush,e=P.input("function"==typeof u?u.apply(this,t):u,n.extent),r=B(this,t).beforestart();Er(this),n.selection=null==e||Di(e)?null:e,I.call(this),r.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Nt(new pi(i,t,P.output(this.state.selection)),e.apply,e,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(n="function"==typeof t?t:di([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):n},i.filter=function(t){return arguments.length?(F="function"==typeof t?t:di(!!t),i):F},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=e.on.apply(e,arguments);return t===e?i:t},i}var Pi=Math.cos,zi=Math.sin,Fi=Math.PI,Ii=Fi/2,Bi=2*Fi,Ui=Math.max;var ji=Array.prototype.slice;function qi(t){return function(){return t}}var Hi=Math.PI,Yi=2*Hi,Gi=1e-6,Vi=Yi-Gi;function Xi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wi(){return new Xi}function $i(t){return t.source}function Ki(t){return t.target}function Zi(t){return t.radius}function Qi(t){return t.startAngle}function Ji(t){return t.endAngle}Xi.prototype=Wi.prototype={constructor:Xi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,c=r-n,s=o-t,l=a-n,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(Gi<f)if(Math.abs(l*u-c*s)>Gi&&i){var h=e-o,d=r-a,p=u*u+c*c,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((Hi-Math.acos((p+f-g)/(2*v*y)))/2),b=m/y,x=m/v;Math.abs(b-1)>Gi&&(this._+="L"+(t+b*s)+","+(n+b*l)),this._+="A"+i+","+i+",0,0,"+ +(s*d<l*h)+","+(this._x1=t+x*u)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=t+a,s=n+u,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>Gi||Math.abs(this._y1-s)>Gi)&&(this._+="L"+c+","+s),e&&(f<0&&(f=f%Yi+Yi),Vi<f?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):Gi<f&&(this._+="A"+e+","+e+",0,"+ +(Hi<=f)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var to="$";function no(){}function eo(t,n){var e=new no;if(t instanceof no)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function ro(){return{}}function io(t,n,e){t[n]=e}function oo(){return eo()}function ao(t,n,e){t.set(n,e)}function uo(){}no.prototype=eo.prototype={constructor:no,has:function(t){return to+t in this},get:function(t){return this[to+t]},set:function(t,n){return this[to+t]=n,this},remove:function(t){var n=to+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===to&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===to&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===to&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===to&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===to&&++t;return t},empty:function(){for(var t in this)if(t[0]===to)return!1;return!0},each:function(t){for(var n in this)n[0]===to&&t(this[n],n.slice(1),this)}};var co=eo.prototype;function so(t,n){var e=new uo;if(t instanceof uo)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}uo.prototype=so.prototype={constructor:uo,has:co.has,add:function(t){return this[to+(t+="")]=t,this},remove:co.remove,clear:co.clear,values:co.keys,size:co.size,empty:co.empty,each:co.each};var lo=Array.prototype.slice;function fo(t,n){return t-n}function ho(t){return function(){return t}}function po(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=go(t,n[r]))return e;return 0}function go(t,n){for(var e,r,i,o,a,u,c,s,l,f,h=n[0],d=n[1],p=-1,g=0,v=t.length,y=v-1;g<v;y=g++){var m=t[g],b=m[0],x=m[1],_=t[y],w=_[0],A=_[1];if(f=void 0,o=c=m,u=l=n,((a=s=_)[0]-o[0])*(u[1]-o[1])==(u[0]-o[0])*(a[1]-o[1])&&(e=c[f=+(c[0]===s[0])],r=l[f],i=s[f],e<=r&&r<=i||i<=r&&r<=e))return 0;d<x!=d<A&&h<(w-b)*(d-x)/(A-x)+b&&(p=-p)}return p}function vo(){}var yo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function mo(){var h=1,d=1,o=b,a=n;function r(n){var t=o(n);if(Array.isArray(t))t=t.slice().sort(fo);else{var e=c(n),r=e[0],i=e[1];t=E(r,i,t),t=k(Math.floor(r/t)*t,Math.floor(i/t)*t,t)}return t.map(function(t){return u(n,t)})}function u(n,e){var i=[],r=[];return function(t,n,u){var c,s,e,r,i,o,l=new Array,f=new Array;c=s=-1,r=t[0]>=n,yo[r<<1].forEach(a);for(;++c<h-1;)e=r,r=t[c+1]>=n,yo[e|r<<1].forEach(a);yo[r<<0].forEach(a);for(;++s<d-1;){for(c=-1,r=t[s*h+h]>=n,i=t[s*h]>=n,yo[r<<1|i<<2].forEach(a);++c<h-1;)e=r,r=t[s*h+h+c+1]>=n,o=i,i=t[s*h+c+1]>=n,yo[e|r<<1|i<<2|o<<3].forEach(a);yo[r|i<<3].forEach(a)}c=-1,i=t[s*h]>=n,yo[i<<2].forEach(a);for(;++c<h-1;)o=i,i=t[s*h+c+1]>=n,yo[i<<2|o<<3].forEach(a);function a(t){var n,e,r=[t[0][0]+c,t[0][1]+s],i=[t[1][0]+c,t[1][1]+s],o=p(r),a=p(i);(n=f[o])?(e=l[a])?(delete f[n.end],delete l[e.start],n===e?(n.ring.push(i),u(n.ring)):l[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[n.end],n.ring.push(i),f[n.end=a]=n):(n=l[a])?(e=f[o])?(delete l[n.start],delete f[e.end],n===e?(n.ring.push(i),u(n.ring)):l[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete l[n.start],n.ring.unshift(r),l[n.start=o]=n):l[o]=f[a]={start:o,end:a,ring:[r,i]}}yo[i<<3].forEach(a)}(n,e,function(t){a(t,n,e),0<function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)?i.push([t]):r.push(t)}),r.forEach(function(t){for(var n,e=0,r=i.length;e<r;++e)if(-1!==po((n=i[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:e,coordinates:i}}function p(t){return 2*t[0]+t[1]*(h+1)*4}function n(t,u,c){t.forEach(function(t){var n,e=t[0],r=t[1],i=0|e,o=0|r,a=u[o*h+i];0<e&&e<h&&i===e&&(n=u[o*h+i-1],t[0]=e+(c-n)/(a-n)-.5),0<r&&r<d&&o===r&&(n=u[(o-1)*h+i],t[1]=r+(c-n)/(a-n)-.5)})}return r.contour=u,r.size=function(t){if(!arguments.length)return[h,d];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(0<n&&0<e))throw new Error("invalid size");return h=n,d=e,r},r.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:Array.isArray(t)?ho(lo.call(t)):ho(t),r):o},r.smooth=function(t){return arguments.length?(a=t?n:vo,r):a===n},r}function bo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,c=0;u<r+e;++u)u<r&&(c+=t.data[u+a*r]),e<=u&&(o<=u&&(c-=t.data[u-o+a*r]),n.data[u-e+a*r]=c/Math.min(u+1,r-1+o-u,o))}function xo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,c=0;u<i+e;++u)u<i&&(c+=t.data[a+u*r]),e<=u&&(o<=u&&(c-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=c/Math.min(u+1,i-1+o-u,o))}function _o(t){return t[0]}function wo(t){return t[1]}var Ao={},Mo={},ko=34,Eo=10,So=13;function Co(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function To(o){var n=new RegExp('["'+o+"\n\r]"),f=o.charCodeAt(0);function e(r,t){var n,e=[],i=r.length,o=0,a=0,u=i<=0,c=!1;function s(){if(u)return Mo;if(c)return c=!1,Ao;var t,n,e=o;if(r.charCodeAt(e)===ko){for(;o++<i&&r.charCodeAt(o)!==ko||r.charCodeAt(++o)===ko;);return(t=o)>=i?u=!0:(n=r.charCodeAt(o++))===Eo?c=!0:n===So&&(c=!0,r.charCodeAt(o)===Eo&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if((n=r.charCodeAt(t=o++))===Eo)c=!0;else if(n===So)c=!0,r.charCodeAt(o)===Eo&&++o;else if(n!==f)continue;return r.slice(e,t)}return u=!0,r.slice(e,i)}for(r.charCodeAt(i-1)===Eo&&--i,r.charCodeAt(i-1)===So&&--i;(n=s())!==Mo;){for(var l=[];n!==Ao&&n!==Mo;)l.push(n),n=s();t&&null==(l=t(l,a++))||e.push(l)}return e}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,u,n=e(t,function(t,n){if(a)return a(t,n-1);var e,r,i;u=t,a=o?(r=o,i=Co(e=t),function(t,n){return r(i(t),n,e)}):Co(t)});return n.columns=u||[],n},parseRows:e,format:function(t,e){var n,r,i;return null==e&&(n=t,r=Object.create(null),i=[],n.forEach(function(t){for(var n in t)n in r||i.push(r[n]=n)}),e=i),[e.map(a).join(o)].concat(t.map(function(n){return e.map(function(t){return a(n[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}var No=To(","),Lo=No.parse,Ro=No.parseRows,Do=No.format,Oo=No.formatRows,Po=To("\t"),zo=Po.parse,Fo=Po.parseRows,Io=Po.format,Bo=Po.formatRows;function Uo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function jo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function qo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ho(t,n){return fetch(t,n).then(qo)}function Yo(r){return function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),Ho(t,n).then(function(t){return r(t,e)})}}var Go=Yo(Lo),Vo=Yo(zo);function Xo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Wo(e){return function(t,n){return Ho(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var $o=Wo("application/xml"),Ko=Wo("text/html"),Zo=Wo("image/svg+xml");function Qo(t){return function(){return t}}function Jo(){return 1e-6*(Math.random()-.5)}function ta(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,s,l,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a,!(d=(i=d)[f=l<<1|s]))return i[f]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[f]=p:t._root=p,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(s=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a,(f=l<<1|s)==(h=(a<=c)<<1|o<=u););return i[h]=d,i[f]=p,t}function na(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function ea(t){return t[0]}function ra(t){return t[1]}function ia(t,n,e){var r=new oa(null==n?ea:n,null==e?ra:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function oa(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function aa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ua=ia.prototype=oa.prototype;function ca(t){return t.x+t.vx}function sa(t){return t.y+t.vy}function la(t){return t.index}function fa(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function ha(t){return t.x}function da(t){return t.y}ua.copy=function(){var t,n,e=new oa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=aa(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=aa(n));return e},ua.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ta(this.cover(n,e),n,e,t)},ua.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,s=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||((a[e]=r)<c&&(c=r),l<r&&(l=r),(u[e]=i)<s&&(s=i),f<i&&(f=i));for(l<c&&(c=this._x0,l=this._x1),f<s&&(s=this._y0,f=this._y1),this.cover(c,s).cover(l,f),e=0;e<o;++e)ta(this,a[e],u[e],t[e]);return this},ua.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(t<e||i<t||n<r||o<n))return this;var a,u,c=i-e,s=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:for(;(a=new Array(4))[u]=s,s=a,o=r+(c*=2),(i=e+c)<t||o<n;);break;case 1:for(;(a=new Array(4))[u]=s,s=a,o=r+(c*=2),t<(e=i-c)||o<n;);break;case 2:for(;(a=new Array(4))[u]=s,s=a,r=o-(c*=2),(i=e+c)<t||n<r;);break;case 3:for(;(a=new Array(4))[u]=s,s=a,r=o-(c*=2),t<(e=i-c)||n<r;);}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},ua.data=function(){var n=[];return this.visit(function(t){if(!t.length)for(;n.push(t.data),t=t.next;);}),n},ua.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ua.find=function(t,n,e){var r,i,o,a,u,c,s,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new na(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<l||(u=c.y1)<f))if(g.length){var v=(i+a)/2,y=(o+u)/2;p.push(new na(g[3],v,y,a,u),new na(g[2],i,y,v,u),new na(g[1],v,o,a,y),new na(g[0],i,o,v,y)),(s=(y<=n)<<1|v<=t)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var m=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),x=m*m+b*b;if(x<e){var _=Math.sqrt(e=x);l=t-_,f=n-_,h=t+_,d=n+_,r=g.data}}return r},ua.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,s,l,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(u=(p+v)/2))?p=u:v=u,(l=a>=(c=(g+y)/2))?g=c:y=c,!(d=(n=d)[f=l<<1|s]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(!(d=(r=d).next))return this;return(i=d.next)&&delete d.next,r?i?r.next=i:delete r.next:n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d)):this._root=i,this},ua.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ua.root=function(){return this._root},ua.size=function(){var n=0;return this.visit(function(t){if(!t.length)for(;++n,t=t.next;);}),n},ua.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new na(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var s=(r+o)/2,l=(i+a)/2;(e=c[3])&&u.push(new na(e,s,l,o,a)),(e=c[2])&&u.push(new na(e,r,l,s,a)),(e=c[1])&&u.push(new na(e,s,i,o,l)),(e=c[0])&&u.push(new na(e,r,i,s,l))}return this},ua.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new na(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,s=n.y1,l=(a+c)/2,f=(u+s)/2;(o=i[0])&&e.push(new na(o,a,u,l,f)),(o=i[1])&&e.push(new na(o,l,u,c,f)),(o=i[2])&&e.push(new na(o,a,f,l,s)),(o=i[3])&&e.push(new na(o,l,f,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ua.x=function(t){return arguments.length?(this._x=t,this):this._x},ua.y=function(t){return arguments.length?(this._y=t,this):this._y};var pa=Math.PI*(3-Math.sqrt(5));function ga(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function va(t){return(t=ga(Math.abs(t)))?t[1]:NaN}var ya,ma=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ba(t){return new xa(t)}function xa(t){if(!(n=ma.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function _a(t,n){var e=ga(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ba.prototype=xa.prototype,xa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var wa={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return _a(100*t,n)},r:_a,s:function(t,n){var e=ga(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ya=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ga(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Aa(t){return t}var Ma,ka=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ea(t){var n,u,c,w=t.grouping&&t.thousands?(u=t.grouping,c=t.thousands,function(t,n){for(var e=t.length,r=[],i=0,o=u[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}):Aa,r=t.currency,A=t.decimal,M=t.numerals?(n=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}):Aa,i=t.percent||"%";function a(t){var s=(t=ba(t)).fill,l=t.align,f=t.sign,n=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(p=!0,y="g"):wa[y]||(null==g&&(g=12),v=!0,y="g"),(h||"0"===s&&"="===l)&&(h=!0,s="0",l="=");var m="$"===n?r[0]:"#"===n&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===n?r[1]:/[%p]/.test(y)?i:"",x=wa[y],_=/[defgprs%]/.test(y);function e(t){var n,e,r,i=m,o=b;if("c"===y)o=x(t)+o,t="";else{var a=(t=+t)<0;if(t=x(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===y?ka[8+ya/3]:"")+o+(a&&"("===f?")":""),_)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?A+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,c=u<d?new Array(d-u+1).join(s):"";switch(p&&h&&(t=w(c+t,c.length?d-o.length:1/0),c=""),l){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return M(t)}return g=null==g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}return{format:a,formatPrefix:function(t,n){var e=a(((t=ba(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(va(n)/3))),i=Math.pow(10,-r),o=ka[8+r/3];return function(t){return e(i*t)+o}}}}function Sa(t){return Ma=Ea(t),U.format=Ma.format,U.formatPrefix=Ma.formatPrefix,Ma}function Ca(t){return Math.max(0,-va(Math.abs(t)))}function Ta(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(va(n)/3)))-va(Math.abs(t)))}function Na(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,va(n)-va(t))+1}function La(){return new Ra}function Ra(){this.reset()}Sa({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ra.prototype={constructor:Ra,reset:function(){this.s=this.t=0},add:function(t){Oa(Da,t,this.t),Oa(this,Da.s,this.s),this.s?this.t+=Da.t:this.s=Da.t},valueOf:function(){return this.s}};var Da=new Ra;function Oa(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Pa=1e-6,za=Math.PI,Fa=za/2,Ia=za/4,Ba=2*za,Ua=180/za,ja=za/180,qa=Math.abs,Ha=Math.atan,Ya=Math.atan2,Ga=Math.cos,Va=Math.ceil,Xa=Math.exp,Wa=Math.log,$a=Math.pow,Ka=Math.sin,Za=Math.sign||function(t){return 0<t?1:t<0?-1:0},Qa=Math.sqrt,Ja=Math.tan;function tu(t){return 1<t?0:t<-1?za:Math.acos(t)}function nu(t){return 1<t?Fa:t<-1?-Fa:Math.asin(t)}function eu(t){return(t=Ka(t/2))*t}function ru(){}function iu(t,n){t&&au.hasOwnProperty(t.type)&&au[t.type](t,n)}var ou={Feature:function(t,n){iu(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)iu(e[r].geometry,n)}},au={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){uu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)uu(e[r],n,0)},Polygon:function(t,n){cu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)cu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)iu(e[r],n)}};function uu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function cu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)uu(t[e],n,1);n.polygonEnd()}function su(t,n){t&&ou.hasOwnProperty(t.type)?ou[t.type](t,n):iu(t,n)}var lu,fu,hu,du,pu,gu=La(),vu=La(),yu={point:ru,lineStart:ru,lineEnd:ru,polygonStart:function(){gu.reset(),yu.lineStart=mu,yu.lineEnd=bu},polygonEnd:function(){var t=+gu;vu.add(t<0?Ba+t:t),this.lineStart=this.lineEnd=this.point=ru},sphere:function(){vu.add(Ba)}};function mu(){yu.point=xu}function bu(){_u(lu,fu)}function xu(t,n){yu.point=_u,lu=t,fu=n,hu=t*=ja,du=Ga(n=(n*=ja)/2+Ia),pu=Ka(n)}function _u(t,n){var e=(t*=ja)-hu,r=0<=e?1:-1,i=r*e,o=Ga(n=(n*=ja)/2+Ia),a=Ka(n),u=pu*a,c=du*o+u*Ga(i),s=u*r*Ka(i);gu.add(Ya(s,c)),hu=t,du=o,pu=a}function wu(t){return[Ya(t[1],t[0]),nu(t[2])]}function Au(t){var n=t[0],e=t[1],r=Ga(e);return[r*Ga(n),r*Ka(n),Ka(e)]}function Mu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ku(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Eu(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Su(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Cu(t){var n=Qa(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Tu,Nu,Lu,Ru,Du,Ou,Pu,zu,Fu,Iu,Bu,Uu,ju,qu,Hu,Yu,Gu,Vu,Xu,Wu,$u,Ku,Zu,Qu,Ju,tc,nc=La(),ec={point:rc,lineStart:oc,lineEnd:ac,polygonStart:function(){ec.point=uc,ec.lineStart=cc,ec.lineEnd=sc,nc.reset(),yu.polygonStart()},polygonEnd:function(){yu.polygonEnd(),ec.point=rc,ec.lineStart=oc,ec.lineEnd=ac,gu<0?(Tu=-(Lu=180),Nu=-(Ru=90)):Pa<nc?Ru=90:nc<-Pa&&(Nu=-90),Iu[0]=Tu,Iu[1]=Lu}};function rc(t,n){Fu.push(Iu=[Tu=t,Lu=t]),n<Nu&&(Nu=n),Ru<n&&(Ru=n)}function ic(t,n){var e=Au([t*ja,n*ja]);if(zu){var r=ku(zu,e),i=ku([r[1],-r[0],0],r);Cu(i),i=wu(i);var o,a=t-Du,u=0<a?1:-1,c=i[0]*Ua*u,s=180<qa(a);s^(u*Du<c&&c<u*t)?(o=i[1]*Ua,Ru<o&&(Ru=o)):s^(u*Du<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Ua)<Nu&&(Nu=o):(n<Nu&&(Nu=n),Ru<n&&(Ru=n)),s?t<Du?lc(Tu,t)>lc(Tu,Lu)&&(Lu=t):lc(t,Lu)>lc(Tu,Lu)&&(Tu=t):Tu<=Lu?(t<Tu&&(Tu=t),Lu<t&&(Lu=t)):Du<t?lc(Tu,t)>lc(Tu,Lu)&&(Lu=t):lc(t,Lu)>lc(Tu,Lu)&&(Tu=t)}else Fu.push(Iu=[Tu=t,Lu=t]);n<Nu&&(Nu=n),Ru<n&&(Ru=n),zu=e,Du=t}function oc(){ec.point=ic}function ac(){Iu[0]=Tu,Iu[1]=Lu,ec.point=rc,zu=null}function uc(t,n){if(zu){var e=t-Du;nc.add(180<qa(e)?e+(0<e?360:-360):e)}else Ou=t,Pu=n;yu.point(t,n),ic(t,n)}function cc(){yu.lineStart()}function sc(){uc(Ou,Pu),yu.lineEnd(),qa(nc)>Pa&&(Tu=-(Lu=180)),Iu[0]=Tu,Iu[1]=Lu,zu=null}function lc(t,n){return(n-=t)<0?n+360:n}function fc(t,n){return t[0]-n[0]}function hc(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var dc={sphere:ru,point:pc,lineStart:vc,lineEnd:bc,polygonStart:function(){dc.lineStart=xc,dc.lineEnd=_c},polygonEnd:function(){dc.lineStart=vc,dc.lineEnd=bc}};function pc(t,n){t*=ja;var e=Ga(n*=ja);gc(e*Ga(t),e*Ka(t),Ka(n))}function gc(t,n,e){ju+=(t-ju)/++Bu,qu+=(n-qu)/Bu,Hu+=(e-Hu)/Bu}function vc(){dc.point=yc}function yc(t,n){t*=ja;var e=Ga(n*=ja);Qu=e*Ga(t),Ju=e*Ka(t),tc=Ka(n),dc.point=mc,gc(Qu,Ju,tc)}function mc(t,n){t*=ja;var e=Ga(n*=ja),r=e*Ga(t),i=e*Ka(t),o=Ka(n),a=Ya(Qa((a=Ju*o-tc*i)*a+(a=tc*r-Qu*o)*a+(a=Qu*i-Ju*r)*a),Qu*r+Ju*i+tc*o);Uu+=a,Yu+=a*(Qu+(Qu=r)),Gu+=a*(Ju+(Ju=i)),Vu+=a*(tc+(tc=o)),gc(Qu,Ju,tc)}function bc(){dc.point=pc}function xc(){dc.point=wc}function _c(){Ac(Ku,Zu),dc.point=pc}function wc(t,n){Ku=t,Zu=n,t*=ja,n*=ja,dc.point=Ac;var e=Ga(n);Qu=e*Ga(t),Ju=e*Ka(t),tc=Ka(n),gc(Qu,Ju,tc)}function Ac(t,n){t*=ja;var e=Ga(n*=ja),r=e*Ga(t),i=e*Ka(t),o=Ka(n),a=Ju*o-tc*i,u=tc*r-Qu*o,c=Qu*i-Ju*r,s=Qa(a*a+u*u+c*c),l=nu(s),f=s&&-l/s;Xu+=f*a,Wu+=f*u,$u+=f*c,Uu+=l,Yu+=l*(Qu+(Qu=r)),Gu+=l*(Ju+(Ju=i)),Vu+=l*(tc+(tc=o)),gc(Qu,Ju,tc)}function Mc(t){return function(){return t}}function kc(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function Ec(t,n){return[za<t?t-Ba:t<-za?t+Ba:t,n]}function Sc(t,n,e){return(t%=Ba)?n||e?kc(Tc(t),Nc(n,e)):Tc(t):n||e?Nc(n,e):Ec}function Cc(e){return function(t,n){return[za<(t+=e)?t-Ba:t<-za?t+Ba:t,n]}}function Tc(t){var n=Cc(t);return n.invert=Cc(-t),n}function Nc(t,n){var u=Ga(t),c=Ka(t),s=Ga(n),l=Ka(n);function e(t,n){var e=Ga(n),r=Ga(t)*e,i=Ka(t)*e,o=Ka(n),a=o*u+r*c;return[Ya(i*s-a*l,r*u-o*c),nu(a*s+i*l)]}return e.invert=function(t,n){var e=Ga(n),r=Ga(t)*e,i=Ka(t)*e,o=Ka(n),a=o*s-i*l;return[Ya(i*s+o*l,r*u+a*c),nu(a*u-r*c)]},e}function Lc(n){function t(t){return(t=n(t[0]*ja,t[1]*ja))[0]*=Ua,t[1]*=Ua,t}return n=Sc(n[0]*ja,n[1]*ja,2<n.length?n[2]*ja:0),t.invert=function(t){return(t=n.invert(t[0]*ja,t[1]*ja))[0]*=Ua,t[1]*=Ua,t},t}function Rc(t,n,e,r,i,o){if(e){var a=Ga(n),u=Ka(n),c=r*e;null==i?(i=n+r*Ba,o=n-c/2):(i=Dc(a,i),o=Dc(a,o),(0<r?i<o:o<i)&&(i+=r*Ba));for(var s,l=i;0<r?o<l:l<o;l-=c)s=wu([a,-u*Ga(l),-u*Ka(l)]),t.point(s[0],s[1])}}function Dc(t,n){(n=Au(n))[0]-=t,Cu(n);var e=tu(-n[1]);return((-n[2]<0?-e:e)+Ba-Pa)%Ba}function Oc(){var e,n=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){n.push(e=[])},lineEnd:ru,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Pc(t,n){return qa(t[0]-n[0])<Pa&&qa(t[1]-n[1])<Pa}function zc(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Fc(t,n,e,r,o){var a,i,u=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],i=t[n];if(Pc(r,i)){for(o.lineStart(),a=0;a<n;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else u.push(e=new zc(r,t,null,!0)),c.push(e.o=new zc(r,null,e,!1)),u.push(e=new zc(i,t,null,!1)),c.push(e.o=new zc(i,null,e,!0))}}),u.length){for(c.sort(n),Ic(u),Ic(c),a=0,i=c.length;a<i;++a)c[a].e=e=!e;for(var s,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,i=s.length;a<i;++a)o.point((l=s[a])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(s=h.p.z,a=s.length-1;0<=a;--a)o.point((l=s[a])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);o.lineEnd()}}}function Ic(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Ec.invert=Ec;var Bc=La();function Uc(t,n){var e=n[0],r=n[1],i=Ka(r),o=[Ka(e),-Ga(e),0],a=0,u=0;Bc.reset(),1===i?r=Fa+Pa:-1===i&&(r=-Fa-Pa);for(var c=0,s=t.length;c<s;++c)if(f=(l=t[c]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+Ia,g=Ka(p),v=Ga(p),y=0;y<f;++y,d=b,g=_,v=w,h=m){var m=l[y],b=m[0],x=m[1]/2+Ia,_=Ka(x),w=Ga(x),A=b-d,M=0<=A?1:-1,k=M*A,E=za<k,S=g*_;if(Bc.add(Ya(S*M*Ka(k),v*w+S*Ga(k))),a+=E?A+M*Ba:A,E^e<=d^e<=b){var C=ku(Au(h),Au(m));Cu(C);var T=ku(o,C);Cu(T);var N=(E^0<=A?-1:1)*nu(T[2]);(N<r||r===N&&(C[0]||C[1]))&&(u+=E^0<=A?1:-1)}}return(a<-Pa||a<Pa&&Bc<-Pa)^1&u}function jc(v,y,m,b){return function(u){var c,s,l,e=y(u),f=Oc(),h=y(f),d=!1,n={point:r,lineStart:i,lineEnd:o,polygonStart:function(){n.point=p,n.lineStart=a,n.lineEnd=g,s=[],c=[]},polygonEnd:function(){n.point=r,n.lineStart=i,n.lineEnd=o,s=S(s);var t=Uc(c,b);s.length?(d||(u.polygonStart(),d=!0),Fc(s,Hc,t,m,u)):t&&(d||(u.polygonStart(),d=!0),u.lineStart(),m(null,null,1,u),u.lineEnd()),d&&(u.polygonEnd(),d=!1),s=c=null},sphere:function(){u.polygonStart(),u.lineStart(),m(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function r(t,n){v(t,n)&&u.point(t,n)}function t(t,n){e.point(t,n)}function i(){n.point=t,e.lineStart()}function o(){n.point=r,e.lineEnd()}function p(t,n){l.push([t,n]),h.point(t,n)}function a(){h.lineStart(),l=[]}function g(){p(l[0][0],l[0][1]),h.lineEnd();var t,n,e,r,i=h.clean(),o=f.result(),a=o.length;if(l.pop(),c.push(l),l=null,a)if(1&i){if(0<(n=(e=o[0]).length-1)){for(d||(u.polygonStart(),d=!0),u.lineStart(),t=0;t<n;++t)u.point((r=e[t])[0],r[1]);u.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),s.push(o.filter(qc))}return n}}function qc(t){return 1<t.length}function Hc(t,n){return((t=t.x)[0]<0?t[1]-Fa-Pa:Fa-t[1])-((n=n.x)[0]<0?n[1]-Fa-Pa:Fa-n[1])}var Yc=jc(function(){return!0},function(f){var h,d=NaN,p=NaN,g=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,n){var e,r,i,o,a,u,c,s=0<t?za:-za,l=qa(t-d);qa(l-za)<Pa?(f.point(d,p=0<(p+n)/2?Fa:-Fa),f.point(g,p),f.lineEnd(),f.lineStart(),f.point(s,p),f.point(t,p),h=0):g!==s&&za<=l&&(qa(d-g)<Pa&&(d-=g*Pa),qa(t-s)<Pa&&(t-=s*Pa),r=p,o=n,c=Ka((e=d)-(i=t)),p=qa(c)>Pa?Ha((Ka(r)*(u=Ga(o))*Ka(i)-Ka(o)*(a=Ga(r))*Ka(e))/(a*u*c)):(r+o)/2,f.point(g,p),f.lineEnd(),f.lineStart(),f.point(s,p),h=0),f.point(d=t,p=n),g=s},lineEnd:function(){f.lineEnd(),d=p=NaN},clean:function(){return 2-h}}},function(t,n,e,r){var i;if(null==t)i=e*Fa,r.point(-za,i),r.point(0,i),r.point(za,i),r.point(za,0),r.point(za,-i),r.point(0,-i),r.point(-za,-i),r.point(-za,0),r.point(-za,i);else if(qa(t[0]-n[0])>Pa){var o=t[0]<n[0]?za:-za;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-za,-Fa]);function Gc(i){var E=Ga(i),o=6*ja,d=0<E,p=qa(E)>Pa;function g(t,n){return Ga(t)*Ga(n)>E}function v(t,n,e){var r=[1,0,0],i=ku(Au(t),Au(n)),o=Mu(i,i),a=i[0],u=o-a*a;if(!u)return!e&&t;var c=E*o/u,s=-E*a/u,l=ku(r,i),f=Su(r,c);Eu(f,Su(i,s));var h=l,d=Mu(f,h),p=Mu(h,h),g=d*d-p*(Mu(f,f)-1);if(!(g<0)){var v=Qa(g),y=Su(h,(-d-v)/p);if(Eu(y,f),y=wu(y),!e)return y;var m,b=t[0],x=n[0],_=t[1],w=n[1];x<b&&(m=b,b=x,x=m);var A=x-b,M=qa(A-za)<Pa;if(!M&&w<_&&(m=_,_=w,w=m),M||A<Pa?M?0<_+w^y[1]<(qa(y[0]-b)<Pa?_:w):_<=y[1]&&y[1]<=w:za<A^(b<=y[0]&&y[0]<=x)){var k=Su(h,(-d+v)/p);return Eu(k,f),[y,wu(k)]}}}function y(t,n){var e=d?i:za-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}return jc(g,function(u){var c,s,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,n){var e,r=[t,n],i=g(t,n),o=d?i?0:y(t,n):i?y(t+(t<0?za:-za),n):0;if(!c&&(f=l=i)&&u.lineStart(),i!==l&&(!(e=v(c,r))||Pc(c,e)||Pc(r,e))&&(r[0]+=Pa,r[1]+=Pa,i=g(r[0],r[1])),i!==l)h=0,i?(u.lineStart(),e=v(r,c),u.point(e[0],e[1])):(e=v(c,r),u.point(e[0],e[1]),u.lineEnd()),c=e;else if(p&&c&&d^i){var a;o&s||!(a=v(r,c,!0))||(h=0,d?(u.lineStart(),u.point(a[0][0],a[0][1]),u.point(a[1][0],a[1][1]),u.lineEnd()):(u.point(a[1][0],a[1][1]),u.lineEnd(),u.lineStart(),u.point(a[0][0],a[0][1])))}!i||c&&Pc(c,r)||u.point(r[0],r[1]),c=r,l=i,s=o},lineEnd:function(){l&&u.lineEnd(),c=null},clean:function(){return h|(f&&l)<<1}}},function(t,n,e,r){Rc(r,i,o,e,t,n)},d?[0,-i]:[-za,i-za])}var Vc=1e9,Xc=-Vc;function Wc(y,m,b,x){function _(t,n){return y<=t&&t<=b&&m<=n&&n<=x}function w(t,n,e,r){var i=0,o=0;if(null==t||(i=a(t,e))!==(o=a(n,e))||u(t,n)<0^0<e)for(;r.point(0===i||3===i?y:b,1<i?x:m),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function a(t,n){return qa(t[0]-y)<Pa?0<n?0:3:qa(t[0]-b)<Pa?0<n?2:1:qa(t[1]-m)<Pa?0<n?1:0:0<n?3:2}function A(t,n){return u(t.x,n.x)}function u(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(r){var i,f,o,a,u,c,s,l,h,d,p,g=r,t=Oc(),n={point:e,lineStart:function(){n.point=v,f&&f.push(o=[]);d=!0,h=!1,s=l=NaN},lineEnd:function(){i&&(v(a,u),c&&h&&t.rejoin(),i.push(t.result()));n.point=e,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,e=f.length;n<e;++n)for(var r,i,o=f[n],a=1,u=o.length,c=o[0],s=c[0],l=c[1];a<u;++a)r=s,i=l,c=o[a],s=c[0],l=c[1],i<=x?x<l&&(l-i)*(y-r)<(s-r)*(x-i)&&++t:l<=x&&(s-r)*(x-i)<(l-i)*(y-r)&&--t;return t}(),n=p&&t,e=(i=S(i)).length;(n||e)&&(r.polygonStart(),n&&(r.lineStart(),w(null,null,1,r),r.lineEnd()),e&&Fc(i,A,t,w,r),r.polygonEnd());g=r,i=f=o=null}};function e(t,n){_(t,n)&&g.point(t,n)}function v(t,n){var e=_(t,n);if(f&&o.push([t,n]),d)a=t,u=n,d=!1,(c=e)&&(g.lineStart(),g.point(t,n));else if(e&&h)g.point(t,n);else{var r=[s=Math.max(Xc,Math.min(Vc,s)),l=Math.max(Xc,Math.min(Vc,l))],i=[t=Math.max(Xc,Math.min(Vc,t)),n=Math.max(Xc,Math.min(Vc,n))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],s=0,l=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(0<a)){if(a/=f,f<0){if(a<s)return;a<l&&(l=a)}else if(0<f){if(l<a)return;s<a&&(s=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(l<a)return;s<a&&(s=a)}else if(0<f){if(a<s)return;a<l&&(l=a)}if(a=r-c,h||!(0<a)){if(a/=h,h<0){if(a<s)return;a<l&&(l=a)}else if(0<h){if(l<a)return;s<a&&(s=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(l<a)return;s<a&&(s=a)}else if(0<h){if(a<s)return;a<l&&(l=a)}return 0<s&&(t[0]=u+s*f,t[1]=c+s*h),l<1&&(n[0]=u+l*f,n[1]=c+l*h),!0}}}}}(r,i,y,m,b,x)?e&&(g.lineStart(),g.point(t,n),p=!1):(h||(g.lineStart(),g.point(r[0],r[1])),g.point(i[0],i[1]),e||g.lineEnd(),p=!1)}s=t,l=n,h=e}return n}}var $c,Kc,Zc,Qc=La(),Jc={sphere:ru,point:ru,lineStart:function(){Jc.point=ns,Jc.lineEnd=ts},lineEnd:ru,polygonStart:ru,polygonEnd:ru};function ts(){Jc.point=Jc.lineEnd=ru}function ns(t,n){$c=t*=ja,Kc=Ka(n*=ja),Zc=Ga(n),Jc.point=es}function es(t,n){t*=ja;var e=Ka(n*=ja),r=Ga(n),i=qa(t-$c),o=Ga(i),a=r*Ka(i),u=Zc*e-Kc*r*o,c=Kc*e+Zc*r*o;Qc.add(Ya(Qa(a*a+u*u),c)),$c=t,Kc=e,Zc=r}function rs(t){return Qc.reset(),su(t,Jc),+Qc}var is=[null,null],os={type:"LineString",coordinates:is};function as(t,n){return is[0]=t,is[1]=n,rs(os)}var us={Feature:function(t,n){return ss(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ss(e[r].geometry,n))return!0;return!1}},cs={Sphere:function(){return!0},Point:function(t,n){return ls(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ls(e[r],n))return!0;return!1},LineString:function(t,n){return fs(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(fs(e[r],n))return!0;return!1},Polygon:function(t,n){return hs(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(hs(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ss(e[r],n))return!0;return!1}};function ss(t,n){return!(!t||!cs.hasOwnProperty(t.type))&&cs[t.type](t,n)}function ls(t,n){return 0===as(t,n)}function fs(t,n){var e=as(t[0],t[1]);return as(t[0],n)+as(n,t[1])<=e+Pa}function hs(t,n){return!!Uc(t.map(ds),ps(n))}function ds(t){return(t=t.map(ps)).pop(),t}function ps(t){return[t[0]*ja,t[1]*ja]}function gs(t,n,e){var r=k(t,n-Pa,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function vs(t,n,e){var r=k(t,n-Pa,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function ys(){var n,e,r,i,o,a,u,c,s,l,f,h,d=10,p=d,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return k(Va(i/g)*g,r,g).map(f).concat(k(Va(c/v)*v,u,v).map(h)).concat(k(Va(e/d)*d,n,d).filter(function(t){return qa(t%g)>Pa}).map(s)).concat(k(Va(a/p)*p,o,p).filter(function(t){return qa(t%v)>Pa}).map(l))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(r).reverse().slice(1),h(c).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],c=+t[0][1],u=+t[1][1],r<i&&(t=i,i=r,r=t),u<c&&(t=c,c=u,u=t),m.precision(y)):[[i,c],[r,u]]},m.extentMinor=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<e&&(t=e,e=n,n=t),o<a&&(t=a,a=o,o=t),m.precision(y)):[[e,a],[n,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],m):[g,v]},m.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(t){return arguments.length?(y=+t,s=gs(a,o,90),l=vs(e,n,y),f=gs(c,u,90),h=vs(i,r,y),m):y},m.extentMajor([[-180,-90+Pa],[180,90-Pa]]).extentMinor([[-180,-80-Pa],[180,80+Pa]])}function ms(t){return t}var bs,xs,_s,ws,As=La(),Ms=La(),ks={point:ru,lineStart:ru,lineEnd:ru,polygonStart:function(){ks.lineStart=Es,ks.lineEnd=Ts},polygonEnd:function(){ks.lineStart=ks.lineEnd=ks.point=ru,As.add(qa(Ms)),Ms.reset()},result:function(){var t=As/2;return As.reset(),t}};function Es(){ks.point=Ss}function Ss(t,n){ks.point=Cs,bs=_s=t,xs=ws=n}function Cs(t,n){Ms.add(ws*t-_s*n),_s=t,ws=n}function Ts(){Cs(bs,xs)}var Ns=1/0,Ls=Ns,Rs=-Ns,Ds=Rs,Os={point:function(t,n){t<Ns&&(Ns=t);Rs<t&&(Rs=t);n<Ls&&(Ls=n);Ds<n&&(Ds=n)},lineStart:ru,lineEnd:ru,polygonStart:ru,polygonEnd:ru,result:function(){var t=[[Ns,Ls],[Rs,Ds]];return Rs=Ds=-(Ls=Ns=1/0),t}};var Ps,zs,Fs,Is,Bs=0,Us=0,js=0,qs=0,Hs=0,Ys=0,Gs=0,Vs=0,Xs=0,Ws={point:$s,lineStart:Ks,lineEnd:Js,polygonStart:function(){Ws.lineStart=tl,Ws.lineEnd=nl},polygonEnd:function(){Ws.point=$s,Ws.lineStart=Ks,Ws.lineEnd=Js},result:function(){var t=Xs?[Gs/Xs,Vs/Xs]:Ys?[qs/Ys,Hs/Ys]:js?[Bs/js,Us/js]:[NaN,NaN];return Bs=Us=js=qs=Hs=Ys=Gs=Vs=Xs=0,t}};function $s(t,n){Bs+=t,Us+=n,++js}function Ks(){Ws.point=Zs}function Zs(t,n){Ws.point=Qs,$s(Fs=t,Is=n)}function Qs(t,n){var e=t-Fs,r=n-Is,i=Qa(e*e+r*r);qs+=i*(Fs+t)/2,Hs+=i*(Is+n)/2,Ys+=i,$s(Fs=t,Is=n)}function Js(){Ws.point=$s}function tl(){Ws.point=el}function nl(){rl(Ps,zs)}function el(t,n){Ws.point=rl,$s(Ps=Fs=t,zs=Is=n)}function rl(t,n){var e=t-Fs,r=n-Is,i=Qa(e*e+r*r);qs+=i*(Fs+t)/2,Hs+=i*(Is+n)/2,Ys+=i,Gs+=(i=Is*t-Fs*n)*(Fs+t),Vs+=i*(Is+n),Xs+=3*i,$s(Fs=t,Is=n)}function il(t){this._context=t}il.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ba)}},result:ru};var ol,al,ul,cl,sl,ll=La(),fl={point:ru,lineStart:function(){fl.point=hl},lineEnd:function(){ol&&dl(al,ul),fl.point=ru},polygonStart:function(){ol=!0},polygonEnd:function(){ol=null},result:function(){var t=+ll;return ll.reset(),t}};function hl(t,n){fl.point=dl,al=cl=t,ul=sl=n}function dl(t,n){cl-=t,sl-=n,ll.add(Qa(cl*cl+sl*sl)),cl=t,sl=n}function pl(){this._string=[]}function gl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function vl(r){return function(t){var n=new yl;for(var e in r)n[e]=r[e];return n.stream=t,n}}function yl(){}function ml(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),su(e,t.stream(Os)),n(Os.result()),null!=r&&t.clipExtent(r),t}function bl(a,u,t){return ml(a,function(t){var n=u[1][0]-u[0][0],e=u[1][1]-u[0][1],r=Math.min(n/(t[1][0]-t[0][0]),e/(t[1][1]-t[0][1])),i=+u[0][0]+(n-r*(t[1][0]+t[0][0]))/2,o=+u[0][1]+(e-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function xl(t,n,e){return bl(t,[[0,0],n],e)}function _l(o,a,t){return ml(o,function(t){var n=+a,e=n/(t[1][0]-t[0][0]),r=(n-e*(t[1][0]+t[0][0]))/2,i=-e*t[0][1];o.scale(150*e).translate([r,i])},t)}function wl(o,a,t){return ml(o,function(t){var n=+a,e=n/(t[1][1]-t[0][1]),r=-e*t[0][0],i=(n-e*(t[1][1]+t[0][1]))/2;o.scale(150*e).translate([r,i])},t)}pl.prototype={_radius:4.5,_circle:gl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=gl(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},yl.prototype={constructor:yl,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Al=16,Ml=Ga(30*ja);function kl(t,n){return+n?function(T,N){function L(t,n,e,r,i,o,a,u,c,s,l,f,h,d){var p=a-t,g=u-n,v=p*p+g*g;if(4*N<v&&h--){var y=r+s,m=i+l,b=o+f,x=Qa(y*y+m*m+b*b),_=nu(b/=x),w=qa(qa(b)-1)<Pa||qa(e-c)<Pa?(e+c)/2:Ya(m,y),A=T(w,_),M=A[0],k=A[1],E=M-t,S=k-n,C=g*E-p*S;(N<C*C/v||.3<qa((p*E+g*S)/v-.5)||r*s+i*l+o*f<Ml)&&(L(t,n,e,r,i,o,M,k,w,y/=x,m/=x,b,h,d),d.point(M,k),L(M,k,w,y,m,b,a,u,c,s,l,f,h,d))}}return function(i){var e,r,o,a,u,c,s,l,f,h,d,p,g={point:t,lineStart:n,lineEnd:y,polygonStart:function(){i.polygonStart(),g.lineStart=m},polygonEnd:function(){i.polygonEnd(),g.lineStart=n}};function t(t,n){t=T(t,n),i.point(t[0],t[1])}function n(){l=NaN,g.point=v,i.lineStart()}function v(t,n){var e=Au([t,n]),r=T(t,n);L(l,f,s,h,d,p,l=r[0],f=r[1],s=t,h=e[0],d=e[1],p=e[2],Al,i),i.point(l,f)}function y(){g.point=t,i.lineEnd()}function m(){n(),g.point=b,g.lineEnd=x}function b(t,n){v(e=t,n),r=l,o=f,a=h,u=d,c=p,g.point=v}function x(){L(l,f,s,h,d,p,r,o,e,a,u,c,Al,i),(g.lineEnd=y)()}return g}}(t,n):(e=t,vl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}}));var e}var El=vl({point:function(t,n){this.stream.point(t*ja,n*ja)}});function Sl(t,e,r,n){var i=Ga(n),o=Ka(n),a=i*t,u=o*t,c=i/t,s=o/t,l=(o*r-i*e)/t,f=(o*e+i*r)/t;function h(t,n){return[a*t-u*n+e,r-u*t-a*n]}return h.invert=function(t,n){return[c*t-s*n+l,f-s*t-c*n]},h}function Cl(t){return Tl(function(){return t})()}function Tl(t){var e,i,n,r,o,a,u,c,s,l,f=150,h=480,d=250,p=0,g=0,v=0,y=0,m=0,b=0,x=null,_=Yc,w=null,A=ms,M=.5;function k(t){return c(t[0]*ja,t[1]*ja)}function E(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Ua,t[1]*Ua]}function S(){var t=Sl(f,0,0,b).apply(null,e(p,g)),n=(b?Sl:function(e,r,i){function t(t,n){return[r+e*t,i-e*n]}return t.invert=function(t,n){return[(t-r)/e,(i-n)/e]},t})(f,h-t[0],d-t[1],b);return i=Sc(v,y,m),u=kc(e,n),c=kc(i,u),a=kl(u,M),C()}function C(){return s=l=null,k}return k.stream=function(t){return s&&l===t?s:s=El((r=i,vl({point:function(t,n){var e=r(t,n);return this.stream.point(e[0],e[1])}})(_(a(A(l=t))))));var r},k.preclip=function(t){return arguments.length?(_=t,x=void 0,C()):_},k.postclip=function(t){return arguments.length?(A=t,w=n=r=o=null,C()):A},k.clipAngle=function(t){return arguments.length?(_=+t?Gc(x=t*ja):(x=null,Yc),C()):x*Ua},k.clipExtent=function(t){return arguments.length?(A=null==t?(w=n=r=o=null,ms):Wc(w=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),C()):null==w?null:[[w,n],[r,o]]},k.scale=function(t){return arguments.length?(f=+t,S()):f},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*ja,g=t[1]%360*ja,S()):[p*Ua,g*Ua]},k.rotate=function(t){return arguments.length?(v=t[0]%360*ja,y=t[1]%360*ja,m=2<t.length?t[2]%360*ja:0,S()):[v*Ua,y*Ua,m*Ua]},k.angle=function(t){return arguments.length?(b=t%360*ja,S()):b*Ua},k.precision=function(t){return arguments.length?(a=kl(u,M=t*t),C()):Qa(M)},k.fitExtent=function(t,n){return bl(k,t,n)},k.fitSize=function(t,n){return xl(k,t,n)},k.fitWidth=function(t,n){return _l(k,t,n)},k.fitHeight=function(t,n){return wl(k,t,n)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&E,S()}}function Nl(t){var n=0,e=za/3,r=Tl(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*ja,e=t[1]*ja):[n*Ua,e*Ua]},i}function Ll(t,n){var e=Ka(t),r=(e+Ka(n))/2;if(qa(r)<Pa)return function(t){var e=Ga(t);function n(t,n){return[t*e,Ka(n)/e]}return n.invert=function(t,n){return[t/e,nu(n*e)]},n}(t);var i=1+e*(2*r-e),o=Qa(i)/r;function a(t,n){var e=Qa(i-2*r*Ka(n))/r;return[e*Ka(t*=r),o-e*Ga(t)]}return a.invert=function(t,n){var e=o-n;return[Ya(t,qa(e))/r*Za(e),nu((i-(t*t+e*e)*r*r)/(2*r))]},a}function Rl(){return Nl(Ll).scale(155.424).center([0,33.6442])}function Dl(){return Rl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ol(o){return function(t,n){var e=Ga(t),r=Ga(n),i=o(e*r);return[i*r*Ka(t),i*Ka(n)]}}function Pl(a){return function(t,n){var e=Qa(t*t+n*n),r=a(e),i=Ka(r),o=Ga(r);return[Ya(t*i,e*o),nu(e&&n*i/e)]}}var zl=Ol(function(t){return Qa(2/(1+t))});zl.invert=Pl(function(t){return 2*nu(t/2)});var Fl=Ol(function(t){return(t=tu(t))&&t/Ka(t)});function Il(t,n){return[t,Wa(Ja((Fa+n)/2))]}function Bl(e){var r,i,o,a=Cl(e),n=a.center,u=a.scale,c=a.translate,s=a.clipExtent,l=null;function f(){var t=za*u(),n=a(Lc(a.rotate()).invert([0,0]));return s(null==l?[[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]]:e===Il?[[Math.max(n[0]-t,l),r],[Math.min(n[0]+t,i),o]]:[[l,Math.max(n[1]-t,r)],[i,Math.min(n[1]+t,o)]])}return a.scale=function(t){return arguments.length?(u(t),f()):u()},a.translate=function(t){return arguments.length?(c(t),f()):c()},a.center=function(t){return arguments.length?(n(t),f()):n()},a.clipExtent=function(t){return arguments.length?(null==t?l=r=i=o=null:(l=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==l?null:[[l,r],[i,o]]},f()}function Ul(t){return Ja((Fa+t)/2)}function jl(t,n){var e=Ga(t),i=t===n?Ka(t):Wa(e/Ga(n))/Wa(Ul(n)/Ul(t)),o=e*$a(Ul(t),i)/i;if(!i)return Il;function r(t,n){0<o?n<-Fa+Pa&&(n=-Fa+Pa):Fa-Pa<n&&(n=Fa-Pa);var e=o/$a(Ul(n),i);return[e*Ka(i*t),o-e*Ga(i*t)]}return r.invert=function(t,n){var e=o-n,r=Za(i)*Qa(t*t+e*e);return[Ya(t,qa(e))/i*Za(e),2*Ha($a(o/r,1/i))-Fa]},r}function ql(t,n){return[t,n]}function Hl(t,n){var e=Ga(t),i=t===n?Ka(t):(e-Ga(n))/(n-t),o=e/i+t;if(qa(i)<Pa)return ql;function r(t,n){var e=o-n,r=i*t;return[e*Ka(r),o-e*Ga(r)]}return r.invert=function(t,n){var e=o-n;return[Ya(t,qa(e))/i*Za(e),o-Za(i)*Qa(t*t+e*e)]},r}function Yl(t,n){var e=Ga(n),r=Ga(t)*e;return[e*Ka(t)/r,Ka(n)/r]}function Gl(e,r,i,o){return 1===e&&1===r&&0===i&&0===o?ms:vl({point:function(t,n){this.stream.point(t*e+i,n*r+o)}})}function Vl(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Xl(t,n){return[Ga(n)*Ka(t),Ka(n)]}function Wl(t,n){var e=Ga(n),r=1+Ga(t)*e;return[e*Ka(t)/r,Ka(n)/r]}function $l(t,n){return[Wa(Ja((Fa+n)/2)),-t]}function Kl(t,n){return t.parent===n.parent?1:2}function Zl(t,n){return t+n.x}function Ql(t,n){return Math.max(t,n.y)}function Jl(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;0<=--r;)n+=e[r].value;else n=1;t.value=n}function tf(t,n){var e,r,i,o,a,u=new of(t),c=+t.value&&(u.value=t.value),s=[u];for(null==n&&(n=nf);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;0<=o;--o)s.push(r=e.children[o]=new of(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(rf)}function nf(t){return t.children}function ef(t){t.data=t.data.data}function rf(t){for(var n=0;t.height=n,(t=t.parent)&&t.height<++n;);}function of(t){this.data=t,this.depth=this.height=0,this.parent=null}Fl.invert=Pl(function(t){return t}),Il.invert=function(t,n){return[t,2*Ha(Xa(n))-Fa]},ql.invert=ql,Yl.invert=Pl(Ha),Vl.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(qa(e)>Pa&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Xl.invert=Pl(nu),Wl.invert=Pl(function(t){return 2*Ha(t)}),$l.invert=function(t,n){return[-n,2*Ha(Xa(t))-Fa]},of.prototype=tf.prototype={constructor:of,count:function(){return this.eachAfter(Jl)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;0<=e;--e)i.push(n[e]);return this},sum:function(i){return this.eachAfter(function(t){for(var n=+i(t.data)||0,e=t.children,r=e&&e.length;0<=--r;)n+=e[r].value;t.value=n})},sort:function(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var n=[];return this.each(function(t){n.push(t)}),n},leaves:function(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n},links:function(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function(){return tf(this).eachBefore(ef)}};var af=Array.prototype.slice;function uf(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(af.call(t))).length,o=[];r<i;)n=t[r],e&&lf(e,n)?++r:(e=hf(o=cf(o,n)),r=0);return e}function cf(t,n){var e,r;if(ff(n,t))return[n];for(e=0;e<t.length;++e)if(sf(n,t[e])&&ff(df(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(sf(df(t[e],t[r]),n)&&sf(df(t[e],n),t[r])&&sf(df(t[r],n),t[e])&&ff(pf(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function sf(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function lf(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return 0<e&&r*r+i*i<e*e}function ff(t,n){for(var e=0;e<n.length;++e)if(!lf(t,n[e]))return!1;return!0}function hf(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return df(t[0],t[1]);case 3:return pf(t[0],t[1],t[2])}var n}function df(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,c=o-e,s=a-r,l=u-i,f=Math.sqrt(c*c+s*s);return{x:(e+o+c/f*l)/2,y:(r+a+s/f*l)/2,r:(f+i+u)/2}}function pf(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,c=n.r,s=e.x,l=e.y,f=e.r,h=r-a,d=r-s,p=i-u,g=i-l,v=c-o,y=f-o,m=r*r+i*i-o*o,b=m-a*a-u*u+c*c,x=m-s*s-l*l+f*f,_=d*p-h*g,w=(p*x-g*b)/(2*_)-r,A=(g*v-p*y)/_,M=(d*b-h*x)/(2*_)-i,k=(h*y-d*v)/_,E=A*A+k*k-1,S=2*(o+w*A+M*k),C=w*w+M*M-o*o,T=-(E?(S+Math.sqrt(S*S-4*E*C))/(2*E):C/S);return{x:r+w+A*T,y:i+M+k*T,r:T}}function gf(t,n,e){var r,i,o,a,u=t.x-n.x,c=t.y-n.y,s=u*u+c*c;s?(i=n.r+e.r,i*=i,a=t.r+e.r,(a*=a)<i?(r=(s+a-i)/(2*s),o=Math.sqrt(Math.max(0,a/s-r*r)),e.x=t.x-r*u-o*c,e.y=t.y-r*c+o*u):(r=(s+i-a)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),e.x=n.x+r*u-o*c,e.y=n.y+r*c+o*u)):(e.x=n.x+e.r,e.y=n.y)}function vf(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return 0<e&&r*r+i*i<e*e}function yf(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function mf(t){this._=t,this.next=null,this.previous=null}function bf(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,c,s,l,f;if((n=t[0]).x=0,n.y=0,!(1<i))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(2<i))return n.r+e.r;gf(e,n,r=t[2]),n=new mf(n),e=new mf(e),r=new mf(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){gf(n._,e._,r=t[u]),r=new mf(r),c=e.next,s=n.previous,l=e._.r,f=n._.r;do{if(l<=f){if(vf(c._,r._)){e=c,(n.next=e).previous=n,--u;continue t}l+=c._.r,c=c.next}else{if(vf(s._,r._)){((n=s).next=e).previous=n,--u;continue t}f+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=yf(n);(r=r.next)!==e;)(a=yf(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=uf(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function xf(t){if("function"!=typeof t)throw new Error;return t}function _f(){return 0}function wf(t){return function(){return t}}function Af(t){return Math.sqrt(t.value)}function Mf(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function kf(a,u){return function(t){if(n=t.children){var n,e,r,i=n.length,o=a(t)*u||0;if(o)for(e=0;e<i;++e)n[e].r+=o;if(r=bf(n),o)for(e=0;e<i;++e)n[e].r-=o;t.r=r+o}}}function Ef(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Sf(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Cf(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(r-n)/t.value;++u<c;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}var Tf={depth:-1},Nf={};function Lf(t){return t.id}function Rf(t){return t.parentId}function Df(t,n){return t.parent===n.parent?1:2}function Of(t){var n=t.children;return n?n[0]:t.t}function Pf(t){var n=t.children;return n?n[n.length-1]:t.t}function zf(t,n){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Ff(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(i-e)/t.value;++u<c;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}zf.prototype=Object.create(of.prototype);var If=(1+Math.sqrt(5))/2;function Bf(t,n,e,r,i,o){for(var a,u,c,s,l,f,h,d,p,g,v,y=[],m=n.children,b=0,x=0,_=m.length,w=n.value;b<_;){for(c=i-e,s=o-r;!(l=m[x++].value)&&x<_;);for(f=h=l,v=l*l*(g=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/v,v/f);x<_;++x){if(l+=u=m[x].value,u<f&&(f=u),h<u&&(h=u),v=l*l*g,p<(d=Math.max(h/v,v/f))){l-=u;break}p=d}y.push(a={value:l,dice:c<s,children:m.slice(b,x)}),a.dice?Cf(a,e,r,i,w?r+=s*l/w:o):Ff(a,e,r,w?e+=c*l/w:i,o),w-=l,b=x}return y}var Uf=function n(o){function t(t,n,e,r,i){Bf(o,t,n,e,r,i)}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t}(If);var jf=function n(d){function t(t,n,e,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,u,c,s,l=-1,f=o.length,h=t.value;++l<f;){for(u=(a=o[l]).children,c=a.value=0,s=u.length;c<s;++c)a.value+=u[c].value;a.dice?Cf(a,n,e,r,e+=(i-e)*a.value/h):Ff(a,n,e,n+=(r-n)*a.value/h,i),h-=a.value}else t._squarify=o=Bf(d,t,n,e,r,i),o.ratio=d}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t}(If);function qf(t,n){return t[0]-n[0]||t[1]-n[1]}function Hf(t){for(var n,e,r,i=t.length,o=[0,1],a=2,u=2;u<i;++u){for(;1<a&&(n=t[o[a-2]],e=t[o[a-1]],r=t[u],(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])<=0);)--a;o[a++]=u}return o.slice(0,a)}function Yf(){return Math.random()}var Gf=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Yf),Vf=function t(o){function n(n,e){var r,i;return n=null==n?0:+n,e=null==e?1:+e,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,!(i=r*r+t*t)||1<i;);return n+e*t*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Yf),Xf=function t(n){function e(){var t=Vf.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Yf),Wf=function t(r){function n(e){return function(){for(var t=0,n=0;n<e;++n)t+=r();return t}}return n.source=t,n}(Yf),$f=function t(e){function n(t){var n=Wf.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Yf),Kf=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Yf),Zf=Array.prototype,Qf=Zf.map,Jf=Zf.slice,th={name:"implicit"};function nh(r){var o=eo(),a=[],i=th;function u(t){var n=t+"",e=o.get(n);if(!e){if(i!==th)return i;o.set(n,e=a.push(t))}return r[(e-1)%r.length]}return r=null==r?[]:Jf.call(r),u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=eo();for(var n,e,r=-1,i=t.length;++r<i;)o.has(e=(n=t[r])+"")||o.set(e,a.push(n));return u},u.range=function(t){return arguments.length?(r=Jf.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return nh().domain(a).range(r).unknown(i)},u}function eh(){var o,a,t=nh().unknown(void 0),u=t.domain,c=t.range,s=[0,1],l=!1,f=0,h=0,d=.5;function n(){var t=u().length,n=s[1]<s[0],e=s[n-0],r=s[1-n];o=(r-e)/Math.max(1,t-f+2*h),l&&(o=Math.floor(o)),e+=(r-e-o*(t-f))*d,a=o*(1-f),l&&(e=Math.round(e),a=Math.round(a));var i=k(t).map(function(t){return e+o*t});return c(n?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(u(t),n()):u()},t.range=function(t){return arguments.length?(s=[+t[0],+t[1]],n()):s.slice()},t.rangeRound=function(t){return s=[+t[0],+t[1]],l=!0,n()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(l=!!t,n()):l},t.padding=function(t){return arguments.length?(f=h=Math.max(0,Math.min(1,t)),n()):f},t.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),n()):f},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),n()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),n()):d},t.copy=function(){return eh().domain(u()).range(s).round(l).paddingInner(f).paddingOuter(h).align(d)},n()}function rh(t){return function(){return t}}function ih(t){return+t}var oh=[0,1];function ah(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:rh(e)}function uh(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function ch(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=n(e[u],e[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var n=g(e,t,1,i)-1;return a[n](o[n](t))}}function sh(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function lh(n,e){var r,o,a,u=oh,c=oh,s=xe,l=!1;function i(){return r=2<Math.min(u.length,c.length)?ch:uh,o=a=null,t}function t(t){return(o||(o=r(u,c,l?(i=n,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=n?0:e<=t?1:r(t)}}):n,s)))(+t);var i}return t.invert=function(t){return(a||(a=r(c,u,ah,l?(i=e,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=0?n:1<=t?e:r(t)}}):e)))(+t);var i},t.domain=function(t){return arguments.length?(u=Qf.call(t,ih),i()):u.slice()},t.range=function(t){return arguments.length?(c=Jf.call(t),i()):c.slice()},t.rangeRound=function(t){return c=Jf.call(t),s=_e,i()},t.clamp=function(t){return arguments.length?(l=!!t,i()):l},t.interpolate=function(t){return arguments.length?(s=t,i()):s},i()}function fh(u){var c=u.domain;return u.ticks=function(t){var n=c();return y(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(t,n){return function(t,n,e){var r,i=t[0],o=t[t.length-1],a=E(i,o,null==n?10:n);switch((e=ba(null==e?",f":e)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=e.precision||isNaN(r=Ta(a,u))||(e.precision=r),U.formatPrefix(e,u);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=Na(a,Math.max(Math.abs(i),Math.abs(o))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=Ca(a))||(e.precision=r-2*("%"===e.type))}return U.format(e)}(c(),t,n)},u.nice=function(t){null==t&&(t=10);var n,e=c(),r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=o,o=a,a=n,n=r,r=i,i=n),0<(n=m(o,a,t))?n=m(o=Math.floor(o/n)*n,a=Math.ceil(a/n)*n,t):n<0&&(n=m(o=Math.ceil(o*n)/n,a=Math.floor(a*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(a/n)*n,c(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(a*n)/n,c(e)),u},u}function hh(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function dh(n,e){return(e=Math.log(e/n))?function(t){return Math.log(t/n)/e}:rh(e)}function ph(n,e){return n<0?function(t){return-Math.pow(-e,t)*Math.pow(-n,1-t)}:function(t){return Math.pow(e,t)*Math.pow(n,1-t)}}function gh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vh(n){return 10===n?gh:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}function yh(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}function mh(n){return function(t){return-n(-t)}}function bh(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function xh(){var r=1,t=lh(function(n,e){return(e=bh(e,r)-(n=bh(n,r)))?function(t){return(bh(t,r)-n)/e}:rh(e)},function(n,e){return e=bh(e,r)-(n=bh(n,r)),function(t){return bh(n+e*t,1/r)}}),n=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,n(n())):r},t.copy=function(){return sh(t,xh().exponent(r))},fh(t)}var _h=new Date,wh=new Date;function Ah(o,a,e,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,n){return a(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(t,n,e){var r,i=[];if(t=u.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),a(t,e),o(t),r<t&&t<n;);return i},u.filter=function(e){return Ah(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;0<=--n;)for(;a(t,1),!e(t););})},e&&(u.count=function(t,n){return _h.setTime(+t),wh.setTime(+n),o(_h),o(wh),Math.floor(e(_h,wh))},u.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u.filter(r?function(t){return r(t)%n==0}:function(t){return u.count(0,t)%n==0}):u:null}),u}var Mh=Ah(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Mh.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?Ah(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Mh:null};var kh=Mh.range,Eh=6e4,Sh=36e5,Ch=Ah(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Th=Ch.range,Nh=Ah(function(t){t.setTime(Math.floor(t/Eh)*Eh)},function(t,n){t.setTime(+t+n*Eh)},function(t,n){return(n-t)/Eh},function(t){return t.getMinutes()}),Lh=Nh.range,Rh=Ah(function(t){var n=t.getTimezoneOffset()*Eh%Sh;n<0&&(n+=Sh),t.setTime(Math.floor((+t-n)/Sh)*Sh+n)},function(t,n){t.setTime(+t+n*Sh)},function(t,n){return(n-t)/Sh},function(t){return t.getHours()}),Dh=Rh.range,Oh=Ah(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Eh)/864e5},function(t){return t.getDate()-1}),Ph=Oh.range;function zh(n){return Ah(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Eh)/6048e5})}var Fh=zh(0),Ih=zh(1),Bh=zh(2),Uh=zh(3),jh=zh(4),qh=zh(5),Hh=zh(6),Yh=Fh.range,Gh=Ih.range,Vh=Bh.range,Xh=Uh.range,Wh=jh.range,$h=qh.range,Kh=Hh.range,Zh=Ah(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Qh=Zh.range,Jh=Ah(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Jh.every=function(e){return isFinite(e=Math.floor(e))&&0<e?Ah(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var td=Jh.range,nd=Ah(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Eh)},function(t,n){return(n-t)/Eh},function(t){return t.getUTCMinutes()}),ed=nd.range,rd=Ah(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Sh)},function(t,n){return(n-t)/Sh},function(t){return t.getUTCHours()}),id=rd.range,od=Ah(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),ad=od.range;function ud(n){return Ah(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var cd=ud(0),sd=ud(1),ld=ud(2),fd=ud(3),hd=ud(4),dd=ud(5),pd=ud(6),gd=cd.range,vd=sd.range,yd=ld.range,md=fd.range,bd=hd.range,xd=dd.range,_d=pd.range,wd=Ah(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ad=wd.range,Md=Ah(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Md.every=function(e){return isFinite(e=Math.floor(e))&&0<e?Ah(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var kd=Md.range;function Ed(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sd(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cd(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Td(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=Fd(n),l=Id(n),f=Fd(e),h=Id(e),d=Fd(a),p=Id(a),g=Fd(u),v=Id(u),y=Fd(c),m=Id(c),b={a:function(t){return a[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:ip,e:ip,f:sp,H:op,I:ap,j:up,L:cp,m:lp,M:fp,p:function(t){return n[+(12<=t.getHours())]},Q:Bp,s:Up,S:hp,u:dp,U:pp,V:gp,w:vp,W:yp,x:null,X:null,y:mp,Y:bp,Z:xp,"%":Ip},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:_p,e:_p,f:Ep,H:wp,I:Ap,j:Mp,L:kp,m:Sp,M:Cp,p:function(t){return n[+(12<=t.getUTCHours())]},Q:Bp,s:Up,S:Tp,u:Np,U:Lp,V:Rp,w:Dp,W:Op,x:null,X:null,y:Pp,Y:zp,Z:Fp,"%":Ip},_={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return M(t,r,n,e)},d:Wd,e:Wd,f:tp,H:Kd,I:Kd,j:$d,L:Jd,m:Xd,M:Zd,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:ep,s:rp,S:Qd,u:Ud,U:jd,V:qd,w:Bd,W:Hd,x:function(t,n,e){return M(t,i,n,e)},X:function(t,n,e){return M(t,o,n,e)},y:Gd,Y:Yd,Z:Vd,"%":np};function w(c,s){return function(t){var n,e,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(e=Ld[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=s[n])&&(n=r(t,e)),i.push(n),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function A(i,o){return function(t){var n,e,r=Cd(1900);if(M(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(n=4<(e=(n=Sd(Cd(r.y))).getUTCDay())||0===e?sd.ceil(n):sd(n),n=od.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),r.d=n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(Cd(r.y))).getDay())||0===e?Ih.ceil(n):Ih(n),n=Oh.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),r.d=n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Sd(Cd(r.y)).getUTCDay():o(Cd(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Sd(r)):o(r)}}function M(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(c<=r)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in Ld?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),x.x=w(i,x),x.X=w(o,x),x.c=w(r,x),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",Ed);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,Sd);return n.toString=function(){return t},n}}}var Nd,Ld={"-":"",_:" ",0:"0"},Rd=/^\s*\d+/,Dd=/^%/,Od=/[\\^$*+?|[\]().{}]/g;function Pd(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function zd(t){return t.replace(Od,"\\$&")}function Fd(t){return new RegExp("^(?:"+t.map(zd).join("|")+")","i")}function Id(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Bd(t,n,e){var r=Rd.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ud(t,n,e){var r=Rd.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function jd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function qd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Hd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Yd(t,n,e){var r=Rd.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Gd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function Vd(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Xd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Wd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function $d(t,n,e){var r=Rd.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Kd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Zd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Qd(t,n,e){var r=Rd.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Jd(t,n,e){var r=Rd.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function tp(t,n,e){var r=Rd.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function np(t,n,e){var r=Dd.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ep(t,n,e){var r=Rd.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function rp(t,n,e){var r=Rd.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ip(t,n){return Pd(t.getDate(),n,2)}function op(t,n){return Pd(t.getHours(),n,2)}function ap(t,n){return Pd(t.getHours()%12||12,n,2)}function up(t,n){return Pd(1+Oh.count(Jh(t),t),n,3)}function cp(t,n){return Pd(t.getMilliseconds(),n,3)}function sp(t,n){return cp(t,n)+"000"}function lp(t,n){return Pd(t.getMonth()+1,n,2)}function fp(t,n){return Pd(t.getMinutes(),n,2)}function hp(t,n){return Pd(t.getSeconds(),n,2)}function dp(t){var n=t.getDay();return 0===n?7:n}function pp(t,n){return Pd(Fh.count(Jh(t),t),n,2)}function gp(t,n){var e=t.getDay();return t=4<=e||0===e?jh(t):jh.ceil(t),Pd(jh.count(Jh(t),t)+(4===Jh(t).getDay()),n,2)}function vp(t){return t.getDay()}function yp(t,n){return Pd(Ih.count(Jh(t),t),n,2)}function mp(t,n){return Pd(t.getFullYear()%100,n,2)}function bp(t,n){return Pd(t.getFullYear()%1e4,n,4)}function xp(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Pd(n/60|0,"0",2)+Pd(n%60,"0",2)}function _p(t,n){return Pd(t.getUTCDate(),n,2)}function wp(t,n){return Pd(t.getUTCHours(),n,2)}function Ap(t,n){return Pd(t.getUTCHours()%12||12,n,2)}function Mp(t,n){return Pd(1+od.count(Md(t),t),n,3)}function kp(t,n){return Pd(t.getUTCMilliseconds(),n,3)}function Ep(t,n){return kp(t,n)+"000"}function Sp(t,n){return Pd(t.getUTCMonth()+1,n,2)}function Cp(t,n){return Pd(t.getUTCMinutes(),n,2)}function Tp(t,n){return Pd(t.getUTCSeconds(),n,2)}function Np(t){var n=t.getUTCDay();return 0===n?7:n}function Lp(t,n){return Pd(cd.count(Md(t),t),n,2)}function Rp(t,n){var e=t.getUTCDay();return t=4<=e||0===e?hd(t):hd.ceil(t),Pd(hd.count(Md(t),t)+(4===Md(t).getUTCDay()),n,2)}function Dp(t){return t.getUTCDay()}function Op(t,n){return Pd(sd.count(Md(t),t),n,2)}function Pp(t,n){return Pd(t.getUTCFullYear()%100,n,2)}function zp(t,n){return Pd(t.getUTCFullYear()%1e4,n,4)}function Fp(){return"+0000"}function Ip(){return"%"}function Bp(t){return+t}function Up(t){return Math.floor(+t/1e3)}function jp(t){return Nd=Td(t),U.timeFormat=Nd.format,U.timeParse=Nd.parse,U.utcFormat=Nd.utcFormat,U.utcParse=Nd.utcParse,Nd}jp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var qp="%Y-%m-%dT%H:%M:%S.%LZ";var Hp=Date.prototype.toISOString?function(t){return t.toISOString()}:U.utcFormat(qp);var Yp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:U.utcParse(qp),Gp=1e3,Vp=60*Gp,Xp=60*Vp,Wp=24*Xp,$p=7*Wp,Kp=30*Wp,Zp=365*Wp;function Qp(t){return new Date(t)}function Jp(t){return t instanceof Date?+t:+new Date(+t)}function tg(a,n,e,r,i,o,u,c,s){var l=lh(ah,ge),f=l.invert,h=l.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),v=s("%I %p"),y=s("%a %d"),m=s("%b %d"),b=s("%B"),x=s("%Y"),_=[[u,1,Gp],[u,5,5*Gp],[u,15,15*Gp],[u,30,30*Gp],[o,1,Vp],[o,5,5*Vp],[o,15,15*Vp],[o,30,30*Vp],[i,1,Xp],[i,3,3*Xp],[i,6,6*Xp],[i,12,12*Xp],[r,1,Wp],[r,2,2*Wp],[e,1,$p],[n,1,Kp],[n,3,3*Kp],[a,1,Zp]];function w(t){return(u(t)<t?d:o(t)<t?p:i(t)<t?g:r(t)<t?v:n(t)<t?e(t)<t?y:m:a(t)<t?b:x)(t)}function A(t,n,e,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(e-n)/t,o=M(function(t){return t[2]}).right(_,i);o===_.length?(r=E(n/Zp,e/Zp,t),t=a):o?(r=(o=_[i/_[o-1][2]<_[o][2]/i?o-1:o])[1],t=o[0]):(r=Math.max(E(n,e,t),1),t=c)}return null==r?t:t.every(r)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Qf.call(t,Jp)):h().map(Qp)},l.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=A(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},l.tickFormat=function(t,n){return null==n?w:s(n)},l.nice=function(t,n){var e=h();return(t=A(t,e[0],e[e.length-1],n))?h(hh(e,t)):l},l.copy=function(){return sh(l,tg(a,n,e,r,i,o,u,c,s))},l}function ng(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var eg=ng("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),rg=ng("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ig=ng("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),og=ng("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ag=ng("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ug=ng("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),cg=ng("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sg=ng("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),lg=ng("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function fg(t){return fe(t[t.length-1])}var hg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ng),dg=fg(hg),pg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ng),gg=fg(pg),vg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ng),yg=fg(vg),mg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ng),bg=fg(mg),xg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ng),_g=fg(xg),wg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ng),Ag=fg(wg),Mg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ng),kg=fg(Mg),Eg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ng),Sg=fg(Eg),Cg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ng),Tg=fg(Cg),Ng=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ng),Lg=fg(Ng),Rg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ng),Dg=fg(Rg),Og=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ng),Pg=fg(Og),zg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ng),Fg=fg(zg),Ig=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ng),Bg=fg(Ig),Ug=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ng),jg=fg(Ug),qg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ng),Hg=fg(qg),Yg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ng),Gg=fg(Yg),Vg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ng),Xg=fg(Vg),Wg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ng),$g=fg(Wg),Kg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ng),Zg=fg(Kg),Qg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ng),Jg=fg(Qg),tv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ng),nv=fg(tv),ev=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ng),rv=fg(ev),iv=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ng),ov=fg(iv),av=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ng),uv=fg(av),cv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ng),sv=fg(cv),lv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ng),fv=fg(lv),hv=Ve(Jn(300,.5,0),Jn(-240,.5,1)),dv=Ve(Jn(-100,.75,.35),Jn(80,1.5,.8)),pv=Ve(Jn(260,.75,.35),Jn(80,1.5,.8)),gv=Jn();var vv=xn(),yv=Math.PI/3,mv=2*Math.PI/3;function bv(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}var xv=bv(ng("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),_v=bv(ng("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),wv=bv(ng("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Av=bv(ng("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Mv(t){return function(){return t}}var kv=Math.abs,Ev=Math.atan2,Sv=Math.cos,Cv=Math.max,Tv=Math.min,Nv=Math.sin,Lv=Math.sqrt,Rv=1e-12,Dv=Math.PI,Ov=Dv/2,Pv=2*Dv;function zv(t){return 1<=t?Ov:t<=-1?-Ov:Math.asin(t)}function Fv(t){return t.innerRadius}function Iv(t){return t.outerRadius}function Bv(t){return t.startAngle}function Uv(t){return t.endAngle}function jv(t){return t&&t.padAngle}function qv(t,n,e,r,i,o,a){var u=t-e,c=n-r,s=(a?o:-o)/Lv(u*u+c*c),l=s*c,f=-s*u,h=t+l,d=n+f,p=e+l,g=r+f,v=(h+p)/2,y=(d+g)/2,m=p-h,b=g-d,x=m*m+b*b,_=i-o,w=h*g-p*d,A=(b<0?-1:1)*Lv(Cv(0,_*_*x-w*w)),M=(w*b-m*A)/x,k=(-w*m-b*A)/x,E=(w*b+m*A)/x,S=(-w*m+b*A)/x,C=M-v,T=k-y,N=E-v,L=S-y;return N*N+L*L<C*C+T*T&&(M=E,k=S),{cx:M,cy:k,x01:-l,y01:-f,x11:M*(i/_-1),y11:k*(i/_-1)}}function Hv(t){this._context=t}function Yv(t){return new Hv(t)}function Gv(t){return t[0]}function Vv(t){return t[1]}function Xv(){var a=Gv,u=Vv,c=Mv(!0),s=null,l=Yv,f=null;function n(t){var n,e,r,i=t.length,o=!1;for(null==s&&(f=l(r=Wi())),n=0;n<=i;++n)!(n<i&&c(e=t[n],n,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(e,n,t),+u(e,n,t));if(r)return f=null,r+""||null}return n.x=function(t){return arguments.length?(a="function"==typeof t?t:Mv(+t),n):a},n.y=function(t){return arguments.length?(u="function"==typeof t?t:Mv(+t),n):u},n.defined=function(t){return arguments.length?(c="function"==typeof t?t:Mv(!!t),n):c},n.curve=function(t){return arguments.length?(l=t,null!=s&&(f=l(s)),n):l},n.context=function(t){return arguments.length?(null==t?s=f=null:f=l(s=t),n):s},n}function Wv(){var l=Gv,f=null,h=Mv(0),d=Vv,p=Mv(!0),g=null,v=Yv,y=null;function n(t){var n,e,r,i,o,a=t.length,u=!1,c=new Array(a),s=new Array(a);for(null==g&&(y=v(o=Wi())),n=0;n<=a;++n){if(!(n<a&&p(i=t[n],n,t))===u)if(u=!u)e=n,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=n-1;e<=r;--r)y.point(c[r],s[r]);y.lineEnd(),y.areaEnd()}u&&(c[n]=+l(i,n,t),s[n]=+h(i,n,t),y.point(f?+f(i,n,t):c[n],d?+d(i,n,t):s[n]))}if(o)return y=null,o+""||null}function t(){return Xv().defined(p).curve(v).context(g)}return n.x=function(t){return arguments.length?(l="function"==typeof t?t:Mv(+t),f=null,n):l},n.x0=function(t){return arguments.length?(l="function"==typeof t?t:Mv(+t),n):l},n.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:Mv(+t),n):f},n.y=function(t){return arguments.length?(h="function"==typeof t?t:Mv(+t),d=null,n):h},n.y0=function(t){return arguments.length?(h="function"==typeof t?t:Mv(+t),n):h},n.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:Mv(+t),n):d},n.lineX0=n.lineY0=function(){return t().x(l).y(h)},n.lineY1=function(){return t().x(l).y(d)},n.lineX1=function(){return t().x(f).y(h)},n.defined=function(t){return arguments.length?(p="function"==typeof t?t:Mv(!!t),n):p},n.curve=function(t){return arguments.length?(v=t,null!=g&&(y=v(g)),n):v},n.context=function(t){return arguments.length?(null==t?g=y=null:y=v(g=t),n):g},n}function $v(t,n){return n<t?-1:t<n?1:t<=n?0:NaN}function Kv(t){return t}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Zv=Jv(Yv);function Qv(t){this._curve=t}function Jv(n){function t(t){return new Qv(n(t))}return t._curve=n,t}function ty(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Jv(t)):n()._curve},t}function ny(){return ty(Xv().curve(Zv))}function ey(){var t=Wv().curve(Zv),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ty(e())},delete t.lineX0,t.lineEndAngle=function(){return ty(r())},delete t.lineX1,t.lineInnerRadius=function(){return ty(i())},delete t.lineY0,t.lineOuterRadius=function(){return ty(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Jv(t)):n()._curve},t}function ry(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Qv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var iy=Array.prototype.slice;function oy(t){return t.source}function ay(t){return t.target}function uy(i){var o=oy,a=ay,u=Gv,c=Vv,s=null;function n(){var t,n=iy.call(arguments),e=o.apply(this,n),r=a.apply(this,n);if(s||(s=t=Wi()),i(s,+u.apply(this,(n[0]=e,n)),+c.apply(this,n),+u.apply(this,(n[0]=r,n)),+c.apply(this,n)),t)return s=null,t+""||null}return n.source=function(t){return arguments.length?(o=t,n):o},n.target=function(t){return arguments.length?(a=t,n):a},n.x=function(t){return arguments.length?(u="function"==typeof t?t:Mv(+t),n):u},n.y=function(t){return arguments.length?(c="function"==typeof t?t:Mv(+t),n):c},n.context=function(t){return arguments.length?(s=null==t?null:t,n):s},n}function cy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function sy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function ly(t,n,e,r,i){var o=ry(n,e),a=ry(n,e=(e+i)/2),u=ry(r,e),c=ry(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}var fy={draw:function(t,n){var e=Math.sqrt(n/Dv);t.moveTo(e,0),t.arc(0,0,e,0,Pv)}},hy={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},dy=Math.sqrt(1/3),py=2*dy,gy={draw:function(t,n){var e=Math.sqrt(n/py),r=e*dy;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},vy=Math.sin(Dv/10)/Math.sin(7*Dv/10),yy=Math.sin(Pv/10)*vy,my=-Math.cos(Pv/10)*vy,by={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=yy*e,i=my*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Pv*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*e,-u*e),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},xy={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},_y=Math.sqrt(3),wy={draw:function(t,n){var e=-Math.sqrt(n/(3*_y));t.moveTo(0,2*e),t.lineTo(-_y*e,-e),t.lineTo(_y*e,-e),t.closePath()}},Ay=-.5,My=Math.sqrt(3)/2,ky=1/Math.sqrt(12),Ey=3*(ky/2+1),Sy={draw:function(t,n){var e=Math.sqrt(n/Ey),r=e/2,i=e*ky,o=r,a=e*ky+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(Ay*r-My*i,My*r+Ay*i),t.lineTo(Ay*o-My*a,My*o+Ay*a),t.lineTo(Ay*u-My*c,My*u+Ay*c),t.lineTo(Ay*r+My*i,Ay*i-My*r),t.lineTo(Ay*o+My*a,Ay*a-My*o),t.lineTo(Ay*u+My*c,Ay*c-My*u),t.closePath()}},Cy=[fy,hy,gy,xy,by,wy,Sy];function Ty(){}function Ny(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ly(t){this._context=t}function Ry(t){this._context=t}function Dy(t){this._context=t}function Oy(t,n){this._basis=new Ly(t),this._beta=n}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ny(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ny(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ry.prototype={areaStart:Ty,areaEnd:Ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ny(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ny(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Oy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(0<e)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Py=function n(e){function t(t){return 1===e?new Ly(t):new Oy(t,e)}return t.beta=function(t){return n(+t)},t}(.85);function zy(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Fy(t,n){this._context=t,this._k=(1-n)/6}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:zy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Iy=function n(e){function t(t){return new Fy(t,e)}return t.tension=function(t){return n(+t)},t}(0);function By(t,n){this._context=t,this._k=(1-n)/6}By.prototype={areaStart:Ty,areaEnd:Ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:zy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Uy=function n(e){function t(t){return new By(t,e)}return t.tension=function(t){return n(+t)},t}(0);function jy(t,n){this._context=t,this._k=(1-n)/6}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qy=function n(e){function t(t){return new jy(t,e)}return t.tension=function(t){return n(+t)},t}(0);function Hy(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Rv){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Rv){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Yy(t,n){this._context=t,this._alpha=n}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Gy=function n(e){function t(t){return e?new Yy(t,e):new Fy(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function Vy(t,n){this._context=t,this._alpha=n}Vy.prototype={areaStart:Ty,areaEnd:Ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Xy=function n(e){function t(t){return e?new Vy(t,e):new By(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function Wy(t,n){this._context=t,this._alpha=n}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $y=function n(e){function t(t){return e?new Wy(t,e):new jy(t,0)}return t.alpha=function(t){return n(+t)},t}(.5);function Ky(t){this._context=t}function Zy(t){return t<0?-1:1}function Qy(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Zy(o)+Zy(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Jy(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function tm(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function nm(t){this._context=t}function em(t){this._context=new rm(t)}function rm(t){this._context=t}function im(t){this._context=t}function om(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;0<=n;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function am(t,n){this._context=t,this._t=n}function um(t,n){if(1<(i=t.length))for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function cm(t){for(var n=t.length,e=new Array(n);0<=--n;)e[n]=n;return e}function sm(t,n){return t[n]}function lm(t){var e=t.map(fm);return cm(t).sort(function(t,n){return e[t]-e[n]})}function fm(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function hm(t){return function(){return t}}function dm(t){return t[0]}function pm(t){return t[1]}function gm(){this._=null}function vm(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ym(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function mm(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function bm(t){for(;t.L;)t=t.L;return t}function xm(t,n,e,r){var i=[null,null],o=qm.push(i)-1;return i.left=t,i.right=n,e&&wm(i,t,n,e),r&&wm(i,n,t,r),Um[t.index].halfedges.push(o),Um[n.index].halfedges.push(o),i}function _m(t,n,e){var r=[n,e];return r.left=t,r}function wm(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Am(t,n,e,r,i){var o,a=t[0],u=t[1],c=a[0],s=a[1],l=0,f=1,h=u[0]-c,d=u[1]-s;if(o=n-c,h||!(0<o)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(0<h){if(f<o)return;l<o&&(l=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(f<o)return;l<o&&(l=o)}else if(0<h){if(o<l)return;o<f&&(f=o)}if(o=e-s,d||!(0<o)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(0<d){if(f<o)return;l<o&&(l=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(f<o)return;l<o&&(l=o)}else if(0<d){if(o<l)return;o<f&&(f=o)}return(0<l||f<1)&&(0<l&&(t[0]=[c+l*h,s+l*d]),f<1&&(t[1]=[c+f*h,s+f*d])),!0}}}}}function Mm(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,c=t[0],s=t.left,l=t.right,f=s[0],h=s[1],d=l[0],p=l[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<n||r<=g)return;if(d<f){if(c){if(c[1]>=i)return}else c=[g,e];o=[g,i]}else{if(c){if(c[1]<e)return}else c=[g,i];o=[g,e]}}else if(u=v-(a=(f-d)/(p-h))*g,a<-1||1<a)if(d<f){if(c){if(c[1]>=i)return}else c=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(c){if(c[1]<e)return}else c=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,a*n+u];o=[r,a*r+u]}else{if(c){if(c[0]<n)return}else c=[r,a*r+u];o=[n,a*n+u]}return t[0]=c,t[1]=o,!0}function km(t,n){return n[+(n.left!==t.site)]}Ky.prototype={areaStart:Ty,areaEnd:Ty,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tm(this,this._t0,Jy(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,tm(this,Jy(this,e=Qy(this,t,n)),e);break;default:tm(this,this._t0,e=Qy(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(em.prototype=Object.create(nm.prototype)).point=function(t,n){nm.prototype.point.call(this,n,t)},rm.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=om(t),i=om(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},gm.prototype={constructor:gm,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=bm(this._),n.P=null,(n.N=t).P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(ym(this,e),e=(t=e).U),e.C=!1,r.C=!0,mm(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(mm(this,e),e=(t=e).U),e.C=!1,r.C=!0,ym(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?bm(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,((e.L=o).U=e)!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,(e.R=a).U=e):(e.U=i,t=(i=e).R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,ym(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,mm(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,ym(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,mm(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,ym(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,mm(this,i),t=this._;break}n.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var Em,Sm=[];function Cm(){vm(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tm(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],c=r[0]-a,s=r[1]-u,l=o[0]-a,f=o[1]-u,h=2*(c*f-s*l);if(!(-Ym<=h)){var d=c*c+s*s,p=l*l+f*f,g=(f*d-s*p)/h,v=(c*p-l*d)/h,y=Sm.pop()||new Cm;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+u)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,b=jm._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}jm.insert(m,y),m||(Em=y)}}}}function Nm(t){var n=t.circle;n&&(n.P||(Em=n.N),jm.remove(n),Sm.push(n),vm(n),t.circle=null)}var Lm=[];function Rm(){vm(this),this.edge=this.site=this.circle=null}function Dm(t){var n=Lm.pop()||new Rm;return n.site=t,n}function Om(t){Nm(t),Bm.remove(t),Lm.push(t),vm(t)}function Pm(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];Om(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Hm&&Math.abs(r-c.circle.cy)<Hm;)o=c.P,u.unshift(c),Om(c),c=o;u.unshift(c),Nm(c);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<Hm&&Math.abs(r-s.circle.cy)<Hm;)a=s.N,u.push(s),Om(s),s=a;u.push(s),Nm(s);var l,f=u.length;for(l=1;l<f;++l)s=u[l],c=u[l-1],wm(s.edge,c.site,s.site,i);c=u[0],(s=u[f-1]).edge=xm(c.site,s.site,null,i),Tm(c),Tm(s)}function zm(t){for(var n,e,r,i,o,a=t[0],u=t[1],c=Bm._;c;)if(r=Fm(c,u)-a,Hm<r)c=c.L;else{if(i=a-Im(c,u),!(Hm<i)){-Hm<r?(n=c.P,e=c):-Hm<i?e=(n=c).N:n=e=c;break}if(!c.R){n=c;break}c=c.R}Um[(o=t).index]={site:o,halfedges:[]};var s=Dm(t);if(Bm.insert(n,s),n||e){if(n===e)return Nm(n),e=Dm(n.site),Bm.insert(s,e),s.edge=e.edge=xm(n.site,s.site),Tm(n),void Tm(e);if(e){Nm(n),Nm(e);var l=n.site,f=l[0],h=l[1],d=t[0]-f,p=t[1]-h,g=e.site,v=g[0]-f,y=g[1]-h,m=2*(d*y-p*v),b=d*d+p*p,x=v*v+y*y,_=[(y*b-p*x)/m+f,(d*x-v*b)/m+h];wm(e.edge,l,g,_),s.edge=xm(l,t,null,_),e.edge=xm(t,g,null,_),Tm(n),Tm(e)}else s.edge=xm(n.site,s.site)}}function Fm(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],c=e[1],s=c-n;if(!s)return u;var l=u-r,f=1/o-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+i-o/2)))/f+r:(r+u)/2}function Im(t,n){var e=t.N;if(e)return Fm(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Bm,Um,jm,qm,Hm=1e-6,Ym=1e-12;function Gm(t,n){return n[1]-t[1]||n[0]-t[0]}function Vm(t,n){var e,r,i,o=t.sort(Gm).pop();for(qm=[],Um=new Array(t.length),Bm=new gm,jm=new gm;;)if(i=Em,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(zm(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Pm(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Um.length;i<o;++i)if((t=Um[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=(c=t,s=qm[n[e]],h=f=void 0,l=c.site,f=s.left,h=s.right,l===h&&(h=f,f=l),h?Math.atan2(h[1]-f[1],h[0]-f[0]):(l===f?(f=s[1],h=s[0]):(f=s[0],h=s[1]),Math.atan2(f[0]-h[0],h[1]-f[1])));for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}var c,s,l,f,h}(),n){var a=+n[0][0],u=+n[0][1],c=+n[1][0],s=+n[1][1];!function(t,n,e,r){for(var i,o=qm.length;o--;)Mm(i=qm[o],t,n,e,r)&&Am(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Hm||Math.abs(i[0][1]-i[1][1])>Hm)||delete qm[o]}(a,u,c,s),function(t,n,e,r){var i,o,a,u,c,s,l,f,h,d,p,g,v,y,m=Um.length,b=!0;for(i=0;i<m;++i)if(o=Um[i]){for(a=o.site,u=(c=o.halfedges).length;u--;)qm[c[u]]||c.splice(u,1);for(u=0,s=c.length;u<s;)v=o,p=(d=(y=qm[c[u]])[+(y.left===v.site)])[0],g=d[1],f=(l=km(o,qm[c[++u%s]]))[0],h=l[1],(Math.abs(p-f)>Hm||Math.abs(g-h)>Hm)&&(c.splice(u,0,qm.push(_m(a,d,Math.abs(p-t)<Hm&&Hm<r-g?[t,Math.abs(f-t)<Hm?h:r]:Math.abs(g-r)<Hm&&Hm<e-p?[Math.abs(h-r)<Hm?f:e,r]:Math.abs(p-e)<Hm&&Hm<g-n?[e,Math.abs(f-e)<Hm?h:n]:Math.abs(g-n)<Hm&&Hm<p-t?[Math.abs(h-n)<Hm?f:t,n]:null))-1),++s);s&&(b=!1)}if(b){var x,_,w,A=1/0;for(i=0,b=null;i<m;++i)(o=Um[i])&&(w=(x=(a=o.site)[0]-t)*x+(_=a[1]-n)*_)<A&&(A=w,b=o);if(b){var M=[t,n],k=[t,r],E=[e,r],S=[e,n];b.halfedges.push(qm.push(_m(a=b.site,M,k))-1,qm.push(_m(a,k,E))-1,qm.push(_m(a,E,S))-1,qm.push(_m(a,S,M))-1)}}for(i=0;i<m;++i)(o=Um[i])&&(o.halfedges.length||delete Um[i])}(a,u,c,s)}this.edges=qm,this.cells=Um,Bm=jm=qm=Um=null}function Xm(t){return function(){return t}}function Wm(t,n,e){this.target=t,this.type=n,this.transform=e}function $m(t,n,e){this.k=t,this.x=n,this.y=e}Vm.prototype={constructor:Vm,polygons:function(){var e=this.edges;return this.cells.map(function(n){var t=n.halfedges.map(function(t){return km(n,e[t])});return t.data=n.site.data,t})},triangles:function(){var h=[],d=this.edges;return this.cells.forEach(function(t,n){if(r=(e=t.halfedges).length)for(var e,r,i,o,a,u,c=t.site,s=-1,l=d[e[r-1]],f=l.left===c?l.right:l.left;++s<r;)i=f,f=(l=d[e[s]]).left===c?l.right:l.left,i&&f&&n<i.index&&n<f.index&&(a=i,u=f,((o=c)[0]-u[0])*(a[1]-o[1])-(o[0]-a[0])*(u[1]-o[1])<0)&&h.push([c.data,i.data,f.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,u,t){for(var n,c,s=this,l=s._found||0,e=s.cells.length;!(c=s.cells[l]);)if(++l>=e)return null;for(var r=a-c.site[0],i=u-c.site[1],f=r*r+i*i;c=s.cells[n=l],l=null,c.halfedges.forEach(function(t){var n=s.edges[t],e=n.left;if(e!==c.site&&e||(e=n.right)){var r=a-e[0],i=u-e[1],o=r*r+i*i;o<f&&(f=o,l=e.index)}}),null!==l;);return s._found=n,null==t||f<=t*t?c.site:null}},$m.prototype={constructor:$m,scale:function(t){return 1===t?this:new $m(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new $m(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Km=new $m(1,0,0);function Zm(t){return t.__zoom||Km}function Qm(){U.event.stopImmediatePropagation()}function Jm(){U.event.preventDefault(),U.event.stopImmediatePropagation()}function tb(){return!U.event.button}function nb(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function eb(){return this.__zoom||Km}function rb(){return-U.event.deltaY*(U.event.deltaMode?120:1)/500}function ib(){return"ontouchstart"in this}function ob(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Zm.prototype=$m.prototype,U.version="5.5.0",U.bisect=g,U.bisectRight=g,U.bisectLeft=n,U.ascending=u,U.bisector=M,U.cross=function(t,n,e){var r,i,o,a,u=t.length,c=n.length,s=new Array(u*c);for(null==e&&(e=l),r=o=0;r<u;++r)for(a=t[r],i=0;i<c;++i,++o)s[o]=e(a,n[i]);return s},U.descending=function(t,n){return n<t?-1:t<n?1:t<=n?0:NaN},U.deviation=i,U.extent=c,U.histogram=function(){var h=v,d=c,p=b;function n(t){var n,e,r=t.length,i=new Array(r);for(n=0;n<r;++n)i[n]=h(t[n],n,t);var o=d(i),a=o[0],u=o[1],c=p(i,a,u);Array.isArray(c)||(c=E(a,u,c),c=k(Math.ceil(a/c)*c,Math.floor(u/c)*c,c));for(var s=c.length;c[0]<=a;)c.shift(),--s;for(;c[s-1]>u;)c.pop(),--s;var l,f=new Array(s+1);for(n=0;n<=s;++n)(l=f[n]=[]).x0=0<n?c[n-1]:a,l.x1=n<s?c[n]:u;for(n=0;n<r;++n)a<=(e=i[n])&&e<=u&&f[g(c,e,0,s)].push(t[n]);return f}return n.value=function(t){return arguments.length?(h="function"==typeof t?t:f(t),n):h},n.domain=function(t){return arguments.length?(d="function"==typeof t?t:f([t[0],t[1]]),n):d},n.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?f(o.call(t)):f(t),n):p},n},U.thresholdFreedmanDiaconis=function(t,n,e){return t=a.call(t,s).sort(u),Math.ceil((e-n)/(2*(x(t,.75)-x(t,.25))*Math.pow(t.length,-1/3)))},U.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*i(t)*Math.pow(t.length,-1/3)))},U.thresholdSturges=b,U.max=_,U.mean=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=s(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=s(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},U.median=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=s(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=s(n(t[i],i,t)))||o.push(e);return x(o.sort(u),.5)},U.merge=S,U.min=w,U.pairs=function(t,n){null==n&&(n=l);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o},U.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},U.quantile=x,U.range=k,U.scan=function(t,n){if(e=t.length){var e,r,i=0,o=0,a=t[o];for(null==n&&(n=u);++i<e;)(n(r=t[i],a)<0||0!==n(a,a))&&(a=r,o=i);return 0===n(a,a)?o:void 0}},U.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},U.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},U.ticks=y,U.tickIncrement=m,U.tickStep=E,U.transpose=A,U.variance=r,U.zip=function(){return A(arguments)},U.axisTop=function(t){return B(L,t)},U.axisRight=function(t){return B(R,t)},U.axisBottom=function(t){return B(D,t)},U.axisLeft=function(t){return B(O,t)},U.brush=function(){return Oi(Ai)},U.brushX=function(){return Oi(_i)},U.brushY=function(){return Oi(wi)},U.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},U.chord=function(){var _=0,w=null,A=null,M=null;function n(r){var t,n,e,i,o,a,u=r.length,c=[],s=k(u),l=[],f=[],h=f.groups=new Array(u),d=new Array(u*u);for(t=0,o=-1;++o<u;){for(n=0,a=-1;++a<u;)n+=r[o][a];c.push(n),l.push(k(u)),t+=n}for(w&&s.sort(function(t,n){return w(c[t],c[n])}),A&&l.forEach(function(t,e){t.sort(function(t,n){return A(r[e][t],r[e][n])})}),i=(t=Ui(0,Bi-_*u)/t)?_:Bi/u,n=0,o=-1;++o<u;){for(e=n,a=-1;++a<u;){var p=s[o],g=l[p][a],v=r[p][g],y=n,m=n+=v*t;d[g*u+p]={index:p,subindex:g,startAngle:y,endAngle:m,value:v}}h[p]={index:p,startAngle:e,endAngle:n,value:c[p]},n+=i}for(o=-1;++o<u;)for(a=o-1;++a<u;){var b=d[a*u+o],x=d[o*u+a];(b.value||x.value)&&f.push(b.value<x.value?{source:x,target:b}:{source:b,target:x})}return M?f.sort(M):f}return n.padAngle=function(t){return arguments.length?(_=Ui(0,t),n):_},n.sortGroups=function(t){return arguments.length?(w=t,n):w},n.sortSubgroups=function(t){return arguments.length?(A=t,n):A},n.sortChords=function(t){return arguments.length?(null==t?M=null:(e=t,M=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,n):M&&M._;var e},n},U.ribbon=function(){var h=$i,d=Ki,p=Zi,g=Qi,v=Ji,y=null;function n(){var t,n=ji.call(arguments),e=h.apply(this,n),r=d.apply(this,n),i=+p.apply(this,(n[0]=e,n)),o=g.apply(this,n)-Ii,a=v.apply(this,n)-Ii,u=i*Pi(o),c=i*zi(o),s=+p.apply(this,(n[0]=r,n)),l=g.apply(this,n)-Ii,f=v.apply(this,n)-Ii;if(y||(y=t=Wi()),y.moveTo(u,c),y.arc(0,0,i,o,a),o===l&&a===f||(y.quadraticCurveTo(0,0,s*Pi(l),s*zi(l)),y.arc(0,0,s,l,f)),y.quadraticCurveTo(0,0,u,c),y.closePath(),t)return y=null,t+""||null}return n.radius=function(t){return arguments.length?(p="function"==typeof t?t:qi(+t),n):p},n.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:qi(+t),n):g},n.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:qi(+t),n):v},n.source=function(t){return arguments.length?(h=t,n):h},n.target=function(t){return arguments.length?(d=t,n):d},n.context=function(t){return arguments.length?(y=null==t?null:t,n):y},n},U.nest=function(){var h,d,n,p=[],a=[];function g(t,e,r,i){if(e>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var n,o,a,u=-1,c=t.length,s=p[e++],l=eo(),f=r();++u<c;)(a=l.get(n=s(o=t[u])+""))?a.push(o):l.set(n,[o]);return l.each(function(t,n){i(f,n,g(t,e,r,i))}),f}return n={object:function(t){return g(t,0,ro,io)},map:function(t){return g(t,0,oo,ao)},entries:function(t){return function e(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=d&&r>=p.length?i=t.entries():(i=[],t.each(function(t,n){i.push({key:n,values:e(t,r)})})),null!=o?i.sort(function(t,n){return o(t.key,n.key)}):i}(g(t,0,oo,ao),0)},key:function(t){return p.push(t),n},sortKeys:function(t){return a[p.length-1]=t,n},sortValues:function(t){return h=t,n},rollup:function(t){return d=t,n}}},U.set=so,U.map=eo,U.keys=function(t){var n=[];for(var e in t)n.push(e);return n},U.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},U.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},U.color=vn,U.rgb=xn,U.hsl=Mn,U.lab=Fn,U.hcl=Yn,U.lch=function(t,n,e,r){return 1===arguments.length?Hn(t):new Gn(e,n,t,null==r?1:r)},U.gray=function(t,n){return new In(t,0,0,null==n?1:n)},U.cubehelix=Jn,U.contours=mo,U.contourDensity=function(){var a=_o,u=wo,r=960,i=500,c=20,s=2,l=3*c,f=r+2*l>>s,h=i+2*l>>s,d=ho(20);function n(t){var o=new Float32Array(f*h),n=new Float32Array(f*h);t.forEach(function(t,n,e){var r=a(t,n,e)+l>>s,i=u(t,n,e)+l>>s;0<=r&&r<f&&0<=i&&i<h&&++o[r+i*f]}),bo({width:f,height:h,data:o},{width:f,height:h,data:n},c>>s),xo({width:f,height:h,data:n},{width:f,height:h,data:o},c>>s),bo({width:f,height:h,data:o},{width:f,height:h,data:n},c>>s),xo({width:f,height:h,data:n},{width:f,height:h,data:o},c>>s),bo({width:f,height:h,data:o},{width:f,height:h,data:n},c>>s),xo({width:f,height:h,data:n},{width:f,height:h,data:o},c>>s);var e=d(o);if(!Array.isArray(e)){var r=_(o);e=E(0,r,e),(e=k(0,Math.floor(r/e)*e,e)).shift()}return mo().thresholds(e).size([f,h])(o).map(p)}function p(t){return t.value*=Math.pow(2,-2*s),t.coordinates.forEach(e),t}function e(t){t.forEach(o)}function o(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,s)-l,t[1]=t[1]*Math.pow(2,s)-l}function v(){return f=r+2*(l=3*c)>>s,h=i+2*l>>s,n}return n.x=function(t){return arguments.length?(a="function"==typeof t?t:ho(+t),n):a},n.y=function(t){return arguments.length?(u="function"==typeof t?t:ho(+t),n):u},n.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(0<=n||0<=n))throw new Error("invalid size");return r=n,i=e,v()},n.cellSize=function(t){if(!arguments.length)return 1<<s;if(!(1<=(t=+t)))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),v()},n.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?ho(lo.call(t)):ho(t),n):d},n.bandwidth=function(t){if(!arguments.length)return Math.sqrt(c*(c+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},n},U.dispatch=q,U.drag=function(){var e,r,i,o,a=$t,u=Kt,n=Zt,c=Qt,p={},g=q("start","drag","end"),v=0,s=0;function y(t){t.on("mousedown.drag",l).filter(c).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){if(!o&&a.apply(this,arguments)){var t=x("mouse",u.apply(this,arguments),jt,this,arguments);t&&(Pt(U.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),Gt(U.event.view),Ht(),i=!1,e=U.event.clientX,r=U.event.clientY,t("start"))}}function f(){if(Yt(),!i){var t=U.event.clientX-e,n=U.event.clientY-r;i=s<t*t+n*n}p.mouse("drag")}function h(){Pt(U.event.view).on("mousemove.drag mouseup.drag",null),Vt(U.event.view,i),Yt(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,n,e=U.event.changedTouches,r=u.apply(this,arguments),i=e.length;for(t=0;t<i;++t)(n=x(e[t].identifier,r,qt,this,arguments))&&(Ht(),n("start"))}}function m(){var t,n,e=U.event.changedTouches,r=e.length;for(t=0;t<r;++t)(n=p[e[t].identifier])&&(Yt(),n("drag"))}function b(){var t,n,e=U.event.changedTouches,r=e.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(n=p[e[t].identifier])&&(Ht(),n("end"))}function x(i,o,a,u,c){var s,l,f,h=a(o,i),d=g.copy();if(Nt(new Wt(y,"beforestart",s,i,v,h[0],h[1],0,0,d),function(){return null!=(U.event.subject=s=n.apply(u,c))&&(l=s.x-h[0]||0,f=s.y-h[1]||0,!0)}))return function t(n){var e,r=h;switch(n){case"start":p[i]=t,e=v++;break;case"end":delete p[i],--v;case"drag":h=a(o,i),e=v}Nt(new Wt(y,n,s,i,e,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[n,u,c])}}return y.filter=function(t){return arguments.length?(a="function"==typeof t?t:Xt(!!t),y):a},y.container=function(t){return arguments.length?(u="function"==typeof t?t:Xt(t),y):u},y.subject=function(t){return arguments.length?(n="function"==typeof t?t:Xt(t),y):n},y.touchable=function(t){return arguments.length?(c="function"==typeof t?t:Xt(!!t),y):c},y.on=function(){var t=g.on.apply(g,arguments);return t===g?y:t},y.clickDistance=function(t){return arguments.length?(s=(t=+t)*t,y):Math.sqrt(s)},y},U.dragDisable=Gt,U.dragEnable=Vt,U.dsvFormat=To,U.csvParse=Lo,U.csvParseRows=Ro,U.csvFormat=Do,U.csvFormatRows=Oo,U.tsvParse=zo,U.tsvParseRows=Fo,U.tsvFormat=Io,U.tsvFormatRows=Bo,U.easeLinear=function(t){return+t},U.easeQuad=Pr,U.easeQuadIn=function(t){return t*t},U.easeQuadOut=function(t){return t*(2-t)},U.easeQuadInOut=Pr,U.easeCubic=zr,U.easeCubicIn=function(t){return t*t*t},U.easeCubicOut=function(t){return--t*t*t+1},U.easeCubicInOut=zr,U.easePoly=Br,U.easePolyIn=Fr,U.easePolyOut=Ir,U.easePolyInOut=Br,U.easeSin=qr,U.easeSinIn=function(t){return 1-Math.cos(t*jr)},U.easeSinOut=function(t){return Math.sin(t*jr)},U.easeSinInOut=qr,U.easeExp=Hr,U.easeExpIn=function(t){return Math.pow(2,10*t-10)},U.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},U.easeExpInOut=Hr,U.easeCircle=Yr,U.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},U.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},U.easeCircleInOut=Yr,U.easeBounce=ni,U.easeBounceIn=function(t){return 1-ni(1-t)},U.easeBounceOut=ni,U.easeBounceInOut=function(t){return((t*=2)<=1?1-ni(1-t):ni(t-1)+1)/2},U.easeBack=oi,U.easeBackIn=ri,U.easeBackOut=ii,U.easeBackInOut=oi,U.easeElastic=ci,U.easeElasticIn=ui,U.easeElasticOut=ci,U.easeElasticInOut=si,U.blob=function(t,n){return fetch(t,n).then(Uo)},U.buffer=function(t,n){return fetch(t,n).then(jo)},U.dsv=function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=To(t);return Ho(n,e).then(function(t){return i.parse(t,r)})},U.csv=Go,U.tsv=Vo,U.image=function(i,o){return new Promise(function(t,n){var e=new Image;for(var r in o)e[r]=o[r];e.onerror=n,e.onload=function(){t(e)},e.src=i})},U.json=function(t,n){return fetch(t,n).then(Xo)},U.text=Ho,U.xml=$o,U.html=Ko,U.svg=Zo,U.forceCenter=function(o,a){var u;function n(){var t,n,e=u.length,r=0,i=0;for(t=0;t<e;++t)r+=(n=u[t]).x,i+=n.y;for(r=r/e-o,i=i/e-a,t=0;t<e;++t)(n=u[t]).x-=r,n.y-=i}return null==o&&(o=0),null==a&&(a=0),n.initialize=function(t){u=t},n.x=function(t){return arguments.length?(o=+t,n):o},n.y=function(t){return arguments.length?(a=+t,n):a},n},U.forceCollide=function(r){var o,a,v=1,u=1;function n(){for(var t,n,f,h,d,p,g,e=o.length,r=0;r<u;++r)for(n=ia(o,ca,sa).visitAfter(c),t=0;t<e;++t)f=o[t],p=a[f.index],g=p*p,h=f.x+f.vx,d=f.y+f.vy,n.visit(i);function i(t,n,e,r,i){var o=t.data,a=t.r,u=p+a;if(!o)return h+u<n||r<h-u||d+u<e||i<d-u;if(o.index>f.index){var c=h-o.x-o.vx,s=d-o.y-o.vy,l=c*c+s*s;l<u*u&&(0===c&&(l+=(c=Jo())*c),0===s&&(l+=(s=Jo())*s),l=(u-(l=Math.sqrt(l)))/l*v,f.vx+=(c*=l)*(u=(a*=a)/(g+a)),f.vy+=(s*=l)*u,o.vx-=c*(u=1-u),o.vy-=s*u)}}}function c(t){if(t.data)return t.r=a[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function e(){if(o){var t,n,e=o.length;for(a=new Array(e),t=0;t<e;++t)n=o[t],a[n.index]=+r(n,t,o)}}return"function"!=typeof r&&(r=Qo(null==r?1:+r)),n.initialize=function(t){o=t,e()},n.iterations=function(t){return arguments.length?(u=+t,n):u},n.strength=function(t){return arguments.length?(v=+t,n):v},n.radius=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),e(),n):r},n},U.forceLink=function(f){var h,d,o,a,p,u=la,e=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=Qo(30),g=1;function n(t){for(var n=0,e=f.length;n<g;++n)for(var r,i,o,a,u,c,s,l=0;l<e;++l)i=(r=f[l]).source,a=(o=r.target).x+o.vx-i.x-i.vx||Jo(),u=o.y+o.vy-i.y-i.vy||Jo(),a*=c=((c=Math.sqrt(a*a+u*u))-d[l])/c*t*h[l],u*=c,o.vx-=a*(s=p[l]),o.vy-=u*s,i.vx+=a*(s=1-s),i.vy+=u*s}function i(){if(o){var t,n,e=o.length,r=f.length,i=eo(o,u);for(t=0,a=new Array(e);t<r;++t)(n=f[t]).index=t,"object"!=typeof n.source&&(n.source=fa(i,n.source)),"object"!=typeof n.target&&(n.target=fa(i,n.target)),a[n.source.index]=(a[n.source.index]||0)+1,a[n.target.index]=(a[n.target.index]||0)+1;for(t=0,p=new Array(r);t<r;++t)n=f[t],p[t]=a[n.source.index]/(a[n.source.index]+a[n.target.index]);h=new Array(r),c(),d=new Array(r),s()}}function c(){if(o)for(var t=0,n=f.length;t<n;++t)h[t]=+e(f[t],t,f)}function s(){if(o)for(var t=0,n=f.length;t<n;++t)d[t]=+r(f[t],t,f)}return null==f&&(f=[]),n.initialize=function(t){o=t,i()},n.links=function(t){return arguments.length?(f=t,i(),n):f},n.id=function(t){return arguments.length?(u=t,n):u},n.iterations=function(t){return arguments.length?(g=+t,n):g},n.strength=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),c(),n):e},n.distance=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),s(),n):r},n},U.forceManyBody=function(){var i,c,s,l,r=Qo(-30),f=1,h=1/0,d=.81;function n(t){var n,e=i.length,r=ia(i,ha,da).visitAfter(o);for(s=t,n=0;n<e;++n)c=i[n],r.visit(a)}function e(){if(i){var t,n,e=i.length;for(l=new Array(e),t=0;t<e;++t)n=i[t],l[n.index]=+r(n,t,i)}}function o(t){var n,e,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(a+=n.value,u+=e,r+=e*n.x,i+=e*n.y);t.x=r/u,t.y=i/u}else for((n=t).x=n.data.x,n.y=n.data.y;a+=l[n.data.index],n=n.next;);t.value=a}function a(t,n,e,r){if(!t.value)return!0;var i=t.x-c.x,o=t.y-c.y,a=r-n,u=i*i+o*o;if(a*a/d<u)return u<h&&(0===i&&(u+=(i=Jo())*i),0===o&&(u+=(o=Jo())*o),u<f&&(u=Math.sqrt(f*u)),c.vx+=i*t.value*s/u,c.vy+=o*t.value*s/u),!0;if(!(t.length||h<=u))for((t.data!==c||t.next)&&(0===i&&(u+=(i=Jo())*i),0===o&&(u+=(o=Jo())*o),u<f&&(u=Math.sqrt(f*u)));t.data!==c&&(a=l[t.data.index]*s/u,c.vx+=i*a,c.vy+=o*a),t=t.next;);}return n.initialize=function(t){i=t,e()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),e(),n):r},n.distanceMin=function(t){return arguments.length?(f=t*t,n):Math.sqrt(f)},n.distanceMax=function(t){return arguments.length?(h=t*t,n):Math.sqrt(h)},n.theta=function(t){return arguments.length?(d=t*t,n):Math.sqrt(d)},n},U.forceRadial=function(e,c,s){var l,f,h,r=Qo(.1);function n(t){for(var n=0,e=l.length;n<e;++n){var r=l[n],i=r.x-c||1e-6,o=r.y-s||1e-6,a=Math.sqrt(i*i+o*o),u=(h[n]-a)*f[n]*t/a;r.vx+=i*u,r.vy+=o*u}}function i(){if(l){var t,n=l.length;for(f=new Array(n),h=new Array(n),t=0;t<n;++t)h[t]=+e(l[t],t,l),f[t]=isNaN(h[t])?0:+r(l[t],t,l)}}return"function"!=typeof e&&(e=Qo(+e)),null==c&&(c=0),null==s&&(s=0),n.initialize=function(t){l=t,i()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),i(),n):r},n.radius=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),i(),n):e},n.x=function(t){return arguments.length?(c=+t,n):c},n.y=function(t){return arguments.length?(s=+t,n):s},n},U.forceSimulation=function(l){var e,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,a=.6,u=eo(),t=ur(s),c=q("tick","end");function s(){f(),c.call("tick",e),r<n&&(t.stop(),c.call("end",e))}function f(){var t,n,e=l.length;for(r+=(o-r)*i,u.each(function(t){t(r)}),t=0;t<e;++t)null==(n=l[t]).fx?n.x+=n.vx*=a:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=a:(n.y=n.fy,n.vy=0)}function h(){for(var t,n=0,e=l.length;n<e;++n){if((t=l[n]).index=n,isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(n),i=n*pa;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(l),t}return null==l&&(l=[]),h(),e={tick:f,restart:function(){return t.restart(s),e},stop:function(){return t.stop(),e},nodes:function(t){return arguments.length?(l=t,h(),u.each(d),e):l},alpha:function(t){return arguments.length?(r=+t,e):r},alphaMin:function(t){return arguments.length?(n=+t,e):n},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return 1<arguments.length?(null==n?u.remove(t):u.set(t,d(n)),e):u.get(t)},find:function(t,n,e){var r,i,o,a,u,c=0,s=l.length;for(null==e?e=1/0:e*=e,c=0;c<s;++c)(o=(r=t-(a=l[c]).x)*r+(i=n-a.y)*i)<e&&(u=a,e=o);return u},on:function(t,n){return 1<arguments.length?(c.on(t,n),e):c.on(t)}}},U.forceX=function(e){var i,o,a,r=Qo(.1);function n(t){for(var n,e=0,r=i.length;e<r;++e)(n=i[e]).vx+=(a[e]-n.x)*o[e]*t}function u(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof e&&(e=Qo(null==e?0:+e)),n.initialize=function(t){i=t,u()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),u(),n):r},n.x=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),u(),n):e},n},U.forceY=function(e){var i,o,a,r=Qo(.1);function n(t){for(var n,e=0,r=i.length;e<r;++e)(n=i[e]).vy+=(a[e]-n.y)*o[e]*t}function u(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof e&&(e=Qo(null==e?0:+e)),n.initialize=function(t){i=t,u()},n.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qo(+t),u(),n):r},n.y=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),u(),n):e},n},U.formatDefaultLocale=Sa,U.formatLocale=Ea,U.formatSpecifier=ba,U.precisionFixed=Ca,U.precisionPrefix=Ta,U.precisionRound=Na,U.geoArea=function(t){return vu.reset(),su(t,yu),2*vu},U.geoBounds=function(t){var n,e,r,i,o,a,u;if(Ru=Lu=-(Tu=Nu=1/0),Fu=[],su(t,ec),e=Fu.length){for(Fu.sort(fc),n=1,o=[r=Fu[0]];n<e;++n)hc(r,(i=Fu[n])[0])||hc(r,i[1])?(lc(r[0],i[1])>lc(r[0],r[1])&&(r[1]=i[1]),lc(i[0],r[1])>lc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=lc(r[1],i[0]))>a&&(a=u,Tu=i[0],Lu=r[1])}return Fu=Iu=null,Tu===1/0||Nu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Tu,Nu],[Lu,Ru]]},U.geoCentroid=function(t){Bu=Uu=ju=qu=Hu=Yu=Gu=Vu=Xu=Wu=$u=0,su(t,dc);var n=Xu,e=Wu,r=$u,i=n*n+e*e+r*r;return i<1e-12&&(n=Yu,e=Gu,r=Vu,Uu<Pa&&(n=ju,e=qu,r=Hu),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[Ya(e,n)*Ua,nu(r/Qa(i))*Ua]},U.geoCircle=function(){var r,i,o=Mc([0,0]),a=Mc(90),u=Mc(6),c={point:function(t,n){r.push(t=i(t,n)),t[0]*=Ua,t[1]*=Ua}};function n(){var t=o.apply(this,arguments),n=a.apply(this,arguments)*ja,e=u.apply(this,arguments)*ja;return r=[],i=Sc(-t[0]*ja,-t[1]*ja,0).invert,Rc(c,n,e,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return n.center=function(t){return arguments.length?(o="function"==typeof t?t:Mc([+t[0],+t[1]]),n):o},n.radius=function(t){return arguments.length?(a="function"==typeof t?t:Mc(+t),n):a},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:Mc(+t),n):u},n},U.geoClipAntimeridian=Yc,U.geoClipCircle=Gc,U.geoClipExtent=function(){var n,e,r,i=0,o=0,a=960,u=500;return r={stream:function(t){return n&&e===t?n:n=Wc(i,o,a,u)(e=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],u=+t[1][1],n=e=null,r):[[i,o],[a,u]]}}},U.geoClipRectangle=Wc,U.geoContains=function(t,n){return(t&&us.hasOwnProperty(t.type)?us[t.type]:ss)(t,n)},U.geoDistance=as,U.geoGraticule=ys,U.geoGraticule10=function(){return ys()()},U.geoInterpolate=function(t,n){var e=t[0]*ja,r=t[1]*ja,i=n[0]*ja,o=n[1]*ja,a=Ga(r),u=Ka(r),c=Ga(o),s=Ka(o),l=a*Ga(e),f=a*Ka(e),h=c*Ga(i),d=c*Ka(i),p=2*nu(Qa(eu(o-r)+a*c*eu(i-e))),g=Ka(p),v=p?function(t){var n=Ka(t*=p)/g,e=Ka(p-t)/g,r=e*l+n*h,i=e*f+n*d,o=e*u+n*s;return[Ya(i,r)*Ua,Ya(o,Qa(r*r+i*i))*Ua]}:function(){return[e*Ua,r*Ua]};return v.distance=p,v},U.geoLength=rs,U.geoPath=function(n,e){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),su(t,r(i))),i.result()}return a.area=function(t){return su(t,r(ks)),ks.result()},a.measure=function(t){return su(t,r(fl)),fl.result()},a.bounds=function(t){return su(t,r(Os)),Os.result()},a.centroid=function(t){return su(t,r(Ws)),Ws.result()},a.projection=function(t){return arguments.length?(r=null==t?(n=null,ms):(n=t).stream,a):n},a.context=function(t){return arguments.length?(i=null==t?(e=null,new pl):new il(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(n).context(e)},U.geoAlbers=Dl,U.geoAlbersUsa=function(){var n,e,i,o,a,r,u=Dl(),c=Rl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Rl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){r=[t,n]}};function f(t){var n=t[0],e=t[1];return r=null,i.point(n,e),r||(o.point(n,e),r)||(a.point(n,e),r)}function h(){return n=e=null,f}return f.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?s:u).invert(t)},f.stream=function(t){return n&&e===t?n:(r=[u.stream(e=t),c.stream(t),s.stream(t)],i=r.length,n={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),s.precision(t),h()):u.precision()},f.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),s.scale(t),f.translate(u.translate())):u.scale()},f.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),e=+t[0],r=+t[1];return i=u.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(l),o=c.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+Pa,r+.12*n+Pa],[e-.214*n-Pa,r+.234*n-Pa]]).stream(l),a=s.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+Pa,r+.166*n+Pa],[e-.115*n-Pa,r+.234*n-Pa]]).stream(l),h()},f.fitExtent=function(t,n){return bl(f,t,n)},f.fitSize=function(t,n){return xl(f,t,n)},f.fitWidth=function(t,n){return _l(f,t,n)},f.fitHeight=function(t,n){return wl(f,t,n)},f.scale(1070)},U.geoAzimuthalEqualArea=function(){return Cl(zl).scale(124.75).clipAngle(179.999)},U.geoAzimuthalEqualAreaRaw=zl,U.geoAzimuthalEquidistant=function(){return Cl(Fl).scale(79.4188).clipAngle(179.999)},U.geoAzimuthalEquidistantRaw=Fl,U.geoConicConformal=function(){return Nl(jl).scale(109.5).parallels([30,30])},U.geoConicConformalRaw=jl,U.geoConicEqualArea=Rl,U.geoConicEqualAreaRaw=Ll,U.geoConicEquidistant=function(){return Nl(Hl).scale(131.154).center([0,13.9389])},U.geoConicEquidistantRaw=Hl,U.geoEquirectangular=function(){return Cl(ql).scale(152.63)},U.geoEquirectangularRaw=ql,U.geoGnomonic=function(){return Cl(Yl).scale(144.049).clipAngle(60)},U.geoGnomonicRaw=Yl,U.geoIdentity=function(){var n,e,r,i,o,a,u=1,c=0,s=0,l=1,f=1,h=ms,d=null,p=ms;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(p(o=t))},postclip:function(t){return arguments.length?(p=t,d=n=e=r=null,g()):p},clipExtent:function(t){return arguments.length?(p=null==t?(d=n=e=r=null,ms):Wc(d=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),g()):null==d?null:[[d,n],[e,r]]},scale:function(t){return arguments.length?(h=Gl((u=+t)*l,u*f,c,s),g()):u},translate:function(t){return arguments.length?(h=Gl(u*l,u*f,c=+t[0],s=+t[1]),g()):[c,s]},reflectX:function(t){return arguments.length?(h=Gl(u*(l=t?-1:1),u*f,c,s),g()):l<0},reflectY:function(t){return arguments.length?(h=Gl(u*l,u*(f=t?-1:1),c,s),g()):f<0},fitExtent:function(t,n){return bl(a,t,n)},fitSize:function(t,n){return xl(a,t,n)},fitWidth:function(t,n){return _l(a,t,n)},fitHeight:function(t,n){return wl(a,t,n)}}},U.geoProjection=Cl,U.geoProjectionMutator=Tl,U.geoMercator=function(){return Bl(Il).scale(961/Ba)},U.geoMercatorRaw=Il,U.geoNaturalEarth1=function(){return Cl(Vl).scale(175.295)},U.geoNaturalEarth1Raw=Vl,U.geoOrthographic=function(){return Cl(Xl).scale(249.5).clipAngle(90+Pa)},U.geoOrthographicRaw=Xl,U.geoStereographic=function(){return Cl(Wl).scale(250).clipAngle(142)},U.geoStereographicRaw=Wl,U.geoTransverseMercator=function(){var t=Bl($l),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},U.geoTransverseMercatorRaw=$l,U.geoRotation=Lc,U.geoStream=su,U.geoTransform=function(t){return{stream:vl(t)}},U.cluster=function(){var u=Kl,c=1,s=1,l=!1;function n(n){var r,i=0;n.eachAfter(function(t){var n,e=t.children;e?(t.x=(n=e).reduce(Zl,0)/n.length,t.y=1+e.reduce(Ql,0)):(t.x=r?i+=u(t,r):0,t.y=0,r=t)});var t=function(t){for(var n;n=t.children;)t=n[0];return t}(n),e=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(n),o=t.x-u(t,e)/2,a=e.x+u(e,t)/2;return n.eachAfter(l?function(t){t.x=(t.x-n.x)*c,t.y=(n.y-t.y)*s}:function(t){t.x=(t.x-o)/(a-o)*c,t.y=(1-(n.y?t.y/n.y:1))*s})}return n.separation=function(t){return arguments.length?(u=t,n):u},n.size=function(t){return arguments.length?(l=!1,c=+t[0],s=+t[1],n):l?null:[c,s]},n.nodeSize=function(t){return arguments.length?(l=!0,c=+t[0],s=+t[1],n):l?[c,s]:null},n},U.hierarchy=tf,U.pack=function(){var e=null,n=1,r=1,i=_f;function o(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(Mf(e)).eachAfter(kf(i,.5)).eachBefore(Ef(1)):t.eachBefore(Mf(Af)).eachAfter(kf(_f,1)).eachAfter(kf(i,t.r/Math.min(n,r))).eachBefore(Ef(Math.min(n,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(e=null==(n=t)?null:xf(n),o):e;var n},o.size=function(t){return arguments.length?(n=+t[0],r=+t[1],o):[n,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:wf(+t),o):i},o},U.packSiblings=function(t){return bf(t),t},U.packEnclose=uf,U.partition=function(){var e=1,r=1,u=0,i=!1;function n(t){var o,a,n=t.height+1;return t.x0=t.y0=u,t.x1=e,t.y1=r/n,t.eachBefore((o=r,a=n,function(t){t.children&&Cf(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var n=t.x0,e=t.y0,r=t.x1-u,i=t.y1-u;r<n&&(n=r=(n+r)/2),i<e&&(e=i=(e+i)/2),t.x0=n,t.y0=e,t.x1=r,t.y1=i})),i&&t.eachBefore(Sf),t}return n.round=function(t){return arguments.length?(i=!!t,n):i},n.size=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.padding=function(t){return arguments.length?(u=+t,n):u},n},U.stratify=function(){var f=Lf,h=Rf;function n(t){var n,e,r,i,o,a,u,c=t.length,s=new Array(c),l={};for(e=0;e<c;++e)n=t[e],o=s[e]=new of(n),null!=(a=f(n,e,t))&&(a+="")&&(l[u="$"+(o.id=a)]=u in l?Nf:o);for(e=0;e<c;++e)if(o=s[e],null!=(a=h(t[e],e,t))&&(a+="")){if(!(i=l["$"+a]))throw new Error("missing: "+a);if(i===Nf)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=Tf,r.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(rf),r.parent=null,0<c)throw new Error("cycle");return r}return n.id=function(t){return arguments.length?(f=xf(t),n):f},n.parentId=function(t){return arguments.length?(h=xf(t),n):h},n},U.tree=function(){var b=Df,s=1,l=1,f=null;function n(t){var n=function(t){for(var n,e,r,i,o,a=new zf(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;0<=i;--i)u.push(e=n.children[i]=new zf(r[i],i)),e.parent=n;return(a.parent=new zf(null,0)).children=[a],a}(t);if(n.eachAfter(h),n.parent.m=-n.z,n.eachBefore(d),f)t.eachBefore(p);else{var e=t,r=t,i=t;t.eachBefore(function(t){t.x<e.x&&(e=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=e===r?1:b(e,r)/2,a=o-e.x,u=s/(r.x+o+a),c=l/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*u,t.y=t.depth*c})}return t}function h(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;0<=--o;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+b(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+b(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,i=t,o=t,a=n,u=i.parent.children[0],c=i.m,s=o.m,l=a.m,f=u.m;a=Pf(a),i=Of(i),a&&i;)u=Of(u),(o=Pf(o)).a=t,0<(r=a.z+l-i.z-c+b(a._,i._))&&(y=t,m=e,h=(v=a).a.parent===y.parent?v.a:m,g=(p=r)/((d=t).i-h.i),d.c-=g,d.s+=p,h.c+=g,d.z+=p,d.m+=p,c+=r,s+=r),l+=a.m,c+=i.m,f+=u.m,s+=o.m;a&&!Pf(o)&&(o.t=a,o.m+=l-s),i&&!Of(u)&&(u.t=i,u.m+=c-f,e=t)}var h,d,p,g,v,y,m;return e}(t,r,t.parent.A||e[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=s,t.y=t.depth*l}return n.separation=function(t){return arguments.length?(b=t,n):b},n.size=function(t){return arguments.length?(f=!1,s=+t[0],l=+t[1],n):f?null:[s,l]},n.nodeSize=function(t){return arguments.length?(f=!0,s=+t[0],l=+t[1],n):f?[s,l]:null},n},U.treemap=function(){var a=Uf,n=!1,e=1,r=1,u=[0],c=_f,s=_f,l=_f,f=_f,h=_f;function i(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(o),u=[0],n&&t.eachBefore(Sf),t}function o(t){var n=u[t.depth],e=t.x0+n,r=t.y0+n,i=t.x1-n,o=t.y1-n;i<e&&(e=i=(e+i)/2),o<r&&(r=o=(r+o)/2),t.x0=e,t.y0=r,t.x1=i,t.y1=o,t.children&&(n=u[t.depth+1]=c(t)/2,e+=h(t)-n,r+=s(t)-n,(i-=l(t)-n)<e&&(e=i=(e+i)/2),(o-=f(t)-n)<r&&(r=o=(r+o)/2),a(t,e,r,i,o))}return i.round=function(t){return arguments.length?(n=!!t,i):n},i.size=function(t){return arguments.length?(e=+t[0],r=+t[1],i):[e,r]},i.tile=function(t){return arguments.length?(a=xf(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(c="function"==typeof t?t:wf(+t),i):c},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:wf(+t),i):s},i.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:wf(+t),i):l},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:wf(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:wf(+t),i):h},i},U.treemapBinary=function(t,n,e,r,i){var o,a,m=t.children,u=m.length,b=new Array(u+1);for(b[0]=a=o=0;o<u;++o)b[o+1]=a+=m[o].value;!function t(n,e,r,i,o,a,u){if(e-1<=n){var c=m[n];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}for(var s=b[n],l=r/2+s,f=n+1,h=e-1;f<h;){var d=f+h>>>1;b[d]<l?f=d+1:h=d}l-b[f-1]<b[f]-l&&n+1<f&&--f;var p=b[f]-s,g=r-p;if(u-o<a-i){var v=(i*g+a*p)/r;t(n,f,p,i,o,v,u),t(f,e,g,v,o,a,u)}else{var y=(o*g+u*p)/r;t(n,f,p,i,o,a,y),t(f,e,g,i,y,a,u)}}(0,u,t.value,n,e,r,i)},U.treemapDice=Cf,U.treemapSlice=Ff,U.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Ff:Cf)(t,n,e,r,i)},U.treemapSquarify=Uf,U.treemapResquarify=jf,U.interpolate=xe,U.interpolateArray=de,U.interpolateBasis=ee,U.interpolateBasisClosed=re,U.interpolateDate=pe,U.interpolateNumber=ge,U.interpolateObject=ve,U.interpolateRound=_e,U.interpolateString=be,U.interpolateTransformCss=Ne,U.interpolateTransformSvg=Le,U.interpolateZoom=Fe,U.interpolateRgb=se,U.interpolateRgbBasis=fe,U.interpolateRgbBasisClosed=he,U.interpolateHsl=Be,U.interpolateHslLong=Ue,U.interpolateLab=function(n,t){var e=ce((n=Fn(n)).l,(t=Fn(t)).l),r=ce(n.a,t.a),i=ce(n.b,t.b),o=ce(n.opacity,t.opacity);return function(t){return n.l=e(t),n.a=r(t),n.b=i(t),n.opacity=o(t),n+""}},U.interpolateHcl=qe,U.interpolateHclLong=He,U.interpolateCubehelix=Ge,U.interpolateCubehelixLong=Ve,U.piecewise=function(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}},U.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},U.path=Wi,U.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},U.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)n=u,u=t[r],c+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(c*=3),a/c]},U.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(qf),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Hf(r),a=Hf(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],s=[];for(n=o.length-1;0<=n;--n)s.push(t[r[o[n]][2]]);for(n=+u;n<a.length-c;++n)s.push(t[r[a[n]][2]]);return s},U.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],s=o[1],l=!1,f=0;f<i;++f)e=(o=t[f])[0],u<(r=o[1])!=u<s&&a<(c-e)*(u-r)/(s-r)+e&&(l=!l),c=e,s=r;return l},U.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],c+=Math.sqrt(n*n+e*e);return c},U.quadtree=ia,U.randomUniform=Gf,U.randomNormal=Vf,U.randomLogNormal=Xf,U.randomBates=$f,U.randomIrwinHall=Wf,U.randomExponential=Kf,U.scaleBand=eh,U.scalePoint=function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(eh().paddingInner(1))},U.scaleIdentity=function t(){var n=[0,1];function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=Qf.call(t,ih),e):n.slice()},e.copy=function(){return t().domain(n)},fh(e)},U.scaleLinear=function t(){var n=lh(ah,ge);return n.copy=function(){return sh(n,t())},fh(n)},U.scaleLog=function t(){var n=lh(dh,ph).domain([1,10]),h=n.domain,d=10,p=yh(10),g=vh(10);function e(){return p=yh(d),g=vh(d),h()[0]<0&&(p=mh(p),g=mh(g)),n}return n.base=function(t){return arguments.length?(d=+t,e()):d},n.domain=function(t){return arguments.length?(h(t),e()):h()},n.ticks=function(t){var n,e=h(),r=e[0],i=e[e.length-1];(n=i<r)&&(c=r,r=i,i=c);var o,a,u,c=p(r),s=p(i),l=null==t?10:+t,f=[];if(!(d%1)&&s-c<l){if(c=Math.round(c)-1,s=Math.round(s)+1,0<r){for(;c<s;++c)for(a=1,o=g(c);a<d;++a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else for(;c<s;++c)for(a=d-1,o=g(c);1<=a;--a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else f=y(c,s,Math.min(s-c,l)).map(g);return n?f.reverse():f},n.tickFormat=function(t,e){if(null==e&&(e=10===d?".0e":","),"function"!=typeof e&&(e=U.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,d*t/n.ticks().length);return function(t){var n=t/g(Math.round(p(t)));return n*d<d-.5&&(n*=d),n<=r?e(t):""}},n.nice=function(){return h(hh(h(),{floor:function(t){return g(Math.floor(p(t)))},ceil:function(t){return g(Math.ceil(p(t)))}}))},n.copy=function(){return sh(n,t().base(d))},n},U.scaleOrdinal=nh,U.scaleImplicit=th,U.scalePow=xh,U.scaleSqrt=function(){return xh().exponent(.5)},U.scaleQuantile=function t(){var i=[],e=[],r=[];function o(){var t=0,n=Math.max(1,e.length);for(r=new Array(n-1);++t<n;)r[t-1]=x(i,t/n);return a}function a(t){if(!isNaN(t=+t))return e[g(r,t)]}return a.invertExtent=function(t){var n=e.indexOf(t);return n<0?[NaN,NaN]:[0<n?r[n-1]:i[0],n<r.length?r[n]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var n,e=0,r=t.length;e<r;++e)null==(n=t[e])||isNaN(n=+n)||i.push(n);return i.sort(u),o()},a.range=function(t){return arguments.length?(e=Jf.call(t),o()):e.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(i).range(e)},a},U.scaleQuantize=function t(){var e=0,r=1,i=1,o=[.5],a=[0,1];function n(t){if(t<=t)return a[g(o,t,0,i)]}function u(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*e)/(i+1);return n}return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],u()):[e,r]},n.range=function(t){return arguments.length?(i=(a=Jf.call(t)).length-1,u()):a.slice()},n.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:i<=n?[o[i-1],r]:[o[n-1],o[n]]},n.copy=function(){return t().domain([e,r]).range(a)},fh(n)},U.scaleThreshold=function t(){var e=[.5],r=[0,1],n=1;function i(t){if(t<=t)return r[g(e,t,0,n)]}return i.domain=function(t){return arguments.length?(e=Jf.call(t),n=Math.min(e.length,r.length-1),i):e.slice()},i.range=function(t){return arguments.length?(r=Jf.call(t),n=Math.min(e.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},i.copy=function(){return t().domain(e).range(r)},i},U.scaleTime=function(){return tg(Jh,Zh,Fh,Oh,Rh,Nh,Ch,Mh,U.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},U.scaleUtc=function(){return tg(Md,wd,cd,od,rd,nd,Ch,Mh,U.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},U.scaleSequential=function t(e){var r=0,n=1,i=1,o=!1;function a(t){var n=(t-r)*i;return e(o?Math.max(0,Math.min(1,n)):n)}return a.domain=function(t){return arguments.length?(r=+t[0],n=+t[1],i=r===n?0:1/(n-r),a):[r,n]},a.clamp=function(t){return arguments.length?(o=!!t,a):o},a.interpolator=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return t(e).domain([r,n]).clamp(o)},fh(a)},U.scaleDiverging=function t(e){var n=0,r=.5,i=1,o=1,a=1,u=!1;function c(t){var n=.5+((t=+t)-r)*(t<r?o:a);return e(u?Math.max(0,Math.min(1,n)):n)}return c.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],i=+t[2],o=n===r?0:.5/(r-n),a=r===i?0:.5/(i-r),c):[n,r,i]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(e=t,c):e},c.copy=function(){return t(e).domain([n,r,i]).clamp(u)},fh(c)},U.schemeCategory10=eg,U.schemeAccent=rg,U.schemeDark2=ig,U.schemePaired=og,U.schemePastel1=ag,U.schemePastel2=ug,U.schemeSet1=cg,U.schemeSet2=sg,U.schemeSet3=lg,U.interpolateBrBG=dg,U.schemeBrBG=hg,U.interpolatePRGn=gg,U.schemePRGn=pg,U.interpolatePiYG=yg,U.schemePiYG=vg,U.interpolatePuOr=bg,U.schemePuOr=mg,U.interpolateRdBu=_g,U.schemeRdBu=xg,U.interpolateRdGy=Ag,U.schemeRdGy=wg,U.interpolateRdYlBu=kg,U.schemeRdYlBu=Mg,U.interpolateRdYlGn=Sg,U.schemeRdYlGn=Eg,U.interpolateSpectral=Tg,U.schemeSpectral=Cg,U.interpolateBuGn=Lg,U.schemeBuGn=Ng,U.interpolateBuPu=Dg,U.schemeBuPu=Rg,U.interpolateGnBu=Pg,U.schemeGnBu=Og,U.interpolateOrRd=Fg,U.schemeOrRd=zg,U.interpolatePuBuGn=Bg,U.schemePuBuGn=Ig,U.interpolatePuBu=jg,U.schemePuBu=Ug,U.interpolatePuRd=Hg,U.schemePuRd=qg,U.interpolateRdPu=Gg,U.schemeRdPu=Yg,U.interpolateYlGnBu=Xg,U.schemeYlGnBu=Vg,U.interpolateYlGn=$g,U.schemeYlGn=Wg,U.interpolateYlOrBr=Zg,U.schemeYlOrBr=Kg,U.interpolateYlOrRd=Jg,U.schemeYlOrRd=Qg,U.interpolateBlues=nv,U.schemeBlues=tv,U.interpolateGreens=rv,U.schemeGreens=ev,U.interpolateGreys=ov,U.schemeGreys=iv,U.interpolatePurples=uv,U.schemePurples=av,U.interpolateReds=sv,U.schemeReds=cv,U.interpolateOranges=fv,U.schemeOranges=lv,U.interpolateCubehelixDefault=hv,U.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return gv.h=360*t-100,gv.s=1.5-1.5*n,gv.l=.8-.9*n,gv+""},U.interpolateWarm=dv,U.interpolateCool=pv,U.interpolateSinebow=function(t){var n;return t=(.5-t)*Math.PI,vv.r=255*(n=Math.sin(t))*n,vv.g=255*(n=Math.sin(t+yv))*n,vv.b=255*(n=Math.sin(t+mv))*n,vv+""},U.interpolateViridis=xv,U.interpolateMagma=_v,U.interpolateInferno=wv,U.interpolatePlasma=Av,U.create=function(t){return Pt($(t).call(document.documentElement))},U.creator=$,U.local=Ft,U.matcher=rt,U.mouse=jt,U.namespace=W,U.namespaces=X,U.clientPoint=Ut,U.select=Pt,U.selectAll=function(t){return"string"==typeof t?new Dt([document.querySelectorAll(t)],[document.documentElement]):new Dt([null==t?[]:t],Rt)},U.selection=Ot,U.selector=Z,U.selectorAll=J,U.style=ft,U.touch=qt,U.touches=function(t,n){null==n&&(n=Bt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Ut(t,n[e]);return i},U.window=lt,U.customEvent=Nt,U.arc=function(){var W=Fv,$=Iv,K=Mv(0),Z=null,Q=Bv,J=Uv,tt=jv,nt=null;function n(){var t,n,e,r,i,o,a,u,c,s,l,f,h=+W.apply(this,arguments),d=+$.apply(this,arguments),p=Q.apply(this,arguments)-Ov,g=J.apply(this,arguments)-Ov,v=kv(g-p),y=p<g;if(nt||(nt=t=Wi()),d<h&&(n=d,d=h,h=n),Rv<d)if(Pv-Rv<v)nt.moveTo(d*Sv(p),d*Nv(p)),nt.arc(0,0,d,p,g,!y),Rv<h&&(nt.moveTo(h*Sv(g),h*Nv(g)),nt.arc(0,0,h,g,p,y));else{var m,b,x=p,_=g,w=p,A=g,M=v,k=v,E=tt.apply(this,arguments)/2,S=Rv<E&&(Z?+Z.apply(this,arguments):Lv(h*h+d*d)),C=Tv(kv(d-h)/2,+K.apply(this,arguments)),T=C,N=C;if(Rv<S){var L=zv(S/h*Nv(E)),R=zv(S/d*Nv(E));(M-=2*L)>Rv?(w+=L*=y?1:-1,A-=L):(M=0,w=A=(p+g)/2),(k-=2*R)>Rv?(x+=R*=y?1:-1,_-=R):(k=0,x=_=(p+g)/2)}var D=d*Sv(x),O=d*Nv(x),P=h*Sv(A),z=h*Nv(A);if(Rv<C){var F=d*Sv(_),I=d*Nv(_),B=h*Sv(w),U=h*Nv(w);if(v<Dv){var j=Rv<M?[(r=D)+(f=((s=P-(o=F))*((i=O)-(a=I))-(l=z-a)*(r-o))/(l*(u=B-r)-s*(c=U-i)))*u,i+f*c]:[P,z],q=D-j[0],H=O-j[1],Y=F-j[0],G=I-j[1],V=1/Nv((1<(e=(q*Y+H*G)/(Lv(q*q+H*H)*Lv(Y*Y+G*G)))?0:e<-1?Dv:Math.acos(e))/2),X=Lv(j[0]*j[0]+j[1]*j[1]);T=Tv(C,(h-X)/(V-1)),N=Tv(C,(d-X)/(V+1))}}Rv<k?Rv<N?(m=qv(B,U,D,O,d,N,y),b=qv(F,I,P,z,d,N,y),nt.moveTo(m.cx+m.x01,m.cy+m.y01),N<C?nt.arc(m.cx,m.cy,N,Ev(m.y01,m.x01),Ev(b.y01,b.x01),!y):(nt.arc(m.cx,m.cy,N,Ev(m.y01,m.x01),Ev(m.y11,m.x11),!y),nt.arc(0,0,d,Ev(m.cy+m.y11,m.cx+m.x11),Ev(b.cy+b.y11,b.cx+b.x11),!y),nt.arc(b.cx,b.cy,N,Ev(b.y11,b.x11),Ev(b.y01,b.x01),!y))):(nt.moveTo(D,O),nt.arc(0,0,d,x,_,!y)):nt.moveTo(D,O),Rv<h&&Rv<M?Rv<T?(m=qv(P,z,F,I,h,-T,y),b=qv(D,O,B,U,h,-T,y),nt.lineTo(m.cx+m.x01,m.cy+m.y01),T<C?nt.arc(m.cx,m.cy,T,Ev(m.y01,m.x01),Ev(b.y01,b.x01),!y):(nt.arc(m.cx,m.cy,T,Ev(m.y01,m.x01),Ev(m.y11,m.x11),!y),nt.arc(0,0,h,Ev(m.cy+m.y11,m.cx+m.x11),Ev(b.cy+b.y11,b.cx+b.x11),y),nt.arc(b.cx,b.cy,T,Ev(b.y11,b.x11),Ev(b.y01,b.x01),!y))):nt.arc(0,0,h,A,w,y):nt.lineTo(P,z)}else nt.moveTo(0,0);if(nt.closePath(),t)return nt=null,t+""||null}return n.centroid=function(){var t=(+W.apply(this,arguments)+ +$.apply(this,arguments))/2,n=(+Q.apply(this,arguments)+ +J.apply(this,arguments))/2-Dv/2;return[Sv(n)*t,Nv(n)*t]},n.innerRadius=function(t){return arguments.length?(W="function"==typeof t?t:Mv(+t),n):W},n.outerRadius=function(t){return arguments.length?($="function"==typeof t?t:Mv(+t),n):$},n.cornerRadius=function(t){return arguments.length?(K="function"==typeof t?t:Mv(+t),n):K},n.padRadius=function(t){return arguments.length?(Z=null==t?null:"function"==typeof t?t:Mv(+t),n):Z},n.startAngle=function(t){return arguments.length?(Q="function"==typeof t?t:Mv(+t),n):Q},n.endAngle=function(t){return arguments.length?(J="function"==typeof t?t:Mv(+t),n):J},n.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:Mv(+t),n):tt},n.context=function(t){return arguments.length?(nt=null==t?null:t,n):nt},n},U.area=Wv,U.line=Xv,U.pie=function(){var p=Kv,g=$v,v=null,y=Mv(0),m=Mv(Pv),b=Mv(0);function n(e){var t,n,r,i,o,a=e.length,u=0,c=new Array(a),s=new Array(a),l=+y.apply(this,arguments),f=Math.min(Pv,Math.max(-Pv,m.apply(this,arguments)-l)),h=Math.min(Math.abs(f)/a,b.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=s[c[t]=t]=+p(e[t],t,e))&&(u+=o);for(null!=g?c.sort(function(t,n){return g(s[t],s[n])}):null!=v&&c.sort(function(t,n){return v(e[t],e[n])}),t=0,r=u?(f-a*d)/u:0;t<a;++t,l=i)n=c[t],i=l+(0<(o=s[n])?o*r:0)+d,s[n]={data:e[n],index:t,value:o,startAngle:l,endAngle:i,padAngle:h};return s}return n.value=function(t){return arguments.length?(p="function"==typeof t?t:Mv(+t),n):p},n.sortValues=function(t){return arguments.length?(g=t,v=null,n):g},n.sort=function(t){return arguments.length?(v=t,g=null,n):v},n.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:Mv(+t),n):y},n.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:Mv(+t),n):m},n.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:Mv(+t),n):b},n},U.areaRadial=ey,U.radialArea=ey,U.lineRadial=ny,U.radialLine=ny,U.pointRadial=ry,U.linkHorizontal=function(){return uy(cy)},U.linkVertical=function(){return uy(sy)},U.linkRadial=function(){var t=uy(ly);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},U.symbol=function(){var n=Mv(fy),e=Mv(64),r=null;function i(){var t;if(r||(r=t=Wi()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(n="function"==typeof t?t:Mv(t),i):n},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Mv(+t),i):e},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},U.symbols=Cy,U.symbolCircle=fy,U.symbolCross=hy,U.symbolDiamond=gy,U.symbolSquare=xy,U.symbolStar=by,U.symbolTriangle=wy,U.symbolWye=Sy,U.curveBasisClosed=function(t){return new Ry(t)},U.curveBasisOpen=function(t){return new Dy(t)},U.curveBasis=function(t){return new Ly(t)},U.curveBundle=Py,U.curveCardinalClosed=Uy,U.curveCardinalOpen=qy,U.curveCardinal=Iy,U.curveCatmullRomClosed=Xy,U.curveCatmullRomOpen=$y,U.curveCatmullRom=Gy,U.curveLinearClosed=function(t){return new Ky(t)},U.curveLinear=Yv,U.curveMonotoneX=function(t){return new nm(t)},U.curveMonotoneY=function(t){return new em(t)},U.curveNatural=function(t){return new im(t)},U.curveStep=function(t){return new am(t,.5)},U.curveStepAfter=function(t){return new am(t,1)},U.curveStepBefore=function(t){return new am(t,0)},U.stack=function(){var f=Mv([]),h=cm,d=um,p=sm;function n(t){var n,e,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(n=0;n<o;++n){for(var u,c=r[n],s=a[n]=new Array(i),l=0;l<i;++l)s[l]=u=[0,+p(t[l],c,l,t)],u.data=t[l];s.key=c}for(n=0,e=h(a);n<o;++n)a[e[n]].index=n;return d(a,e),a}return n.keys=function(t){return arguments.length?(f="function"==typeof t?t:Mv(iy.call(t)),n):f},n.value=function(t){return arguments.length?(p="function"==typeof t?t:Mv(+t),n):p},n.order=function(t){return arguments.length?(h=null==t?cm:"function"==typeof t?t:Mv(iy.call(t)),n):h},n.offset=function(t){return arguments.length?(d=null==t?um:t,n):d},n},U.stackOffsetExpand=function(t,n){if(0<(r=t.length)){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}um(t,n)}},U.stackOffsetDiverging=function(t,n){if(1<(u=t.length))for(var e,r,i,o,a,u,c=0,s=t[n[0]].length;c<s;++c)for(o=a=0,e=0;e<u;++e)0<=(i=(r=t[n[e]][c])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},U.stackOffsetNone=um,U.stackOffsetSilhouette=function(t,n){if(0<(e=t.length)){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}um(t,n)}},U.stackOffsetWiggle=function(t,n){if(0<(i=t.length)&&0<(r=(e=t[n[0]]).length)){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,s=0;u<i;++u){for(var l=t[n[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=f,s+=h*f}e[a-1][1]+=e[a-1][0]=o,c&&(o-=s/c)}e[a-1][1]+=e[a-1][0]=o,um(t,n)}},U.stackOrderAscending=lm,U.stackOrderDescending=function(t){return lm(t).reverse()},U.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(fm),o=cm(t).sort(function(t,n){return i[n]-i[t]}),a=0,u=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],s.push(e));return s.reverse().concat(c)},U.stackOrderNone=cm,U.stackOrderReverse=function(t){return cm(t).reverse()},U.timeInterval=Ah,U.timeMillisecond=Mh,U.timeMilliseconds=kh,U.utcMillisecond=Mh,U.utcMilliseconds=kh,U.timeSecond=Ch,U.timeSeconds=Th,U.utcSecond=Ch,U.utcSeconds=Th,U.timeMinute=Nh,U.timeMinutes=Lh,U.timeHour=Rh,U.timeHours=Dh,U.timeDay=Oh,U.timeDays=Ph,U.timeWeek=Fh,U.timeWeeks=Yh,U.timeSunday=Fh,U.timeSundays=Yh,U.timeMonday=Ih,U.timeMondays=Gh,U.timeTuesday=Bh,U.timeTuesdays=Vh,U.timeWednesday=Uh,U.timeWednesdays=Xh,U.timeThursday=jh,U.timeThursdays=Wh,U.timeFriday=qh,U.timeFridays=$h,U.timeSaturday=Hh,U.timeSaturdays=Kh,U.timeMonth=Zh,U.timeMonths=Qh,U.timeYear=Jh,U.timeYears=td,U.utcMinute=nd,U.utcMinutes=ed,U.utcHour=rd,U.utcHours=id,U.utcDay=od,U.utcDays=ad,U.utcWeek=cd,U.utcWeeks=gd,U.utcSunday=cd,U.utcSundays=gd,U.utcMonday=sd,U.utcMondays=vd,U.utcTuesday=ld,U.utcTuesdays=yd,U.utcWednesday=fd,U.utcWednesdays=md,U.utcThursday=hd,U.utcThursdays=bd,U.utcFriday=dd,U.utcFridays=xd,U.utcSaturday=pd,U.utcSaturdays=_d,U.utcMonth=wd,U.utcMonths=Ad,U.utcYear=Md,U.utcYears=kd,U.timeFormatDefaultLocale=jp,U.timeFormatLocale=Td,U.isoFormat=Hp,U.isoParse=Yp,U.now=ir,U.timer=ur,U.timerFlush=cr,U.timeout=hr,U.interval=function(e,r,i){var o=new ar,a=r;return null==r?o.restart(e,r,i):(r=+r,i=null==i?ir():+i,o.restart(function t(n){n+=a,o.restart(t,a+=r,i),e(n)},r,i)),o},U.transition=Rr,U.active=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>vr&&e.name===n)return new Lr([[t]],hi,n,+r);return null},U.interrupt=Er,U.voronoi=function(){var i=dm,o=pm,n=null;function e(r){return new Vm(r.map(function(t,n){var e=[Math.round(i(t,n,r)/Hm)*Hm,Math.round(o(t,n,r)/Hm)*Hm];return e.index=n,e.data=t,e}),n)}return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(i="function"==typeof t?t:hm(+t),e):i},e.y=function(t){return arguments.length?(o="function"==typeof t?t:hm(+t),e):o},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},U.zoom=function(){var d,o,u=tb,l=nb,p=ob,i=rb,n=ib,a=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Fe,s=[],e=q("start","zoom","end"),h=500,v=150,y=0;function m(t){t.property("__zoom",eb).on("wheel.zoom",r).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(n).on("touchstart.zoom",S).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new $m(n,t.x,t.y)}function x(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new $m(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,c,s){t.on("start.zoom",function(){A(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=A(this,t),n=l.apply(this,t),i=s||_(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),e=this.__zoom,a="function"==typeof c?c.apply(this,t):c,u=f(e.invert(i).concat(o/e.k),a.invert(i).concat(o/a.k));return function(t){if(1===t)t=a;else{var n=u(t),e=o/n[2];t=new $m(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function A(t,n){for(var e,r=0,i=s.length;r<i;++r)if((e=s[r]).that===t)return e;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=l.apply(t,n)}function r(){if(u.apply(this,arguments)){var t=A(this,arguments),n=this.__zoom,e=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,i.apply(this,arguments)))),r=jt(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],Er(this),t.start()}Jm(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",p(x(b(n,e),t.mouse[0],t.mouse[1]),t.extent,g))}}function k(){if(!o&&u.apply(this,arguments)){var e=A(this,arguments),t=Pt(U.event.view).on("mousemove.zoom",function(){if(Jm(),!e.moved){var t=U.event.clientX-r,n=U.event.clientY-i;e.moved=y<t*t+n*n}e.zoom("mouse",p(x(e.that.__zoom,e.mouse[0]=jt(e.that),e.mouse[1]),e.extent,g))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Vt(U.event.view,e.moved),Jm(),e.end()},!0),n=jt(this),r=U.event.clientX,i=U.event.clientY;Gt(U.event.view),Qm(),e.mouse=[n,this.__zoom.invert(n)],Er(this),e.start()}}function E(){if(u.apply(this,arguments)){var t=this.__zoom,n=jt(this),e=t.invert(n),r=t.k*(U.event.shiftKey?.5:2),i=p(x(b(t,r),n,e),l.apply(this,arguments),g);Jm(),0<c?Pt(this).transition().duration(c).call(w,i,n):Pt(this).call(m.transform,i)}}function S(){if(u.apply(this,arguments)){var t,n,e,r,i=A(this,arguments),o=U.event.changedTouches,a=o.length;for(Qm(),n=0;n<a;++n)r=[r=qt(this,o,(e=o[n]).identifier),this.__zoom.invert(r),e.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(d&&(d=clearTimeout(d),!i.touch1))return i.end(),void((r=Pt(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(d=setTimeout(function(){d=null},h),Er(this),i.start())}}function C(){var t,n,e,r,i=A(this,arguments),o=U.event.changedTouches,a=o.length;for(Jm(),d&&(d=clearTimeout(d)),t=0;t<a;++t)e=qt(this,o,(n=o[t]).identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var u=i.touch0[0],c=i.touch0[1],s=i.touch1[0],l=i.touch1[1],f=(f=s[0]-u[0])*f+(f=s[1]-u[1])*f,h=(h=l[0]-c[0])*h+(h=l[1]-c[1])*h;n=b(n,Math.sqrt(f/h)),e=[(u[0]+s[0])/2,(u[1]+s[1])/2],r=[(c[0]+l[0])/2,(c[1]+l[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",p(x(n,e,r),i.extent,g))}function T(){var t,n,e=A(this,arguments),r=U.event.changedTouches,i=r.length;for(Qm(),o&&clearTimeout(o),o=setTimeout(function(){o=null},h),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}return m.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",eb),t!==e?w(t,n):e.interrupt().each(function(){A(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},m.scaleBy=function(t,n){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},m.scaleTo=function(t,o){m.transform(t,function(){var t=l.apply(this,arguments),n=this.__zoom,e=_(t),r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return p(x(b(n,i),e,r),t,g)})},m.translateBy=function(t,n,e){m.transform(t,function(){return p(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),l.apply(this,arguments),g)})},m.translateTo=function(t,r,i){m.transform(t,function(){var t=l.apply(this,arguments),n=this.__zoom,e=_(t);return p(Km.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)})},M.prototype={start:function(){return 1==++this.active&&(this.index=s.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(s.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Nt(new Wm(m,t,this.that.__zoom),e.apply,e,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Xm(+t),m):i},m.filter=function(t){return arguments.length?(u="function"==typeof t?t:Xm(!!t),m):u},m.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Xm(!!t),m):n},m.extent=function(t){return arguments.length?(l="function"==typeof t?t:Xm([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):l},m.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],m):[a[0],a[1]]},m.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],m):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},m.constrain=function(t){return arguments.length?(p=t,m):p},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=e.on.apply(e,arguments);return t===e?m:t},m.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,m):Math.sqrt(y)},m},U.zoomTransform=Zm,U.zoomIdentity=Km,Object.defineProperty(U,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";var e=[].slice,o={};function n(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(n){if(!n._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=a(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||o)}}(n)}catch(t){if(n._tasks[n._ended+n._active-1])u(n,t);else if(!n._data)throw t}}function a(e,r){return function(t,n){e._tasks[r]&&(--e._active,++e._ended,(e._tasks[r]=null)==e._error&&(null!=t?u(e,t):(e._data[r]=n,e._waiting?i(e):c(e))))}}function u(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;0<=--r;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,c(t)}function c(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function r(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new n(t)}n.prototype=r.prototype={constructor:n,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=e.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),i(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},c(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,c(this),this}},t.queue=r,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.topojson=t.topojson||{})}(this,function(t){"use strict";var n=function(t){return t},h=function(t){if(null==t)return n;var o,a,u=t.scale[0],c=t.scale[1],s=t.translate[0],l=t.translate[1];return function(t,n){n||(o=a=0);var e=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*u+s,i[1]=(a+=t[1])*c+l;e<r;)i[e]=t[e],++e;return i}},p=function(t){var n,i=h(t.transform),o=1/0,a=o,u=-o,c=-o;function e(t){(t=i(t))[0]<o&&(o=t[0]),t[0]>u&&(u=t[0]),t[1]<a&&(a=t[1]),t[1]>c&&(c=t[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}for(n in t.arcs.forEach(function(t){for(var n,e=-1,r=t.length;++e<r;)(n=i(t[e],e))[0]<o&&(o=n[0]),n[0]>u&&(u=n[0]),n[1]<a&&(a=n[1]),n[1]>c&&(c=n[1])}),t.objects)r(t.objects[n]);return[o,a,u,c]},l=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e},o=function(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return e(n,t)})}:e(n,t)};function e(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=a(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function a(t,n){var o=h(t.transform),a=t.arcs;function i(t,n){n.length&&n.pop();for(var e=a[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(o(e[r],r));t<0&&l(n,i)}function u(t){return o(t)}function c(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function e(t){for(var n=c(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(e)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=u(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(u);break;case"LineString":e=c(n.arcs);break;case"MultiLineString":e=n.arcs.map(c);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}var f=function(c,i){var o={},s={},l={},a=[],u=-1;function t(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}return i.forEach(function(t,n){var e,r=c.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(e=i[++u],i[u]=t,i[n]=e)}),i.forEach(function(t){var n,e,r=function(t){var n,e=c.arcs[t<0?~t:t],r=e[0];c.transform?(n=[0,0],e.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=e[e.length-1];return t<0?[n,r]:[r,n]}(t),i=r[0],o=r[1];if(n=l[i])if(delete l[n.end],n.push(t),n.end=o,e=s[o]){delete s[e.start];var a=e===n?n:n.concat(e);s[a.start=n.start]=l[a.end=e.end]=a}else s[n.start]=l[n.end]=n;else if(n=s[o])if(delete s[n.start],n.unshift(t),n.start=i,e=l[i]){delete l[e.end];var u=e===n?n:e.concat(n);s[u.start=e.start]=l[u.end=n.end]=u}else s[n.start]=l[n.end]=n;else s[(n=[t]).start=i]=l[n.end=o]=n}),t(l,s),t(s,l),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a};function r(t,n,e){var r,i,o;if(1<arguments.length)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch((r=n).type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":n.arcs.forEach(c)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:f(t,r)}}function i(u,t){var c={},e=[],r=[];function i(n){n.forEach(function(t){t.forEach(function(t){(c[t=t<0?~t:t]||(c[t]=[])).push(n)})}),e.push(n)}function s(t){return function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)}(a(u,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(function t(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"Polygon":i(n.arcs);break;case"MultiPolygon":n.arcs.forEach(i)}}),e.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,r.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),e.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(t){var n,e=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){c[t<0?~t:t].length<2&&e.push(t)})})}),1<(n=(e=f(u,e)).length))for(var r,i,o=1,a=s(e[0]);o<n;++o)(r=s(e[o]))>a&&(i=e[0],e[0]=e[o],e[o]=i,a=r);return e})}}var g=function(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e},v=function(t){if(null==t)return n;var u,c,s=t.scale[0],l=t.scale[1],f=t.translate[0],h=t.translate[1];return function(t,n){n||(u=c=0);var e=2,r=t.length,i=new Array(r),o=Math.round((t[0]-f)/s),a=Math.round((t[1]-h)/l);for(i[0]=o-u,u=o,i[1]=a-c,c=a;e<r;)i[e]=t[e],++e;return i}},k=function(o,a,u,t,c,n){3===arguments.length&&(t=n=Array,c=null);for(var s=new t(o=1<<Math.max(4,Math.ceil(Math.log(o)/Math.LN2))),l=new n(o),f=o-1,e=0;e<o;++e)s[e]=c;return{set:function(t,n){for(var e=a(t)&f,r=s[e],i=0;r!=c;){if(u(r,t))return l[e]=n;if(++i>=o)throw new Error("full hashmap");r=s[e=e+1&f]}return s[e]=t,l[e]=n},maybeSet:function(t,n){for(var e=a(t)&f,r=s[e],i=0;r!=c;){if(u(r,t))return l[e];if(++i>=o)throw new Error("full hashmap");r=s[e=e+1&f]}return s[e]=t,l[e]=n},get:function(t,n){for(var e=a(t)&f,r=s[e],i=0;r!=c;){if(u(r,t))return l[e];if(++i>=o)break;r=s[e=e+1&f]}return n},keys:function(){for(var t=[],n=0,e=s.length;n<e;++n){var r=s[n];r!=c&&t.push(r)}return t}}},E=function(t,n){return t[0]===n[0]&&t[1]===n[1]},u=new ArrayBuffer(16),c=new Uint32Array(u),S=function(t){var n=c[0]^c[1];return 2147483647&(n=n<<5^n>>7^c[2]^c[3])},x=function(t){var n,e,r,i,o=t.coordinates,a=t.lines,u=t.rings,c=function(){for(var t=k(1.4*o.length,_,w,Int32Array,-1,Int32Array),n=new Int32Array(o.length),e=0,r=o.length;e<r;++e)n[e]=t.maybeSet(e,e);return n}(),s=new Int32Array(o.length),l=new Int32Array(o.length),f=new Int32Array(o.length),h=new Int8Array(o.length),d=0;for(n=0,e=o.length;n<e;++n)s[n]=l[n]=f[n]=-1;for(n=0,e=a.length;n<e;++n){var p=a[n],g=p[0],v=p[1];for(r=c[g],i=c[++g],++d,h[r]=1;++g<=v;)x(n,r,r=i,i=c[g]);++d,h[i]=1}for(n=0,e=o.length;n<e;++n)s[n]=-1;for(n=0,e=u.length;n<e;++n){var y=u[n],m=y[0]+1,b=y[1];for(x(n,c[b-1],r=c[m-1],i=c[m]);++m<=b;)x(n,r,r=i,i=c[m])}function x(t,n,e,r){if(s[e]!==t){s[e]=t;var i=l[e];if(0<=i){var o=f[e];i===n&&o===r||i===r&&o===n||(++d,h[e]=1)}else l[e]=n,f[e]=r}}function _(t){return S(o[t])}function w(t,n){return E(o[t],o[n])}s=l=f=null;var A,M=function(i,o,a,t,u){3===arguments.length&&(t=Array,u=null);for(var c=new t(i=1<<Math.max(4,Math.ceil(Math.log(i)/Math.LN2))),s=i-1,n=0;n<i;++n)c[n]=u;return{add:function(t){for(var n=o(t)&s,e=c[n],r=0;e!=u;){if(a(e,t))return!0;if(++r>=i)throw new Error("full hashset");e=c[n=n+1&s]}return c[n]=t,!0},has:function(t){for(var n=o(t)&s,e=c[n],r=0;e!=u;){if(a(e,t))return!0;if(++r>=i)break;e=c[n=n+1&s]}return!1},values:function(){for(var t=[],n=0,e=c.length;n<e;++n){var r=c[n];r!=u&&t.push(r)}return t}}}(1.4*d,S,E);for(n=0,e=o.length;n<e;++n)h[A=c[n]]&&M.add(o[A]);return M};function _(t,n,e){for(var r,i=n+(e---n>>1);n<i;++n,--e)r=t[n],t[n]=t[e],t[e]=r}function d(t){var n,e=y(t.geometry);for(n in null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),t.properties){e.properties=t.properties;break}return e}function y(t){if(null==t)return{type:null};var n="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(y)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(n.bbox=t.bbox),n}function m(t){var n,e=t[0],r=t[1];return r<e&&(n=e,e=r,r=n),e+31*r}function b(t,n){var e,r=t[0],i=t[1],o=n[0],a=n[1];return i<r&&(e=r,r=i,i=e),a<o&&(e=o,o=a,a=e),r===o&&i===a}function s(){return!0}function w(t){return t}function A(t){return null!=t.type}var M=function(t){var n,c=new Array(t.arcs.length),s=0;function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){for(var n=0,e=t.length;n<e;++n,++s)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];a<0&&(a=~a);var u=c[a];null==u?c[a]=s:u!==s&&(c[a]=-1)}}for(n in t.objects)e(t.objects[n]);return function(t){for(var n,e=0,r=t.length;e<r;++e)if(-1===c[(n=t[e])<0?~n:n])return!0;return!1}};function C(t){var n=t[0],e=t[1],r=t[2];return Math.abs((n[0]-r[0])*(e[1]-n[1])-(n[0]-e[0])*(r[1]-n[1]))/2}function T(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)/2}var N=function(e,r,i){return r=null==r?Number.MIN_VALUE:+r,null==i&&(i=T),function(t,n){return i(o(e,{type:"Polygon",arcs:[t]}).geometry.coordinates[0],n)>=r}};function L(t,n){return t[1][2]-n[1][2]}function R(t){return[t[0],t[1],0]}function D(t,n){return n-t}var O=Math.PI,P=2*O,z=O/4,F=O/180,I=Math.abs,B=Math.atan2,U=Math.cos,j=Math.sin;function q(t,n){for(var e,r,i=0,o=t.length,a=0,u=t[n?i++:o-1],c=u[0]*F,s=u[1]*F/2+z,l=U(s),f=j(s);i<o;++i){e=c,c=(u=t[i])[0]*F,s=u[1]*F/2+z,r=l,l=U(s);var h=c-e,d=0<=h?1:-1,p=d*h,g=f*(f=j(s)),v=r*l+g*U(p),y=g*d*j(p);a+=B(y,v)}return a}t.bbox=p,t.feature=o,t.mesh=function(t){return a(t,r.apply(this,arguments))},t.meshArcs=r,t.merge=function(t){return a(t,i.apply(this,arguments))},t.mergeArcs=i,t.neighbors=function(t){var r={},n=t.map(function(){return[]});function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function i(t,n){t.forEach(function(t){e(t,n)})}var o={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(t,n){t.forEach(function(t){i(t,n)})}};for(var a in t.forEach(function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){n(t,e)}):t.type in o&&o[t.type](t.arcs,e)}),r)for(var u=r[a],c=u.length,s=0;s<c;++s)for(var l=s+1;l<c;++l){var f,h=u[s],d=u[l];(f=n[h])[a=g(f,d)]!==d&&f.splice(a,0,d),(f=n[d])[a=g(f,h)]!==h&&f.splice(a,0,h)}return n},t.quantize=function(t,n){if(t.transform)throw new Error("already quantized");if(n&&n.scale)u=t.bbox;else{if(!(2<=(e=Math.floor(n))))throw new Error("n must be ≥2");var e,r=(u=t.bbox||p(t))[0],i=u[1],o=u[2],a=u[3];n={scale:[o-r?(o-r)/(e-1):1,a-i?(a-i)/(e-1):1],translate:[r,i]}}var u,c,s=v(n),l=t.objects,f={};function h(t){return s(t)}function d(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":n={type:"Point",coordinates:h(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(h)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}for(c in l)f[c]=d(l[c]);return{type:"Topology",bbox:u,transform:n,objects:f,arcs:t.arcs.map(function(t){var n,e=0,r=1,i=t.length,o=new Array(i);for(o[0]=s(t[0],0);++e<i;)((n=s(t[e],e))[0]||n[1])&&(o[r++]=n);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}},t.transform=h,t.untransform=v,t.topology=function(t,n){var e=function(t){var r=1/0,i=1/0,o=-1/0,a=-1/0;function n(t){null!=t&&e.hasOwnProperty(t.type)&&e[t.type](t)}var e={GeometryCollection:function(t){t.geometries.forEach(n)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){c(t.arcs)},MultiLineString:function(t){t.arcs.forEach(c)},Polygon:function(t){t.arcs.forEach(c)},MultiPolygon:function(t){t.arcs.forEach(s)}};function u(t){var n=t[0],e=t[1];n<r&&(r=n),o<n&&(o=n),e<i&&(i=e),a<e&&(a=e)}function c(t){t.forEach(u)}function s(t){t.forEach(c)}for(var l in t)n(t[l]);return r<=o&&i<=a?[r,i,o,a]:void 0}(t=function(t){var n,e,r={};for(n in t)r[n]=null==(e=t[n])?{type:null}:("FeatureCollection"===e.type?function(t){var n={type:"GeometryCollection",geometries:t.features.map(d)};return null!=t.bbox&&(n.bbox=t.bbox),n}:"Feature"===e.type?d:y)(e);return r}(t)),r=0<n&&e&&function(t,n,e){var f=n[0],h=n[1],r=n[2],i=n[3],d=r-f?(e-1)/(r-f):1,p=i-h?(e-1)/(i-h):1;function o(t){return[Math.round((t[0]-f)*d),Math.round((t[1]-h)*p)]}function a(t,n){for(var e,r,i,o,a,u=-1,c=0,s=t.length,l=new Array(s);++u<s;)e=t[u],o=Math.round((e[0]-f)*d),a=Math.round((e[1]-h)*p),o===r&&a===i||(l[c++]=[r=o,i=a]);for(l.length=c;c<n;)c=l.push([l[0][0],l[0][1]]);return l}function u(t){return a(t,2)}function c(t){return a(t,4)}function s(t){return t.map(c)}function l(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){t.coordinates=o(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(o)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var v in t)l(t[v]);return{scale:[1/d,1/p],translate:[f,h]}}(t,e,n),i=function(t){var n,e,r,i,l=t.coordinates,o=t.lines,a=t.rings,u=o.length+a.length;for(delete t.lines,delete t.rings,r=0,i=o.length;r<i;++r)for(n=o[r];n=n.next;)++u;for(r=0,i=a.length;r<i;++r)for(e=a[r];e=e.next;)++u;var s=k(2*u*1.4,S,E),f=t.arcs=[];for(r=0,i=o.length;r<i;++r)for(n=o[r];c(n),n=n.next;);for(r=0,i=a.length;r<i;++r)if((e=a[r]).next)for(;c(e),e=e.next;);else h(e);function c(t){var n,e,r,i,o,a,u,c;if(r=s.get(n=l[t[0]]))for(u=0,c=r.length;u<c;++u)if(d(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(o=s.get(e=l[t[1]]))for(u=0,c=o.length;u<c;++u)if(p(a=o[u],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):s.set(n,[t]),o?o.push(t):s.set(e,[t]),f.push(t)}function h(t){var n,e,r,i,o;if(e=s.get(l[t[0]]))for(i=0,o=e.length;i<o;++i){if(g(r=e[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}if(e=s.get(n=l[t[0]+y(t)]))for(i=0,o=e.length;i<o;++i){if(g(r=e[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}e?e.push(t):s.set(n,[t]),f.push(t)}function d(t,n){var e=t[0],r=n[0],i=t[1];if(e-i!=r-n[1])return!1;for(;e<=i;++e,++r)if(!E(l[e],l[r]))return!1;return!0}function p(t,n){var e=t[0],r=n[0],i=t[1],o=n[1];if(e-i!=r-o)return!1;for(;e<=i;++e,--o)if(!E(l[e],l[o]))return!1;return!0}function g(t,n){var e=t[0],r=n[0],i=t[1]-e;if(i!==n[1]-r)return!1;for(var o=y(t),a=y(n),u=0;u<i;++u)if(!E(l[e+(u+o)%i],l[r+(u+a)%i]))return!1;return!0}function v(t,n){var e=t[0],r=n[0],i=t[1],o=n[1],a=i-e;if(a!==o-r)return!1;for(var u=y(t),c=a-y(n),s=0;s<a;++s)if(!E(l[e+(s+u)%a],l[o-(s+c)%a]))return!1;return!0}function y(t){for(var n=t[0],e=t[1],r=n,i=r,o=l[r];++r<e;){var a=l[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-n}return t}(function(t){var n,e,r,i,o,a,u,c=x(t),s=t.coordinates,l=t.lines,f=t.rings;for(e=0,r=l.length;e<r;++e)for(var h=l[e],d=h[0],p=h[1];++d<p;)c.has(s[d])&&(n={0:d,1:h[1]},h[1]=d,h=h.next=n);for(e=0,r=f.length;e<r;++e)for(var g=f[e],v=g[0],y=v,m=g[1],b=c.has(s[v]);++y<m;)c.has(s[y])&&(b?(n={0:y,1:g[1]},g[1]=y,g=g.next=n):(u=(a=m)-y,_(i=s,o=v,a),_(i,o,o+u),_(i,o+u,a),s[m]=s[v],b=!0,y=v));return t}(function(t){var i=-1,o=[],a=[],u=[];function n(t){t&&e.hasOwnProperty(t.type)&&e[t.type](t)}var e={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};function r(t){for(var n=0,e=t.length;n<e;++n)u[++i]=t[n];var r={0:i-e+1,1:i};return o.push(r),r}function c(t){for(var n=0,e=t.length;n<e;++n)u[++i]=t[n];var r={0:i-e+1,1:i};return a.push(r),r}function s(t){return t.map(c)}for(var l in t)n(t[l]);return{type:"Topology",coordinates:u,lines:o,rings:a,objects:t}}(t))),o=i.coordinates,a=k(1.4*i.arcs.length,m,b);function u(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}t=i.objects,i.bbox=e,i.arcs=i.arcs.map(function(t,n){return a.set(t,n),o.slice(t[0],t[1]+1)}),delete i.coordinates,o=null;var c={GeometryCollection:function(t){t.geometries.forEach(u)},LineString:function(t){t.arcs=s(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(s)},Polygon:function(t){t.arcs=t.arcs.map(s)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function s(t){var n=[];do{var e=a.get(t);n.push(t[0]<t[1]?e:~e)}while(t=t.next);return n}function l(t){return t.map(s)}for(var f in t)u(t[f]);return r&&(i.transform=r,i.arcs=function(t){for(var n=-1,e=t.length;++n<e;){for(var r,i,o=t[n],a=0,u=1,c=o.length,s=o[0],l=s[0],f=s[1];++a<c;)r=(s=o[a])[0],i=s[1],r===l&&i===f||(o[u++]=[r-l,i-f],l=r,f=i);1===u&&(o[u++]=[0,0]),o.length=u}return t}(i.arcs)),i},t.filter=function(t,e){var n,r=t.objects,i={};function o(t){var n,e;switch(t.type){case"Polygon":n=(e=a(t.arcs))?{type:"Polygon",arcs:e}:{type:null};break;case"MultiPolygon":n=(e=t.arcs.map(a).filter(w)).length?{type:"MultiPolygon",arcs:e}:{type:null};break;case"GeometryCollection":n=(e=t.geometries.map(o).filter(A)).length?{type:"GeometryCollection",geometries:e}:{type:null};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function a(t){return t.length&&(n=t[0],e(n,!1))?[t[0]].concat(t.slice(1).filter(u)):null;var n}function u(t){return e(t,!0)}for(n in null==e&&(e=s),r)i[n]=o(r[n]);return function(t){var n,e,r=t.objects,i={},o=t.arcs,a=o.length,u=-1,c=new Array(a),s=0,l=-1;function f(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(f);break;case"LineString":d(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(d);break;case"MultiPolygon":t.arcs.forEach(p)}}function h(t){t<0&&(t=~t),c[t]||(c[t]=1,++s)}function d(t){t.forEach(h)}function p(t){t.forEach(d)}function g(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(g)};break;case"LineString":n={type:"LineString",arcs:y(t.arcs)};break;case"MultiLineString":n={type:"MultiLineString",arcs:t.arcs.map(y)};break;case"Polygon":n={type:"Polygon",arcs:t.arcs.map(y)};break;case"MultiPolygon":n={type:"MultiPolygon",arcs:t.arcs.map(m)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function v(t){return t<0?~c[~t]:c[t]}function y(t){return t.map(v)}function m(t){return t.map(y)}for(e in r)f(r[e]);for(n=new Array(s);++u<a;)c[u]&&(c[u]=++l,n[l]=o[u]);for(e in r)i[e]=g(r[e]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:n}}({type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:t.arcs})},t.filterAttached=M,t.filterAttachedWeight=function(t,n,e){var r=M(t),i=N(t,n,e);return function(t,n){return r(t,n)||i(t,n)}},t.filterWeight=N,t.planarRingArea=T,t.planarTriangleArea=C,t.presimplify=function(t,c){var s=t.transform?h(t.transform):R,l=function(){var t={},a=[],u=0;function r(t,n){for(;0<n;){var e=(n+1>>1)-1,r=a[e];if(0<=L(t,r))break;a[r._=n]=r,a[t._=n=e]=t}}function i(t,n){for(;;){var e=n+1<<1,r=e-1,i=n,o=a[i];if(r<u&&L(a[r],o)<0&&(o=a[i=r]),e<u&&L(a[e],o)<0&&(o=a[i=e]),i===n)break;a[o._=n]=o,a[t._=n=i]=t}}return t.push=function(t){return r(a[t._=u]=t,u++),u},t.pop=function(){if(!(u<=0)){var t,n=a[0];return 0<--u&&(t=a[u],i(a[t._=0]=t,0)),n}},t.remove=function(t){var n,e=t._;if(a[e]===t)return e!==--u&&(L(n=a[u],t)<0?r:i)(a[n._=e]=n,e),e},t}();null==c&&(c=C);var n=t.arcs.map(function(t){var n,e,r,i=[],o=0;for(e=1,r=(t=t.map(s)).length-1;e<r;++e)(n=[t[e-1],t[e],t[e+1]])[1][2]=c(n),i.push(n),l.push(n);for(t[0][2]=t[r][2]=1/0,e=0,r=i.length;e<r;++e)(n=i[e]).previous=i[e-1],n.next=i[e+1];for(;n=l.pop();){var a=n.previous,u=n.next;n[1][2]<o?n[1][2]=o:o=n[1][2],a&&(a.next=u,a[2]=n[2],f(a)),u&&(u.previous=a,u[0]=n[0],f(u))}return t});function f(t){l.remove(t),t[1][2]=c(t),l.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:n}},t.quantile=function(t,n){var e=[];return t.arcs.forEach(function(t){t.forEach(function(t){isFinite(t[2])&&e.push(t[2])})}),e.length&&function(t,n){if(e=t.length){if((n=+n)<=0||e<2)return t[0];if(1<=n)return t[e-1];var e,r=(e-1)*n,i=Math.floor(r),o=t[i],a=t[i+1];return o+(a-o)*(r-i)}}(e.sort(D),n)},t.simplify=function(t,a){a=null==a?Number.MIN_VALUE:+a;var n=t.arcs.map(function(t){for(var n,e=-1,r=0,i=t.length,o=new Array(i);++e<i;)(n=t[e])[2]>=a&&(o[r++]=[n[0],n[1]]);return o.length=r,o});return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:n}},t.sphericalRingArea=function(t,n){var e=q(t,!0);return n&&(e*=-1),2*(e<0?P+e:e)},t.sphericalTriangleArea=function(t){return 2*I(q(t,!1))},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("d3-collection"),require("d3-selection")):"function"==typeof define&&define.amd?define(["d3-collection","d3-selection"],n):(t.d3=t.d3||{},t.d3.tip=n(t.d3,t.d3))}(this,function(o,a){"use strict";return function(){var s=function(){return"n"},l=function(){return[0,0]},f=function(){return" "},h=document.body,e=t(),r=null,d=null,p=null;function g(t){var n;n=t.node(),(r=n?"svg"===n.tagName.toLowerCase()?n:n.ownerSVGElement:null)&&(d=r.createSVGPoint(),h.appendChild(e))}g.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(p=t.pop());var n,e=f.apply(this,t),r=l.apply(this,t),i=s.apply(this,t),o=m(),a=y.length,u=document.documentElement.scrollTop||h.scrollTop,c=document.documentElement.scrollLeft||h.scrollLeft;for(o.html(e).style("opacity",1).style("pointer-events","all");a--;)o.classed(y[a],!1);return n=v.get(i).apply(this),o.classed(i,!0).style("top",n.top+r[0]+u+"px").style("left",n.left+r[1]+c+"px"),g},g.hide=function(){return m().style("opacity",0).style("pointer-events","none"),g},g.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return m().attr(t);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.attr.apply(m(),e),g},g.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return m().style(t);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.style.apply(m(),e),g},g.direction=function(t){return arguments.length?(s=null==t?t:i(t),g):s},g.offset=function(t){return arguments.length?(l=null==t?t:i(t),g):l},g.html=function(t){return arguments.length?(f=null==t?t:i(t),g):f},g.rootElement=function(t){return arguments.length?(h=null==t?t:i(t),g):h},g.destroy=function(){return e&&(m().remove(),e=null),g};var v=o.map({n:function(){var t=n(this);return{top:t.n.y-e.offsetHeight,left:t.n.x-e.offsetWidth/2}},s:function(){var t=n(this);return{top:t.s.y,left:t.s.x-e.offsetWidth/2}},e:function(){var t=n(this);return{top:t.e.y-e.offsetHeight/2,left:t.e.x}},w:function(){var t=n(this);return{top:t.w.y-e.offsetHeight/2,left:t.w.x-e.offsetWidth}},nw:function(){var t=n(this);return{top:t.nw.y-e.offsetHeight,left:t.nw.x-e.offsetWidth}},ne:function(){var t=n(this);return{top:t.ne.y-e.offsetHeight,left:t.ne.x}},sw:function(){var t=n(this);return{top:t.sw.y,left:t.sw.x-e.offsetWidth}},se:function(){var t=n(this);return{top:t.se.y,left:t.se.x}}}),y=v.keys();function t(){var t=a.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function m(){return null==e&&(e=t(),h.appendChild(e)),a.select(e)}function n(t){for(var n=p||t;null==n.getScreenCTM&&null!=n.parentNode;)n=n.parentNode;var e={},r=n.getScreenCTM(),i=n.getBBox(),o=i.width,a=i.height,u=i.x,c=i.y;return d.x=u,d.y=c,e.nw=d.matrixTransform(r),d.x+=o,e.ne=d.matrixTransform(r),d.y+=a,e.se=d.matrixTransform(r),d.x-=o,e.sw=d.matrixTransform(r),d.y-=a/2,e.w=d.matrixTransform(r),d.x+=o,e.e=d.matrixTransform(r),d.x-=o/2,d.y-=a/2,e.n=d.matrixTransform(r),d.y+=a,e.s=d.matrixTransform(r),e}function i(t){return"function"==typeof t?t:function(){return t}}return g}}),function(){function t(et,H){"use strict";var rt={version:"3.0.6",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};rt.chartRegistry=function(){var r={};function i(t){return t||(t=rt.constants.DEFAULT_CHART_GROUP),r[t]||(r[t]=[]),t}return{has:function(t){for(var n in r)if(0<=r[n].indexOf(t))return!0;return!1},register:function(t,n){n=i(n),r[n].push(t)},deregister:function(t,n){n=i(n);for(var e=0;e<r[n].length;e++)if(r[n][e].anchorName()===t.anchorName()){r[n].splice(e,1);break}},clear:function(t){t?delete r[t]:r={}},list:function(t){return t=i(t),r[t]}}}(),rt.registerChart=function(t,n){rt.chartRegistry.register(t,n)},rt.deregisterChart=function(t,n){rt.chartRegistry.deregister(t,n)},rt.hasChart=function(t){return rt.chartRegistry.has(t)},rt.deregisterAllCharts=function(t){rt.chartRegistry.clear(t)},rt.filterAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].filterAll()},rt.refocusAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].focus&&n[e].focus()},rt.renderAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].render();null!==rt._renderlet&&rt._renderlet(t)},rt.redrawAll=function(t){for(var n=rt.chartRegistry.list(t),e=0;e<n.length;++e)n[e].redraw();null!==rt._renderlet&&rt._renderlet(t)},rt.disableTransitions=!1,rt.transition=function(t,n,e,r){if(rt.disableTransitions||n<=0)return t;var i=t.transition(r);return(0<=n||void 0!==n)&&(i=i.duration(n)),(0<=e||void 0!==e)&&(i=i.delay(e)),i},rt.optionalTransition=function(t,n,e,r){return t?function(t){return rt.transition(t,n,e,r)}:function(t){return t}},rt.afterTransition=function(t,n){if(t.empty()||!t.duration)n.call(t);else{var e=0;t.each(function(){++e}).on("end",function(){--e||n.call(t)})}},rt.units={},rt.units.integers=function(t,n){return Math.abs(n-t)},rt.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},rt.units.fp={},rt.units.fp.precision=function(t){var r=function(t,n){var e=Math.abs((n-t)/r.resolution);return rt.utils.isNegligible(e-Math.floor(e))?Math.floor(e):Math.ceil(e)};return r.resolution=t,r},rt.round={},rt.round.floor=function(t){return Math.floor(t)},rt.round.ceil=function(t){return Math.ceil(t)},rt.round.round=function(t){return Math.round(t)},rt.override=function(t,n,e){var r=t[n];t["_"+n]=r,t[n]=e},rt.renderlet=function(t){return arguments.length?(rt._renderlet=t,rt):rt._renderlet},rt.instanceOfChart=function(t){return t instanceof Object&&t.__dcFlag__&&!0},rt.errors={},rt.errors.Exception=function(t){var n=t||"Unexpected internal error";this.message=n,this.toString=function(){return n},this.stack=(new Error).stack},rt.errors.Exception.prototype=Object.create(Error.prototype),rt.errors.Exception.prototype.constructor=rt.errors.Exception,rt.errors.InvalidStateException=function(){rt.errors.Exception.apply(this,arguments)},rt.errors.InvalidStateException.prototype=Object.create(rt.errors.Exception.prototype),rt.errors.InvalidStateException.prototype.constructor=rt.errors.InvalidStateException,rt.errors.BadArgumentException=function(){rt.errors.Exception.apply(this,arguments)},rt.errors.BadArgumentException.prototype=Object.create(rt.errors.Exception.prototype),rt.errors.BadArgumentException.prototype.constructor=rt.errors.BadArgumentException,rt.dateFormat=et.timeFormat("%m/%d/%Y"),rt.printers={},rt.printers.filters=function(t){for(var n="",e=0;e<t.length;++e)0<e&&(n+=", "),n+=rt.printers.filter(t[e]);return n},rt.printers.filter=function(t){var n="";return null!=t&&(t instanceof Array?2<=t.length?n="["+rt.utils.printSingleValue(t[0])+" -> "+rt.utils.printSingleValue(t[1])+"]":1<=t.length&&(n=rt.utils.printSingleValue(t[0])):n=rt.utils.printSingleValue(t)),n},rt.pluck=function(e,r){return r?function(t,n){return r.call(t,t[e],n)}:function(t){return t[e]}},rt.utils={},rt.utils.printSingleValue=function(t){var n=""+t;return t instanceof Date?n=rt.dateFormat(t):"string"==typeof t?n=t:rt.utils.isFloat(t)?n=rt.utils.printSingleValue.fformat(t):rt.utils.isInteger(t)&&(n=Math.round(t)),n},rt.utils.printSingleValue.fformat=et.format(".2f"),rt.utils.toTimeFunc=function(t){return"time"+t.charAt(0).toUpperCase()+t.slice(1)},rt.utils.add=function(t,n,e){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===e?new Date(t.getTime()+n):("function"!=typeof(e=e||et.timeDay)&&(e=et[rt.utils.toTimeFunc(e)]),e.offset(t,n));if("string"==typeof n){var r=+n/100;return 0<t?t*(1+r):t*(1-r)}return t+n},rt.utils.subtract=function(t,n,e){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===e?new Date(t.getTime()-n):("function"!=typeof(e=e||et.timeDay)&&(e=et[rt.utils.toTimeFunc(e)]),e.offset(t,-n));if("string"==typeof n){var r=+n/100;return t<0?t*(1+r):t*(1-r)}return t-n},rt.utils.isNumber=function(t){return t===+t},rt.utils.isFloat=function(t){return t===+t&&t!==(0|t)},rt.utils.isInteger=function(t){return t===+t&&t===(0|t)},rt.utils.isNegligible=function(t){return!rt.utils.isNumber(t)||t<rt.constants.NEGLIGIBLE_NUMBER&&t>-rt.constants.NEGLIGIBLE_NUMBER},rt.utils.clamp=function(t,n,e){return t<n?n:e<t?e:t},rt.utils.constant=function(t){return function(){return t}};var r,n,e,i,o,t=0;function d(t,n){for(var e=0;e<t.length;e++)if(t[e].key===n)return t[e]}return rt.utils.uniqueId=function(){return++t},rt.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},rt.utils.appendOrSelect=function(t,n,e){e=e||n;var r=t.select(n);return r.empty()&&(r=t.append(e)),r},rt.utils.safeNumber=function(t){return rt.utils.isNumber(+t)?+t:0},rt.utils.arraysEqual=function(t,e){return!t&&!e||!(!t||!e)&&(t.length===e.length&&t.every(function(t,n){return t.valueOf()===e[n].valueOf()}))},rt.utils.allChildren=function(t){var n=[];if(n.push(t.path),console.log("currentNode",t),t.children)for(var e=0;e<t.children.length;e++)n=n.concat(rt.utils.allChildren(t.children[e]));return n},rt.utils.toHierarchy=function(t,n){for(var e={key:"root",children:[]},r=0;r<t.length;r++)for(var i=t[r],o=i.key,a=n(i),u=e,c=0;c<o.length;c++){var s,l=o.slice(0,c+1),f=u.children,h=o[c];c+1<o.length?(void 0===(s=d(f,h))&&(s={key:h,children:[],path:l},f.push(s)),u=s):(s={key:h,value:a,data:i,path:l},f.push(s))}return e},rt.utils.getAncestors=function(t){for(var n=[],e=t;e.parent;)n.unshift(e.name),e=e.parent;return n},rt.utils.arraysIdentical=function(t,n){var e=t.length;if(e!==n.length)return!1;for(;e--;)if(t[e]!==n[e])return!1;return!0},rt.logger=((r={enableDebugLog:!(n={}),warn:function(t){return console&&(console.warn?console.warn(t):console.log&&console.log(t)),r}}).warnOnce=function(t){return n[t]||(n[t]=!0,rt.logger.warn(t)),r},r.debug=function(t){return r.enableDebugLog&&console&&(console.debug?console.debug(t):console.log&&console.log(t)),r},r.deprecate=function(t,n){var e=!1;return function(){return e||(r.warn(n),e=!0),t.apply(this,arguments)}},r),rt.config=(o=i=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],(e={}).defaultColors=function(t){return arguments.length?(o=t,e):(o===i&&rt.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),o)},e),rt.events={current:null},rt.events.trigger=function(t,n){n?(rt.events.current=t,setTimeout(function(){t===rt.events.current&&t()},n)):t()},rt.filters={},rt.filters.RangedFilter=function(t,n){var e=new Array(t,n);return e.isFiltered=function(t){return t>=this[0]&&t<this[1]},e.filterType="RangedFilter",e},rt.filters.TwoDimensionalFilter=function(t){if(null===t)return null;var n=t;return n.isFiltered=function(t){return t.length&&t.length===n.length&&t[0]===n[0]&&t[1]===n[1]},n.filterType="TwoDimensionalFilter",n},rt.filters.RangedTwoDimensionalFilter=function(t){if(null===t)return null;var r,n=t;return r=n[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-1/0],[t[1],1/0]],n.isFiltered=function(t){var n,e;return t instanceof Array?(n=t[0],e=t[1]):(n=t,e=r[0][1]),n>=r[0][0]&&n<r[1][0]&&e>=r[0][1]&&e<r[1][1]},n.filterType="RangedTwoDimensionalFilter",n},rt.filters.HierarchyFilter=function(t){if(null===t)return null;var e=t.slice(0);return e.isFiltered=function(t){if(!(e.length&&t&&t.length&&t.length>=e.length))return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},e},rt.baseMixin=function(r){var n,e,i,o,a,u;r.__dcFlag__=rt.utils.uniqueId();var c,s,l,f,h,d=200,p=function(t){var n=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return n&&d<n?n:d},g=p,v=200,y=function(t){var n=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return n&&v<n?n:v},m=y,b=!1,x=rt.pluck("key"),_=rt.pluck("value"),w=rt.pluck("key"),A=rt.pluck("key"),M=!1,k=function(t){return r.keyAccessor()(t)+": "+r.valueAccessor()(t)},E=!0,S=!1,C=750,T=0,N=rt.printers.filters,L=["dimension","group"],R=rt.constants.DEFAULT_CHART_GROUP,D=et.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),O=[],P=function(t,r){return 0===r.length?t.filter(null):1!==r.length||r[0].isFiltered?1===r.length&&"RangedFilter"===r[0].filterType?t.filterRange(r[0]):t.filterFunction(function(t){for(var n=0;n<r.length;n++){var e=r[n];if(e.isFiltered&&e.isFiltered(t))return!0;if(e<=t&&t<=e)return!0}return!1}):t.filterExact(r[0]),r},z=function(t){return t.all()};function F(){a&&(b?a.attr("viewBox")||a.attr("viewBox","0 0 "+r.width()+" "+r.height()):a.attr("width",r.width()).attr("height",r.height()))}function I(t){if(!r[t]||!r[t]())throw new rt.errors.InvalidStateException("Mandatory attribute chart."+t+" is missing on chart[#"+r.anchorName()+"]")}r.height=function(t){return arguments.length?(m=t?"function"==typeof t?t:rt.utils.constant(t):y,s=void 0,r):(rt.utils.isNumber(s)||(s=m(o.node())),s)},r.width=function(t){return arguments.length?(g=t?"function"==typeof t?t:rt.utils.constant(t):p,c=void 0,r):(rt.utils.isNumber(c)||(c=g(o.node())),c)},r.minWidth=function(t){return arguments.length?(d=t,r):d},r.minHeight=function(t){return arguments.length?(v=t,r):v},r.useViewBoxResizing=function(t){return arguments.length?(b=t,r):b},r.dimension=function(t){return arguments.length?(n=t,r.expireCache(),r):n},r.data=function(t){return arguments.length?(z="function"==typeof t?t:rt.utils.constant(t),r.expireCache(),r):z.call(r,e)},r.group=function(t,n){return arguments.length?(e=t,r._groupName=n,r.expireCache(),r):e},r.ordering=function(t){return arguments.length?(A=t,l=H.quicksort.by(A),r.expireCache(),r):A},r._computeOrderedGroups=function(t){var n=t.slice(0);return n.length<=1?n:(l||(l=H.quicksort.by(A)),l(n,0,n.length))},r.filterAll=function(){return r.filter(null)},r.select=function(t){return o.select(t)},r.selectAll=function(t){return o?o.selectAll(t):null},r.anchor=function(t,n){if(!arguments.length)return i;if(rt.instanceOfChart(t))i=t.anchor(),o=t.root(),u=!0;else{if(!t)throw new rt.errors.BadArgumentException("parent must be defined");i=t.select&&t.classed?t.node():t,(o=et.select(i)).classed(rt.constants.CHART_CLASS,!0),rt.registerChart(r,n),u=!1}return R=n,r},r.anchorName=function(){var t=r.anchor();return t&&t.id?t.id:t&&t.replace?t.replace("#",""):"dc-chart"+r.chartID()},r.root=function(t){return arguments.length?(o=t,r):o},r.svg=function(t){return arguments.length?(a=t,r):a},r.resetSvg=function(){return r.select("svg").remove(),a=r.root().append("svg"),F(),a},r.filterPrinter=function(t){return arguments.length?(N=t,r):N},r.controlsUseVisibility=function(t){return arguments.length?(S=t,r):S},r.turnOnControls=function(){if(o){var t=r.controlsUseVisibility()?"visibility":"display";r.selectAll(".reset").style(t,null),r.selectAll(".filter").text(N(r.filters())).style(t,null)}return r},r.turnOffControls=function(){if(o){var t=r.controlsUseVisibility()?"visibility":"display",n=r.controlsUseVisibility()?"hidden":"none";r.selectAll(".reset").style(t,n),r.selectAll(".filter").style(t,n).text(r.filter())}return r},r.transitionDuration=function(t){return arguments.length?(C=t,r):C},r.transitionDelay=function(t){return arguments.length?(T=t,r):T},r._mandatoryAttributes=function(t){return arguments.length?(L=t,r):L},r.render=function(){s=c=void 0,D.call("preRender",r,r),L&&L.forEach(I);var t=r._doRender();return f&&f.render(),r._activateRenderlets("postRender"),t},r._activateRenderlets=function(t){D.call("pretransition",r,r),0<r.transitionDuration()&&a?a.transition().duration(r.transitionDuration()).delay(r.transitionDelay()).on("end",function(){D.call("renderlet",r,r),t&&D.call(t,r,r)}):(D.call("renderlet",r,r),t&&D.call(t,r,r))},r.redraw=function(){F(),D.call("preRedraw",r,r);var t=r._doRedraw();return f&&f.render(),r._activateRenderlets("postRedraw"),t},r.commitHandler=function(t){return arguments.length?(h=t,r):h},r.redrawGroup=function(){return h?h(!1,function(t,n){t?console.log(t):rt.redrawAll(r.chartGroup())}):rt.redrawAll(r.chartGroup()),r},r.renderGroup=function(){return h?h(!1,function(t,n){t?console.log(t):rt.renderAll(r.chartGroup())}):rt.renderAll(r.chartGroup()),r},r._invokeFilteredListener=function(t){void 0!==t&&D.call("filtered",r,r,t)},r._invokeZoomedListener=function(){D.call("zoomed",r,r)};var B=function(t,n){return null==n?0<t.length:t.some(function(t){return n<=t&&t<=n})};r.hasFilterHandler=function(t){return arguments.length?(B=t,r):B},r.hasFilter=function(t){return B(O,t)};var U=function(t,n){for(var e=0;e<t.length;e++)if(t[e]<=n&&t[e]>=n){t.splice(e,1);break}return t};r.removeFilterHandler=function(t){return arguments.length?(U=t,r):U};var j=function(t,n){return t.push(n),t};r.addFilterHandler=function(t){return arguments.length?(j=t,r):j};var q=function(t){return[]};return r.resetFilterHandler=function(t){return arguments.length?(q=t,r):q},r.replaceFilter=function(t){return O=q(O),r.filter(t),r},r.filter=function(t){if(!arguments.length)return 0<O.length?O[0]:null;var n=O;return t instanceof Array&&t[0]instanceof Array&&!t.isFiltered?t[0].forEach(function(t){n=B(n,t)?U(n,t):j(n,t)}):n=null===t?q(n):B(n,t)?U(n,t):j(n,t),O=function(t){if(r.dimension()&&r.dimension().filter){var n=P(r.dimension(),t);n&&(t=n)}return t}(n),r._invokeFilteredListener(t),null!==o&&r.hasFilter()?r.turnOnControls():r.turnOffControls(),r},r.filters=function(){return O},r.highlightSelected=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!0),et.select(t).classed(rt.constants.DESELECTED_CLASS,!1)},r.fadeDeselected=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!1),et.select(t).classed(rt.constants.DESELECTED_CLASS,!0)},r.resetHighlight=function(t){et.select(t).classed(rt.constants.SELECTED_CLASS,!1),et.select(t).classed(rt.constants.DESELECTED_CLASS,!1)},r.onClick=function(t){var n=r.keyAccessor()(t);rt.events.trigger(function(){r.filter(n),r.redrawGroup()})},r.filterHandler=function(t){return arguments.length?(P=t,r):P},r._doRender=function(){return r},r._doRedraw=function(){return r},r.legendables=function(){return[]},r.legendHighlight=function(){},r.legendReset=function(){},r.legendToggle=function(){},r.isLegendableHidden=function(){return!1},r.keyAccessor=function(t){return arguments.length?(x=t,r):x},r.valueAccessor=function(t){return arguments.length?(_=t,r):_},r.label=function(t,n){return arguments.length?(w=t,(void 0===n||n)&&(M=!0),r):w},r.renderLabel=function(t){return arguments.length?(M=t,r):M},r.title=function(t){return arguments.length?(k=t,r):k},r.renderTitle=function(t){return arguments.length?(E=t,r):E},r.renderlet=rt.logger.deprecate(function(t){return r.on("renderlet."+rt.utils.uniqueId(),t),r},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),r.chartGroup=function(t){return arguments.length?(u||rt.deregisterChart(r,R),R=t,u||rt.registerChart(r,R),r):R},r.expireCache=function(){return r},r.legend=function(t){return arguments.length?((f=t).parent(r),r):f},r.chartID=function(){return r.__dcFlag__},r.options=function(t){var n=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var e in t)"function"==typeof r[e]?t[e]instanceof Array&&-1!==n.indexOf(e)?r[e].apply(r,t[e]):r[e].call(r,t[e]):rt.logger.debug("Not a valid option setter name: "+e);return r},r.on=function(t,n){return D.on(t,n),r},r},rt.marginMixin=function(n){var e={top:10,right:50,bottom:30,left:30};return n.margins=function(t){return arguments.length?(e=t,n):e},n.effectiveWidth=function(){return n.width()-n.margins().left-n.margins().right},n.effectiveHeight=function(){return n.height()-n.margins().top-n.margins().bottom},n},rt.colorMixin=function(n){var e=et.scaleOrdinal(rt.config.defaultColors()),r=!0,i=function(t){return n.keyAccessor()(t)};return n.colors=function(t){return arguments.length?(e=t instanceof Array?et.scaleQuantize().range(t):"function"==typeof t?t:rt.utils.constant(t),n):e},n.ordinalColors=function(t){return n.colors(et.scaleOrdinal().range(t))},n.linearColors=function(t){return n.colors(et.scaleLinear().range(t).interpolate(et.interpolateHcl))},n.colorAccessor=function(t){return arguments.length?(i=t,r=!1,n):i},n.defaultColorAccessor=function(){return r},n.colorDomain=function(t){return arguments.length?(e.domain(t),n):e.domain()},n.calculateColorDomain=function(){var t=[et.min(n.data(),n.colorAccessor()),et.max(n.data(),n.colorAccessor())];return e.domain(t),n},n.getColor=function(t,n){return e(i.call(this,t,n))},n.colorCalculator=rt.logger.deprecate(function(t){return arguments.length?(n.getColor=t,n):n.getColor},"colorMixin.colorCalculator has been deprecated. Please colorMixin.colors and colorMixin.colorAccessor instead"),n},rt.coordinateGridMixin=function(c){var i,e,r,a,o,u,s="grid-line",l="horizontal",f="vertical",h="y-axis-label",d="x-axis-label",p="custom-brush-handle";(c=rt.colorMixin(rt.marginMixin(rt.baseMixin(c)))).colors(et.scaleOrdinal(et.schemeCategory10)),c._mandatoryAttributes().push("x");var g,v,y,m,b,n,t,x,_,w=et.axisBottom(),A=rt.units.integers,M=0,k=et.timeDay,E=!1,S=0,C=null,T=0,N=!1,L=0,R=et.brushX(),D=!0,O=!1,P=!1,z=!1,F=!1,I=[1,1/0],B=!0,U=et.zoom().on("zoom",function(){if(!et.event.sourceEvent)return;if(et.event.sourceEvent.type&&-1!==["start","zoom","end"].indexOf(et.event.sourceEvent.type))return;var t=et.event.transform.rescaleX(o).domain();c.focus(t,!1)}),j=et.zoom().on("zoom",null),q=!1,H=!1,Y=0,G=.5,V=0,X=!1;function W(t,n){c.isOrdinal()?(a.bandwidth||(rt.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),a=et.scaleBand().domain(a.domain())),(c.elasticX()||0===a.domain().length)&&a.domain(c._ordinalXDomain())):c.elasticX()&&a.domain([c.xAxisMin(),c.xAxisMax()]);var e=a.domain();!n&&rt.utils.arraysEqual(v,e)||c.rescale(),v=e,c.isOrdinal()?a.range([0,c.xAxisLength()]).paddingInner(V).paddingOuter(c._useOuterPadding()?G:0):a.range([0,c.xAxisLength()]),w=w.scale(c.x()),function(t){var n=t.select("g."+f);if(z){n.empty()&&(n=t.insert("g",":first-child").attr("class",s+" "+f).attr("transform","translate("+c.margins().left+","+c.margins().top+")"));var e=w.tickValues()?w.tickValues():"function"==typeof a.ticks?a.ticks.apply(a,w.tickArguments()):a.domain(),r=n.selectAll("line").data(e),i=r.enter().append("line").attr("x1",function(t){return a(t)}).attr("y1",c._xAxisY()-c.margins().top).attr("x2",function(t){return a(t)}).attr("y2",0).attr("opacity",0);rt.transition(i,c.transitionDuration(),c.transitionDelay()).attr("opacity",1);var o=i.merge(r);rt.transition(o,c.transitionDuration(),c.transitionDelay()).attr("x1",function(t){return a(t)}).attr("y1",c._xAxisY()-c.margins().top).attr("x2",function(t){return a(t)}).attr("y2",0),r.exit().remove()}else n.selectAll("line").remove()}(t)}function $(){return X?et.axisRight():et.axisLeft()}function K(){return c.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function Z(){var t=rt.utils.appendOrSelect(i,"defs"),n=K(),e=rt.utils.appendOrSelect(t,"#"+n,"clipPath").attr("id",n),r=2*Y;rt.utils.appendOrSelect(e,"rect").attr("width",c.xAxisLength()+r).attr("height",c.yAxisHeight()+r).attr("transform","translate(-"+Y+", -"+Y+")")}function Q(t){c.isOrdinal()&&(D=!1),W(c.g(),t),c._prepareYAxis(c.g()),c.plotData(),(c.elasticX()||F||t)&&c.renderXAxis(c.g()),(c.elasticY()||F||t)&&c.renderYAxis(c.g()),t?c.renderBrush(c.g(),!1):c.redrawBrush(c.filter(),F),c.fadeDeselectedArea(c.filter()),F=!1}function J(t,n){var e,r;(r=t)instanceof Array&&1<r.length?(c.x().domain(t),e=rt.filters.RangedFilter(t[0],t[1])):(c.x().domain(u),e=null),c.replaceFilter(e),c.rescale(),c.redraw(),n||(x&&!rt.utils.arraysEqual(c.filter(),x.filter())&&rt.events.trigger(function(){x.replaceFilter(e),x.redraw()}),c._invokeZoomedListener(),rt.events.trigger(function(){c.redrawGroup()},rt.constants.EVENT_DELAY))}function tt(){var t,n,e,r,i;U&&U.transform(c.root(),(t=c.x().domain(),e=o,r=((n=u)[1]-n[0])/(t[1]-t[0]),i=-1*e(t[0]),et.zoomIdentity.scale(r).translate(i,0)))}function nt(t,n){return t&&2===t.length&&n&&2===n.length?((t[0]>n[1]||t[1]<n[0])&&console.warn("Could not intersect extents, will reset"),[t[0]>n[0]?t[0]:n[0],t[1]<n[1]?t[1]:n[1]]):t}return c.rescale=function(){return F=!(t=void 0),c},c.resizing=function(){return F},c.rangeChart=function(t){return arguments.length?((x=t).focusChart(c),c):x},c.zoomScale=function(t){return arguments.length?(I=t,c):I},c.zoomOutRestrict=function(t){return arguments.length?(B=t,c):B},c._generateG=function(t){i=void 0===t?c.svg():t;var n=window.location.href.split("#")[0];return e=i.append("g"),r=e.append("g").attr("class","chart-body").attr("transform","translate("+c.margins().left+", "+c.margins().top+")").attr("clip-path","url("+n+"#"+K()+")"),e},c.g=function(t){return arguments.length?(e=t,c):e},c.mouseZoomable=function(t){return arguments.length?(H=t,c):H},c.chartBodyG=function(t){return arguments.length?(r=t,c):r},c.x=function(t){return arguments.length?(u=(a=t).domain(),c.rescale(),c):a},c.xOriginalDomain=function(){return u},c.xUnits=function(t){return arguments.length?(A=t,c):A},c.xAxis=function(t){return arguments.length?(w=t,c):w},c.elasticX=function(t){return arguments.length?(E=t,c):E},c.xAxisPadding=function(t){return arguments.length?(M=t,c):M},c.xAxisPaddingUnit=function(t){return arguments.length?(k=t,c):k},c.xUnitCount=function(){return void 0===t&&(c.isOrdinal()?t=c.x().domain().length:(t=c.xUnits()(c.x().domain()[0],c.x().domain()[1]))instanceof Array&&(t=t.length)),t},c.useRightYAxis=function(t){return arguments.length?(X!==t&&C&&rt.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),X=t,c):X},c.isOrdinal=function(){return c.xUnits()===rt.units.ordinal},c._useOuterPadding=function(){return!0},c._ordinalXDomain=function(){return c._computeOrderedGroups(c.data()).map(c.keyAccessor())},c.renderXAxis=function(t){var n=t.select("g.x");n.empty()&&(n=t.append("g").attr("class","axis x").attr("transform","translate("+c.margins().left+","+c._xAxisY()+")"));var e=t.select("text."+d);e.empty()&&c.xAxisLabel()&&(e=t.append("text").attr("class",d).attr("transform","translate("+(c.margins().left+c.xAxisLength()/2)+","+(c.height()-S)+")").attr("text-anchor","middle")),c.xAxisLabel()&&e.text()!==c.xAxisLabel()&&e.text(c.xAxisLabel()),rt.transition(n,c.transitionDuration(),c.transitionDelay()).attr("transform","translate("+c.margins().left+","+c._xAxisY()+")").call(w),rt.transition(e,c.transitionDuration(),c.transitionDelay()).attr("transform","translate("+(c.margins().left+c.xAxisLength()/2)+","+(c.height()-S)+")")},c._xAxisY=function(){return c.height()-c.margins().bottom},c.xAxisLength=function(){return c.effectiveWidth()},c.xAxisLabel=function(t,n){return arguments.length?(g=t,c.margins().bottom-=S,S=void 0===n?12:n,c.margins().bottom+=S,c):g},c._prepareYAxis=function(t){if(void 0===y||c.elasticY()){void 0===y&&(y=et.scaleLinear());var n=c.yAxisMin()||0,e=c.yAxisMax()||0;y.domain([n,e]).rangeRound([c.yAxisHeight(),0])}y.range([c.yAxisHeight(),0]),C||(C=$()),C.scale(y),c._renderHorizontalGridLinesForAxis(t,y,C)},c.renderYAxisLabel=function(t,n,e,r){r=r||L;var i=c.g().select("text."+h+"."+t+"-label"),o=c.margins().top+c.yAxisHeight()/2;i.empty()&&n&&(i=c.g().append("text").attr("transform","translate("+r+","+o+"),rotate("+e+")").attr("class",h+" "+t+"-label").attr("text-anchor","middle").text(n)),n&&i.text()!==n&&i.text(n),rt.transition(i,c.transitionDuration(),c.transitionDelay()).attr("transform","translate("+r+","+o+"),rotate("+e+")")},c.renderYAxisAt=function(t,n,e){var r=c.g().select("g."+t);r.empty()&&(r=c.g().append("g").attr("class","axis "+t).attr("transform","translate("+e+","+c.margins().top+")")),rt.transition(r,c.transitionDuration(),c.transitionDelay()).attr("transform","translate("+e+","+c.margins().top+")").call(n)},c.renderYAxis=function(){var t=X?c.width()-c.margins().right:c._yAxisX();c.renderYAxisAt("y",C,t);var n=X?c.width()-L:L,e=X?90:-90;c.renderYAxisLabel("y",c.yAxisLabel(),e,n)},c._renderHorizontalGridLinesForAxis=function(t,n,e){var r=t.select("g."+l);if(P){var i=e.tickValues()?e.tickValues():n.ticks?n.ticks.apply(n,e.tickArguments()):n.domain();r.empty()&&(r=t.insert("g",":first-child").attr("class",s+" "+l).attr("transform","translate("+c.margins().left+","+c.margins().top+")"));var o=r.selectAll("line").data(i),a=o.enter().append("line").attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",c.xAxisLength()).attr("y2",function(t){return n(t)}).attr("opacity",0);rt.transition(a,c.transitionDuration(),c.transitionDelay()).attr("opacity",1);var u=a.merge(o);rt.transition(u,c.transitionDuration(),c.transitionDelay()).attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",c.xAxisLength()).attr("y2",function(t){return n(t)}),o.exit().remove()}else r.selectAll("line").remove()},c._yAxisX=function(){return c.useRightYAxis()?c.width()-c.margins().right:c.margins().left},c.yAxisLabel=function(t,n){return arguments.length?(m=t,c.margins().left-=L,L=void 0===n?12:n,c.margins().left+=L,c):m},c.y=function(t){return arguments.length?(y=t,c.rescale(),c):y},c.yAxis=function(t){return arguments.length?(C=t,c):(C||(C=$()),C)},c.elasticY=function(t){return arguments.length?(N=t,c):N},c.renderHorizontalGridLines=function(t){return arguments.length?(P=t,c):P},c.renderVerticalGridLines=function(t){return arguments.length?(z=t,c):z},c.xAxisMin=function(){var t=et.min(c.data(),function(t){return c.keyAccessor()(t)});return rt.utils.subtract(t,M,k)},c.xAxisMax=function(){var t=et.max(c.data(),function(t){return c.keyAccessor()(t)});return rt.utils.add(t,M,k)},c.yAxisMin=function(){var t=et.min(c.data(),function(t){return c.valueAccessor()(t)});return rt.utils.subtract(t,T)},c.yAxisMax=function(){var t=et.max(c.data(),function(t){return c.valueAccessor()(t)});return rt.utils.add(t,T)},c.yAxisPadding=function(t){return arguments.length?(T=t,c):T},c.yAxisHeight=function(){return c.effectiveHeight()},c.round=function(t){return arguments.length?(n=t,c):n},c._rangeBandPadding=function(t){return arguments.length?(V=t,c):V},c._outerRangeBandPadding=function(t){return arguments.length?(G=t,c):G},rt.override(c,"filter",function(t){return arguments.length?(c._filter(t),c.redrawBrush(t,!1),c):c._filter()}),c.brush=function(t){return arguments.length?(R=t,c):R},c.renderBrush=function(t,n){D&&(R.on("start brush end",c._brushing),b=t.append("g").attr("class","brush").attr("transform","translate("+c.margins().left+","+c.margins().top+")"),c.setBrushExtents(),c.createBrushHandlePaths(b,n),c.redrawBrush(c.filter(),n))},c.createBrushHandlePaths=function(t){var n=t.selectAll("path."+p).data([{type:"w"},{type:"e"}]);(n=n.enter().append("path").attr("class",p).merge(n)).attr("d",c.resizeHandlePath)},c.extendBrush=function(t){return t&&c.round()&&(t[0]=c.round()(t[0]),t[1]=c.round()(t[1])),t},c.brushIsEmpty=function(t){return!t||t[1]<=t[0]},c._brushing=function(){if(et.event.sourceEvent&&(!et.event.sourceEvent.type||-1===["start","brush","end"].indexOf(et.event.sourceEvent.type))){var t=et.event.selection;t&&(t=t.map(c.x().invert)),t=c.extendBrush(t),c.redrawBrush(t,!1);var n=c.brushIsEmpty(t)?null:rt.filters.RangedFilter(t[0],t[1]);rt.events.trigger(function(){c.applyBrushSelection(n)},rt.constants.EVENT_DELAY)}},c.applyBrushSelection=function(t){c.replaceFilter(t),c.redrawGroup()},c.setBrushExtents=function(t){R.extent([[0,0],[c.effectiveWidth(),c.effectiveHeight()]]),b.call(R)},c.redrawBrush=function(e,t){if(D&&b)if(F&&c.setBrushExtents(t),e){var n=[a(e[0]),a(e[1])],r=rt.optionalTransition(t,c.transitionDuration(),c.transitionDelay())(b);r.call(R.move,n),r.selectAll("path."+p).attr("display",null).attr("transform",function(t,n){return"translate("+a(e[n])+", 0)"}).attr("d",c.resizeHandlePath)}else b.call(R.move,null),b.selectAll("path."+p).attr("display","none");c.fadeDeselectedArea(e)},c.fadeDeselectedArea=function(t){},c.resizeHandlePath=function(t){var n=+("e"===(t=t.type)),e=n?1:-1,r=c.effectiveHeight()/3;return"M"+.5*e+","+r+"A6,6 0 0 "+n+" "+6.5*e+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+n+" "+.5*e+","+2*r+"ZM"+2.5*e+","+(r+8)+"V"+(2*r-8)+"M"+4.5*e+","+(r+8)+"V"+(2*r-8)},c.clipPadding=function(t){return arguments.length?(Y=t,c):Y},c._preprocessData=function(){},c._doRender=function(){return c.resetSvg(),c._preprocessData(),c._generateG(),Z(),Q(!0),o=a.copy(),H?c._enableMouseZoom():q&&c._disableMouseZoom(),c},c._doRedraw=function(){return c._preprocessData(),Q(!1),Z(),c},c._enableMouseZoom=function(){q=!0;var t=[[0,0],[c.effectiveWidth(),c.effectiveHeight()]];if(U.scaleExtent(I).extent(t).duration(c.transitionDuration()),B){var n=Math.max(I[0],1);U.translateExtent(t).scaleExtent([n,I[1]])}c.root().call(U),tt()},c._disableMouseZoom=function(){c.root().call(j)},c.focus=function(t,n){B&&(t=nt(t,u),x&&(t=nt(t,x.x().domain()))),J(t,n),tt()},c.refocused=function(){return!rt.utils.arraysEqual(c.x().domain(),u)},c.focusChart=function(t){return arguments.length?(_=t,c.on("filtered.dcjs-range-chart",function(t){t.filter()?rt.utils.arraysEqual(t.filter(),_.filter())||rt.events.trigger(function(){_.focus(t.filter(),!0)}):rt.events.trigger(function(){_.x().domain(_.xOriginalDomain(),!0)})}),c):_},c.brushOn=function(t){return arguments.length?(D=t,c):D},c.parentBrushOn=function(t){return arguments.length?(O=t,c):O},c.gBrush=function(){return b},c},rt.stackMixin=function(i){function e(e,t){var r=e.accessor||i.valueAccessor();e.name=String(e.name||t);var n=e.group.all().map(function(t,n){return{x:i.keyAccessor()(t,n),y:e.hidden?null:r(t,n),data:t,layer:e.name,hidden:e.hidden}});e.domainValues=n.filter(function(){if(!i.x())return rt.utils.constant(!0);var n=i.x().domain();if(i.isOrdinal())return function(){return!0};if(i.elasticX())return function(){return!0};return function(t){return t.x>=n[0]&&t.x<=n[n.length-1]}}()),e.values=i.evadeDomainFilter()?n:e.domainValues}var n=et.stack(),o=[],r={},a=!1,u=!1;function c(t){var n=o.map(rt.pluck("name")).indexOf(t);return o[n]}function s(){var t=i.data().map(function(t){return t.domainValues});return Array.prototype.concat.apply([],t)}function l(t){return!t.hidden}return i.stack=function(t,n,e){if(!arguments.length)return o;arguments.length<=2&&(e=n);var r={group:t};return"string"==typeof n&&(r.name=n),"function"==typeof e&&(r.accessor=e),o.push(r),i},rt.override(i,"group",function(t,n,e){return arguments.length?(o=[],r={},i.stack(t,n),e&&i.valueAccessor(e),i._group(t,n)):i._group()}),i.hidableStacks=function(t){return arguments.length?(a=t,i):a},i.hideStack=function(t){var n=c(t);return n&&(n.hidden=!0),i},i.showStack=function(t){var n=c(t);return n&&(n.hidden=!1),i},i.getValueAccessorByIndex=function(t){return o[t].accessor||i.valueAccessor()},i.yAxisMin=function(){var t=et.min(s(),function(t){return t.y<0?t.y+t.y0:t.y0});return rt.utils.subtract(t,i.yAxisPadding())},i.yAxisMax=function(){var t=et.max(s(),function(t){return 0<t.y?t.y+t.y0:t.y0});return rt.utils.add(t,i.yAxisPadding())},i.xAxisMin=function(){var t=et.min(s(),rt.pluck("x"));return rt.utils.subtract(t,i.xAxisPadding(),i.xAxisPaddingUnit())},i.xAxisMax=function(){var t=et.max(s(),rt.pluck("x"));return rt.utils.add(t,i.xAxisPadding(),i.xAxisPaddingUnit())},rt.override(i,"title",function(t,n){return t?"function"==typeof t?i._title(t):t===i._groupName&&"function"==typeof n?i._title(n):"function"!=typeof n?r[t]||i._title():(r[t]=n,i):i._title()}),i.stackLayout=function(t){return arguments.length?(n=t,i):n},i.evadeDomainFilter=function(t){return arguments.length?(u=t,i):u},i.data(function(){var r=o.filter(l);if(!r.length)return[];r.forEach(e);var t=r[0].values.map(function(t,n){var e={x:t.x};return r.forEach(function(t){e[t.name]=t.values[n].y}),e}),n=r.map(function(t){return t.name});return i.stackLayout().keys(n)(t).forEach(function(t,e){t.forEach(function(t,n){r[e].values[n].y0=t[0],r[e].values[n].y1=t[1]})}),r}),i._ordinalXDomain=function(){var t=s().map(rt.pluck("data"));return i._computeOrderedGroups(t).map(i.keyAccessor())},i.colorAccessor(function(t){return this.layer||this.name||t.name||t.layer}),i.legendables=function(){return o.map(function(t,n){return{chart:i,name:t.name,hidden:t.hidden||!1,color:i.getColor.call(t,t.values,n)}})},i.isLegendableHidden=function(t){var n=c(t.name);return!!n&&n.hidden},i.legendToggle=function(t){a&&(i.isLegendableHidden(t)?i.showStack(t.name):i.hideStack(t.name),i.renderGroup())},i},rt.capMixin=function(i){var o=1/0,a=!0,n="Others";i.ordering(function(t){return-t.value});var u=function(t,n){var e=et.sum(n,i.valueAccessor()),r=n.map(i.keyAccessor());return 0<e?t.concat([{others:r,key:i.othersLabel(),value:e}]):t};return i.cappedKeyAccessor=function(t,n){return t.others?t.key:i.keyAccessor()(t,n)},i.cappedValueAccessor=function(t,n){return t.others?t.value:i.valueAccessor()(t,n)},i.data(function(t){if(o===1/0)return i._computeOrderedGroups(t.all());var n,e=t.all();if(e=i._computeOrderedGroups(e),o)if(a)n=e.slice(o),e=e.slice(0,o);else{var r=Math.max(0,e.length-o);n=e.slice(0,r),e=e.slice(r)}return u?u(e,n):e}),i.cap=function(t){return arguments.length?(o=t,i):o},i.takeFront=function(t){return arguments.length?(a=t,i):a},i.othersLabel=function(t){return arguments.length?(n=t,i):n},i.othersGrouper=function(t){return arguments.length?(u=t,i):u},rt.override(i,"onClick",function(t){t.others&&i.filter([t.others]),i._onClick(t)}),i},rt.bubbleMixin=function(r){var n=.3,e=10,i=!1,o=!1;r.BUBBLE_NODE_CLASS="node",r.BUBBLE_CLASS="bubble",r.MIN_RADIUS=10,(r=rt.colorMixin(r)).renderLabel(!0),r.data(function(t){var n=t.all();if(i){var e=r.radiusValueAccessor();n.sort(function(t,n){return et.descending(e(t),e(n))})}return n});var a=et.scaleLinear().domain([0,100]),u=function(t){return t.r};r.r=function(t){return arguments.length?(a=t,r):a},r.elasticRadius=function(t){return arguments.length?(o=t,r):o},r.calculateRadiusDomain=function(){o&&r.r().domain([r.rMin(),r.rMax()])},r.radiusValueAccessor=function(t){return arguments.length?(u=t,r):u},r.rMin=function(){return et.min(r.data(),function(t){return r.radiusValueAccessor()(t)})},r.rMax=function(){return et.max(r.data(),function(t){return r.radiusValueAccessor()(t)})},r.bubbleR=function(t){var n=r.radiusValueAccessor()(t),e=r.r()(n);return(isNaN(e)||n<=0)&&(e=0),e};var c=function(t){return r.label()(t)},s=function(t){return r.bubbleR(t)>e},l=function(t){return s(t)?1:0},f=function(t){return s(t)?"all":"none"};r._doRenderLabel=function(t){if(r.renderLabel()){var n=t.select("text");n.empty()&&(n=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",r.onClick)),n.attr("opacity",0).attr("pointer-events",f).text(c),rt.transition(n,r.transitionDuration(),r.transitionDelay()).attr("opacity",l)}},r.doUpdateLabels=function(t){if(r.renderLabel()){var n=t.select("text").attr("pointer-events",f).text(c);rt.transition(n,r.transitionDuration(),r.transitionDelay()).attr("opacity",l)}};var h=function(t){return r.title()(t)};return r._doRenderTitles=function(t){r.renderTitle()&&(t.select("title").empty()&&t.append("title").text(h))},r.doUpdateTitles=function(t){r.renderTitle()&&t.select("title").text(h)},r.sortBubbleSize=function(t){return arguments.length?(i=t,r):i},r.minRadius=function(t){return arguments.length?(r.MIN_RADIUS=t,r):r.MIN_RADIUS},r.minRadiusWithLabel=function(t){return arguments.length?(e=t,r):e},r.maxBubbleRelativeSize=function(t){return arguments.length?(n=t,r):n},r.fadeDeselectedArea=function(t){r.hasFilter()?r.selectAll("g."+r.BUBBLE_NODE_CLASS).each(function(t){r.isSelectedNode(t)?r.highlightSelected(this):r.fadeDeselected(this)}):r.selectAll("g."+r.BUBBLE_NODE_CLASS).each(function(){r.resetHighlight(this)})},r.isSelectedNode=function(t){return r.hasFilter(t.key)},r.onClick=function(t){var n=t.key;rt.events.trigger(function(){r.filter(n),r.redrawGroup()})},r},rt.pieChart=function(t,n){var w,A,M,e,r,k,E="pie-slice",S="pie-label",C="pie-slice-group",T="pie-label-group",N="empty-chart",L="empty",i=0,o=0,a=.5,R=!1,D=rt.capMixin(rt.colorMixin(rt.baseMixin({})));function u(){var t=et.min([D.width(),D.height()])/2;w=A&&A<t?A:t;var n,e,r,i,o,a,u,c,s,l,f,h,d,p,g,v,y,m=F(),b=et.pie().sort(null).value(D.cappedValueAccessor);if(et.sum(D.data(),D.valueAccessor())?(n=b(D.data()),M.classed(N,!1)):(n=b([{key:L,value:1,others:[L]}]),M.classed(N,!0)),M){var x=M.select("g."+C).selectAll("g."+E).data(n),_=M.select("g."+T).selectAll("text."+S).data(n);y=_,x.exit().remove(),y.exit().remove(),s=_,l=m,f=n,h=x.enter().append("g").attr("class",function(t,n){return E+" _"+n}),p=l,g=h.append("path").attr("fill",U).on("click",j).attr("d",function(t,n){return q(t,n,p)}),(v=rt.transition(g,D.transitionDuration(),D.transitionDelay())).attrTween&&v.attrTween("d",B),d=h,D.renderTitle()&&d.append("title").text(function(t){return D.title()(t.data)}),function(t,n,e){if(D.renderLabel()){var r=t.enter().append("text").attr("class",function(t,n){var e=E+" "+S+" _"+n;return k&&(e+=" external"),e}).on("click",j).on("mouseover",function(t,n){P(n,!0)}).on("mouseout",function(t,n){P(n,!1)});O(r,e),k&&R&&z(n,e)}}(s,f,l),e=a=n,r=u=m,i=M.selectAll("g."+E).data(e).select("path").attr("d",function(t,n){return q(t,n,r)}),(o=rt.transition(i,D.transitionDuration(),D.transitionDelay())).attrTween&&o.attrTween("d",B),o.attr("fill",U),function(t,n){if(D.renderLabel()){var e=M.selectAll("text."+S).data(t);O(e,n),k&&R&&z(t,n)}}(a,u),c=a,D.renderTitle()&&M.selectAll("g."+E).data(c).select("title").text(function(t){return D.title()(t.data)}),D.hasFilter()?D.selectAll("g."+E).each(function(t){I(t)?D.highlightSelected(this):D.fadeDeselected(this)}):D.selectAll("g."+E).each(function(){D.resetHighlight(this)}),rt.transition(M,D.transitionDuration(),D.transitionDelay()).attr("transform","translate("+D.cx()+","+D.cy()+")")}}function O(t,n){D._applyLabelText(t),rt.transition(t,D.transitionDuration(),D.transitionDelay()).attr("transform",function(t){return function(t,n){var e;e=k?et.arc().outerRadius(w-o+k).innerRadius(w-o+k).centroid(t):n.centroid(t);return isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(t,n)}).attr("text-anchor","middle")}function P(t,n){D.select("g.pie-slice._"+t).classed("highlight",n)}function z(t,r){var n=M.selectAll("polyline."+E).data(t);n.exit().remove(),n=n.enter().append("polyline").attr("class",function(t,n){return"pie-path _"+n+" "+E}).on("click",j).on("mouseover",function(t,n){P(n,!0)}).on("mouseout",function(t,n){P(n,!1)}).merge(n);var i=et.arc().outerRadius(w-o+k).innerRadius(w-o),e=rt.transition(n,D.transitionDuration(),D.transitionDelay());e.attrTween?e.attrTween("points",function(t){var n=this._current||t;n={startAngle:n.startAngle,endAngle:n.endAngle};var e=et.interpolate(n,t);return this._current=e(0),function(t){var n=e(t);return[r.centroid(n),i.centroid(n)]}}):e.attr("points",function(t){return[r.centroid(t),i.centroid(t)]}),e.style("visibility",function(t){return t.endAngle-t.startAngle<1e-4?"hidden":"visible"})}function F(){return et.arc().outerRadius(w-o).innerRadius(i)}function I(t){return D.hasFilter(D.cappedKeyAccessor(t.data))}function B(t){t.innerRadius=i;var n,e=this._current;e=!(n=e)||isNaN(n.startAngle)||isNaN(n.endAngle)?{startAngle:0,endAngle:0}:{startAngle:e.startAngle,endAngle:e.endAngle};var r=et.interpolate(e,t);return this._current=r(0),function(t){return q(r(t),0,F())}}function U(t,n){return D.getColor(t.data,n)}function j(t,n){M.attr("class")!==N&&D.onClick(t.data,n)}function q(t,n,e){var r=e(t,n);return 0<=r.indexOf("NaN")&&(r="M0,0"),r}function c(n,e){D.selectAll("g.pie-slice").each(function(t){n.name===t.data.key&&et.select(this).classed("highlight",e)})}return D.colorAccessor(D.cappedKeyAccessor),D.title(function(t){return D.cappedKeyAccessor(t)+": "+D.cappedValueAccessor(t)}),D.slicesCap=D.cap,D.label(D.cappedKeyAccessor),D.renderLabel(!0),D.transitionDuration(350),D.transitionDelay(0),D._doRender=function(){return D.resetSvg(),(M=D.svg().append("g").attr("transform","translate("+D.cx()+","+D.cy()+")")).append("g").attr("class",C),M.append("g").attr("class",T),u(),D},D._applyLabelText=function(t){t.text(function(t){var n,e,r,i=t.data;return r=i,(0===D.cappedValueAccessor(r)||(e=(n=t).endAngle-n.startAngle,isNaN(e)||e<a))&&!I(t)?"":D.label()(t.data)})},D.externalRadiusPadding=function(t){return arguments.length?(o=t,D):o},D.innerRadius=function(t){return arguments.length?(i=t,D):i},D.radius=function(t){return arguments.length?(A=t,D):A},D.cx=function(t){return arguments.length?(e=t,D):e||D.width()/2},D.cy=function(t){return arguments.length?(r=t,D):r||D.height()/2},D._doRedraw=function(){return u(),D},D.minAngleForLabel=function(t){return arguments.length?(a=t,D):a},D.emptyTitle=function(t){return 0===arguments.length?L:(L=t,D)},D.externalLabels=function(t){return 0===arguments.length?k:(k=t||void 0,D)},D.drawPaths=function(t){return 0===arguments.length?R:(R=t,D)},D.legendables=function(){return D.data().map(function(t,n){var e={name:t.key,data:t.value,others:t.others,chart:D};return e.color=D.getColor(t,n),e})},D.legendHighlight=function(t){c(t,!0)},D.legendReset=function(t){c(t,!1)},D.legendToggle=function(t){D.onClick({key:t.name,others:t.others})},D.anchor(t,n)},rt.sunburstChart=function(t,n){var y,m,e,r,b,x="pie-slice",_="empty-chart",i="empty",o=0,a=.5,w=rt.capMixin(rt.colorMixin(rt.baseMixin({})));function u(t){return t.path?t.value:w.cappedValueAccessor(t)}function c(){y=y||et.min([w.width(),w.height()])/2;var t,n,e,r,i,o,a,u,c,s,l,f,h,d,p,g=M();if(et.sum(w.data(),w.valueAccessor())?((t=k(rt.utils.toHierarchy(w.data(),w.valueAccessor()))).shift(),m.classed(_,!1)):(t=k(rt.utils.toHierarchy([],function(t){return t.value})),m.classed(_,!0)),m){var v=m.selectAll("g."+x).data(t);c=g,s=t,l=v.enter().append("g").attr("class",function(t,n){return x+" _"+n+" "+x+"-level-"+t.depth}),h=c,d=l.append("path").attr("fill",S).on("click",C).attr("d",function(t,n){return T(t,n,h)}),(p=rt.transition(d,w.transitionDuration())).attrTween&&p.attrTween("d",E),f=l,w.renderTitle()&&f.append("title").text(function(t){return w.title()(t)}),function(t,n){if(w.renderLabel()){var e=m.selectAll("text."+x).data(t);e.exit().remove();var r=e.enter().append("text").attr("class",function(t,n){var e=x+" _"+n;return b&&(e+=" external"),e}).on("click",C);A(r,n)}}(s,c),n=o=t,e=a=g,r=m.selectAll("g."+x).data(n).select("path").attr("d",function(t,n){return T(t,n,e)}),(i=rt.transition(r,w.transitionDuration())).attrTween&&i.attrTween("d",E),i.attr("fill",S),function(t,n){if(w.renderLabel()){var e=m.selectAll("text."+x).data(t);A(e,n)}}(o,a),u=o,w.renderTitle()&&m.selectAll("g."+x).data(u).select("title").text(function(t){return w.title()(t)}),v.exit().remove(),w.hasFilter()?w.selectAll("g."+x).each(function(t){!function(t){for(var n=0;n<w.filters().length;n++){var e=w.filters()[n];if(e.isFiltered(t))return!0}return!1}(t.path)?w.fadeDeselected(this):w.highlightSelected(this)}):w.selectAll("g."+x).each(function(t){w.resetHighlight(this)})}}function A(t,n){rt.transition(t,w.transitionDuration()).attr("transform",function(t){return function(t,n){var e;e=b?et.svg.arc().outerRadius(y+b).innerRadius(y+b).centroid(t):n.centroid(t);return isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(t,n)}).attr("text-anchor","middle").text(function(t){return 0===u(t)||(e=(n=t).x1-n.x0,isNaN(e)||e<a)?"":w.label()(t);var n,e})}function M(){return et.arc().startAngle(function(t){return t.x0}).endAngle(function(t){return t.x1}).innerRadius(function(t){return t.data.path&&1===t.data.path.length?o:Math.sqrt(t.y0)}).outerRadius(function(t){return Math.sqrt(t.y1)})}function k(t){var n=et.hierarchy(t).sum(function(t){return t.children?0:u(t)}).sort(function(t,n){return et.ascending(t.data.path,n.data.path)});return et.partition().size([2*Math.PI,y*y])(n),n.descendants().map(function(t){return t.key=t.data.key,t.path=t.data.path,t})}function E(n){n.innerRadius=o;var t,e=this._current;(!(t=e)||isNaN(t.dx)||isNaN(t.dy))&&(e={x:0,y:0,dx:0,dy:0});var r={x:n.x,y:n.y,dx:n.dx,dy:n.dy},i=et.interpolate(e,r);return this._current=i(0),function(t){return T(Object.assign({},n,i(t)),0,M())}}function S(t,n){return w.getColor(t,n)}function s(t){for(var n=t.path||t.key,e=rt.filters.HierarchyFilter(n),r=function(t){for(var n=rt.filters.HierarchyFilter(t),e=[],r=0;r<w.filters().length;r++){var i=w.filters()[r];(i.isFiltered(t)||n.isFiltered(i))&&e.push(i)}return e}(n),i=!1,o=r.length-1;0<=o;o--){var a=r[o];rt.utils.arraysIdentical(a,n)&&(i=!0),w.filter(r[o])}rt.events.trigger(function(){i||w.filter(e),w.redrawGroup()})}function C(t,n){m.attr("class")!==_&&s(t)}function T(t,n,e){var r=e(t,n);return 0<=r.indexOf("NaN")&&(r="M0,0"),r}function l(n,e){w.selectAll("g.pie-slice").each(function(t){n.name===t.key&&et.select(this).classed("highlight",e)})}return w.colorAccessor(w.cappedKeyAccessor),w.title(function(t){return w.cappedKeyAccessor(t)+": "+u(t)}),w.label(w.cappedKeyAccessor),w.renderLabel(!0),w.transitionDuration(350),w.filterHandler(function(t,r){return 0===r.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<r.length;n++){var e=r[n];if(e.isFiltered&&e.isFiltered(t))return!0}return!1}),r}),w._doRender=function(){return w.resetSvg(),m=w.svg().append("g").attr("transform","translate("+w.cx()+","+w.cy()+")"),c(),w},w.innerRadius=function(t){return arguments.length?(o=t,w):o},w.radius=function(t){return arguments.length?(y=t,w):y},w.cx=function(t){return arguments.length?(e=t,w):e||w.width()/2},w.cy=function(t){return arguments.length?(r=t,w):r||w.height()/2},w.minAngleForLabel=function(t){return arguments.length?(a=t,w):a},w.emptyTitle=function(t){return 0===arguments.length?i:(i=t,w)},w.externalLabels=function(t){return 0===arguments.length?b:(b=t||void 0,w)},w._doRedraw=function(){return c(),w},w.onClick=C,w.legendables=function(){return w.data().map(function(t,n){var e={name:t.key,data:t.value,others:t.others,chart:w};return e.color=w.getColor(t,n),e})},w.legendHighlight=function(t){l(t,!0)},w.legendReset=function(t){l(t,!1)},w.legendToggle=function(t){w.onClick({key:t.name,others:t.others})},w.anchor(t,n)},rt.barChart=function(t,n){var a,e=3,u=rt.stackMixin(rt.coordinateGridMixin({})),i=2,r=!1,o=!1;function c(t){return rt.utils.safeNumber(Math.abs(u.y()(t.y+t.y0)-u.y()(t.y0)))}function s(t){var n=u.x()(t.x);return r||(n+=a/2),u.isOrdinal()&&void 0!==i&&(n+=i/2),rt.utils.safeNumber(n)}function l(t){var n=u.y()(t.y+t.y0);return t.y<0&&(n-=c(t)),rt.utils.safeNumber(n-e)}function f(t){var n=u.x()(t.x);return r&&(n-=a/2),u.isOrdinal()&&void 0!==i&&(n+=i/2),rt.utils.safeNumber(n)}function h(n,e){return function(){var t=et.select(this).attr("fill")===n;return e?!t:t}}return rt.override(u,"rescale",function(){return u._rescale(),a=void 0,u}),rt.override(u,"render",function(){return u.round()&&r&&!o&&rt.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),u._render()}),u.label(function(t){return rt.utils.printSingleValue(t.y0+t.y)},!1),u.plotData=function(){var t=u.chartBodyG().selectAll("g.stack").data(u.data());!function(){if(void 0===a){var t=u.xUnitCount();((a=u.isOrdinal()&&void 0===i?Math.floor(u.x().bandwidth()):i?Math.floor((u.xAxisLength()-(t-1)*i)/t):Math.floor(u.xAxisLength()/(1+u.barPadding())/t))===1/0||isNaN(a)||a<1)&&(a=1)}}();var r=(t=t.enter().append("g").attr("class",function(t,n){return"stack _"+n}).merge(t)).size()-1;t.each(function(t,n){var e=et.select(this);!function(t,n,e){var r=t.selectAll("rect.bar").data(e.values,rt.pluck("x")),i=r.enter().append("rect").attr("class","bar").attr("fill",rt.pluck("data",u.getColor)).attr("x",f).attr("y",u.yAxisHeight()).attr("height",0),o=i.merge(r);u.renderTitle()&&i.append("title").text(rt.pluck("data",u.title(e.name)));u.isOrdinal()&&o.on("click",u.onClick);rt.transition(o,u.transitionDuration(),u.transitionDelay()).attr("x",f).attr("y",function(t){var n=u.y()(t.y+t.y0);return t.y<0&&(n-=c(t)),rt.utils.safeNumber(n)}).attr("width",a).attr("height",function(t){return c(t)}).attr("fill",rt.pluck("data",u.getColor)).select("title").text(rt.pluck("data",u.title(e.name))),rt.transition(r.exit(),u.transitionDuration(),u.transitionDelay()).attr("x",function(t){return u.x()(t.x)}).attr("width",.9*a).remove()}(e,0,t),u.renderLabel()&&r===n&&function(t,n,e){var r=t.selectAll("text.barLabel").data(e.values,rt.pluck("x")),i=r.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",s).attr("y",l).merge(r);u.isOrdinal()&&(i.on("click",u.onClick),i.attr("cursor","pointer"));rt.transition(i,u.transitionDuration(),u.transitionDelay()).attr("x",s).attr("y",l).text(function(t){return u.label()(t)}),rt.transition(r.exit(),u.transitionDuration(),u.transitionDelay()).attr("height",0).remove()}(e,0,t)})},u.fadeDeselectedArea=function(t){var n=u.chartBodyG().selectAll("rect.bar");if(u.isOrdinal())u.hasFilter()?(n.classed(rt.constants.SELECTED_CLASS,function(t){return u.hasFilter(t.x)}),n.classed(rt.constants.DESELECTED_CLASS,function(t){return!u.hasFilter(t.x)})):(n.classed(rt.constants.SELECTED_CLASS,!1),n.classed(rt.constants.DESELECTED_CLASS,!1));else if(u.brushOn()||u.parentBrushOn())if(u.brushIsEmpty(t))n.classed(rt.constants.DESELECTED_CLASS,!1);else{var e=t[0],r=t[1];n.classed(rt.constants.DESELECTED_CLASS,function(t){return t.x<e||t.x>=r})}},u.centerBar=function(t){return arguments.length?(r=t,u):r},rt.override(u,"onClick",function(t){u._onClick(t.data)}),u.barPadding=function(t){return arguments.length?(u._rangeBandPadding(t),i=void 0,u):u._rangeBandPadding()},u._useOuterPadding=function(){return void 0===i},u.outerPadding=u._outerRangeBandPadding,u.gap=function(t){return arguments.length?(i=t,u):i},u.extendBrush=function(t){return t&&u.round()&&(!r||o)&&(t[0]=u.round()(t[0]),t[1]=u.round()(t[1])),t},u.alwaysUseRounding=function(t){return arguments.length?(o=t,u):o},u.legendHighlight=function(t){u.isLegendableHidden(t)||u.g().selectAll("rect.bar").classed("highlight",h(t.color)).classed("fadeout",h(t.color,!0))},u.legendReset=function(){u.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},rt.override(u,"xAxisMax",function(){var t=this._xAxisMax();"resolution"in u.xUnits()&&(t+=u.xUnits().resolution);return t}),u.anchor(t,n)},rt.lineChart=function(t,n){var u,i,s="dc-tooltip",l="yRef",f="xRef",h=rt.stackMixin(rt.coordinateGridMixin({})),o=!1,d=5,e=null,p=1e-6,g=1e-6,r=null,a=null,c=null,v=!0;function y(t,n){return h.getColor.call(t,t.values,n)}function m(){var t=null;if(r)return r;"function"==typeof a?t=a:t={linear:et.curveLinear,"linear-closed":et.curveLinearClosed,step:et.curveStep,"step-before":et.curveStepBefore,"step-after":et.curveStepAfter,basis:et.curveBasis,"basis-open":et.curveBasisOpen,"basis-closed":et.curveBasisClosed,bundle:et.curveBundle,cardinal:et.curveCardinal,"cardinal-open":et.curveCardinalOpen,"cardinal-closed":et.curveCardinalClosed,monotone:et.curveMonotoneX}[a];return t||(t=et.curveLinear),null!==c&&("function"!=typeof t.tension?rt.logger.warn("tension was specified but the curve/interpolate does not support it."):t=t.tension(c)),t}function b(t){return!t||0<=t.indexOf("NaN")?"M0,0":t}function x(){return e||d}function _(t,n){h.renderTitle()&&(t.select("title").remove(),t.append("title").text(rt.pluck("data",h.title(n.name))))}function w(e,r,i){return function(){var t=et.select(this),n=t.attr("stroke")===e&&t.attr("stroke-dasharray")===(r instanceof Array?r.join(","):null)||t.attr("fill")===e;return i?!n:n}}return h.transitionDuration(500),h.transitionDelay(0),h._rangeBandPadding(1),h.plotData=function(){var t=h.chartBodyG(),n=t.select("g.stack-list");n.empty()&&(n=t.append("g").attr("class","stack-list"));var e=n.selectAll("g.stack").data(h.data()),r=e.enter().append("g").attr("class",function(t,n){return"stack _"+n});(function(t,n){var e=et.line().x(function(t){return h.x()(t.x)}).y(function(t){return h.y()(t.y+t.y0)}).curve(m());u&&e.defined(u);var r=t.append("path").attr("class","line").attr("stroke",y);i&&r.attr("stroke-dasharray",i);rt.transition(n.select("path.line"),h.transitionDuration(),h.transitionDelay()).attr("stroke",y).attr("d",function(t){return b(e(t.values))})})(r,e=r.merge(e)),function(t,n){if(o){var e=et.area().x(function(t){return h.x()(t.x)}).y1(function(t){return h.y()(t.y+t.y0)}).y0(function(t){return h.y()(t.y0)}).curve(m());u&&e.defined(u),t.append("path").attr("class","area").attr("fill",y).attr("d",function(t){return b(e(t.values))}),rt.transition(n.select("path.area"),h.transitionDuration(),h.transitionDelay()).attr("fill",y).attr("d",function(t){return b(e(t.values))})}}(r,e),function(t,n){if("always"===h.xyTipsOn()||!h.brushOn()&&!h.parentBrushOn()&&h.xyTipsOn()){var e=s+"-list",a=t.select("g."+e);a.empty()&&(a=t.append("g").attr("class",e)),n.each(function(t,n){var e=t.values;u&&(e=e.filter(u));var r,c=a.select("g."+s+"._"+n);c.empty()&&(c=a.append("g").attr("class",s+" _"+n)),((r=c).select("path."+l).empty()?r.append("path").attr("class",l):r.select("path."+l)).style("display","none").attr("stroke-dasharray","5,5"),(r.select("path."+f).empty()?r.append("path").attr("class",f):r.select("path."+f)).style("display","none").attr("stroke-dasharray","5,5");var i=c.selectAll("circle.dot").data(e,rt.pluck("x")),o=i.enter().append("circle").attr("class","dot").attr("cx",function(t){return rt.utils.safeNumber(h.x()(t.x))}).attr("cy",function(t){return rt.utils.safeNumber(h.y()(t.y+t.y0))}).attr("r",x()).style("fill-opacity",p).style("stroke-opacity",g).attr("fill",h.getColor).attr("stroke",h.getColor).on("mousemove",function(){var t,n,e,r,i,o,a,u=et.select(this);(t=u).style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",d),e=c,r=(n=u).attr("cx"),i=n.attr("cy"),o="M"+(h._yAxisX()-h.margins().left)+" "+i+"L"+r+" "+i,a="M"+r+" "+h.yAxisHeight()+"L"+r+" "+i,e.select("path."+l).style("display","").attr("d",o),e.select("path."+f).style("display","").attr("d",a)}).on("mouseout",function(){var t,n=et.select(this);n.style("fill-opacity",p).style("stroke-opacity",g).attr("r",x()),(t=c).select("path."+l).style("display","none"),t.select("path."+f).style("display","none")}).merge(i);o.call(_,t),rt.transition(o,h.transitionDuration()).attr("cx",function(t){return rt.utils.safeNumber(h.x()(t.x))}).attr("cy",function(t){return rt.utils.safeNumber(h.y()(t.y+t.y0))}).attr("fill",h.getColor),i.exit().remove()})}}(t,e),h.renderLabel()&&e.each(function(t,n){var e=et.select(this),r=e.selectAll("text.lineLabel").data(t.values,rt.pluck("x")),i=r.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(r);rt.transition(i,h.transitionDuration()).attr("x",function(t){return rt.utils.safeNumber(h.x()(t.x))}).attr("y",function(t){var n=h.y()(t.y+t.y0)-3;return rt.utils.safeNumber(n)}).text(function(t){return h.label()(t)}),rt.transition(r.exit(),h.transitionDuration()).attr("height",0).remove()})},h.curve=function(t){return arguments.length?(r=t,h):r},h.interpolate=rt.logger.deprecate(function(t){return arguments.length?(a=t,h):a},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),h.tension=rt.logger.deprecate(function(t){return arguments.length?(c=t,h):c},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),h.defined=function(t){return arguments.length?(u=t,h):u},h.dashStyle=function(t){return arguments.length?(i=t,h):i},h.renderArea=function(t){return arguments.length?(o=t,h):o},h.label(function(t){return rt.utils.printSingleValue(t.y0+t.y)},!1),h.xyTipsOn=function(t){return arguments.length?(v=t,h):v},h.dotRadius=function(t){return arguments.length?(d=t,h):d},h.renderDataPoints=function(t){return arguments.length?(t?(p=t.fillOpacity||.8,g=t.strokeOpacity||0,e=t.radius||2):(g=p=1e-6,e=null),h):{fillOpacity:p,strokeOpacity:g,radius:e}},h.legendHighlight=function(t){h.isLegendableHidden(t)||h.g().selectAll("path.line, path.area").classed("highlight",w(t.color,t.dashstyle)).classed("fadeout",w(t.color,t.dashstyle,!0))},h.legendReset=function(){h.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},rt.override(h,"legendables",function(){var t=h._legendables();return i?t.map(function(t){return t.dashstyle=i,t}):t}),h.anchor(t,n)},rt.dataCount=function(t,n){var i=et.format(",d"),o=rt.baseMixin({}),a={some:"",all:""};return o.html=function(t){return arguments.length?(t.all&&(a.all=t.all),t.some&&(a.some=t.some),o):a},o.formatNumber=function(t){return arguments.length?(i=t,o):i},o._doRender=function(){var t=o.dimension().size(),n=o.group().value(),e=i(t),r=i(n);return t===n&&""!==a.all?o.root().html(a.all.replace("%total-count",e).replace("%filter-count",r)):""!==a.some?o.root().html(a.some.replace("%total-count",e).replace("%filter-count",r)):(o.selectAll(".total-count").text(e),o.selectAll(".filter-count").text(r)),o},o._doRedraw=function(){return o._doRender()},o.anchor(t,n)},rt.dataTable=function(t,n){var a,r="dc-table-row",u=rt.baseMixin({}),c=25,s=[],l=function(t){return t},f=et.ascending,h=0,d=!0;return u._doRender=function(){var t,n,e;return u.selectAll("tbody").remove(),t=function(){var n=!0;if(s.forEach(function(t){n&="function"==typeof t}),!n){var t=u.selectAll("thead").data([0]);t.exit().remove();var e=(t=t.enter().append("thead").merge(t)).selectAll("tr").data([0]);e.exit().remove();var r=(e=e.enter().append("tr").merge(e)).selectAll("th").data(s);r.exit().remove(),r.enter().append("th").merge(r).attr("class","dc-table-head").html(function(t){return u._doColumnHeaderFormat(t)})}var i=u.root().selectAll("tbody").data(function(){var t;t=f===et.ascending?u.dimension().bottom(c):u.dimension().top(c);return et.nest().key(u.group()).sortKeys(f).entries(t.sort(function(t,n){return f(l(t),l(n))}).slice(h,a))}(),function(t){return u.keyAccessor()(t)}),o=i.enter().append("tbody");!0===d&&o.append("tr").attr("class","dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",s.length).html(function(t){return u.keyAccessor()(t)});return i.exit().remove(),o}(),n=t.order().selectAll("tr."+r).data(function(t){return t.values}),e=n.enter().append("tr").attr("class",r),s.forEach(function(n,t){e.append("td").attr("class","dc-table-column _"+t).html(function(t){return u._doColumnValueFormat(n,t)})}),n.exit().remove(),u},u._doColumnValueFormat=function(t,n){return"function"==typeof t?t(n):"string"==typeof t?n[t]:t.format(n)},u._doColumnHeaderFormat=function(t){return"function"==typeof t?u._doColumnHeaderFnToString(t):"string"==typeof t?u._doColumnHeaderCapitalize(t):String(t.label)},u._doColumnHeaderCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u._doColumnHeaderFnToString=function(t){var n=String(t),e=n.indexOf("return ");if(0<=e){var r=n.lastIndexOf(";");if(0<=r)0<=(n=n.substring(e+7,r)).indexOf("numberFormat")&&(n=n.replace("numberFormat",""))}return n},u._doRedraw=function(){return u._doRender()},u.size=function(t){return arguments.length?(c=t,u):c},u.beginSlice=function(t){return arguments.length?(h=t,u):h},u.endSlice=function(t){return arguments.length?(a=t,u):a},u.columns=function(t){return arguments.length?(s=t,u):s},u.sortBy=function(t){return arguments.length?(l=t,u):l},u.order=function(t){return arguments.length?(f=t,u):f},u.showGroups=function(t){return arguments.length?(d=t,u):d},u.anchor(t,n)},rt.dataGrid=function(t,n){var r,e="dc-grid-item",i="dc-grid-top",o=rt.baseMixin({}),a=999,u=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},c=function(t){return t},s=et.ascending,l=0,f=function(t){return"<div class='dc-grid-group'><h1 class='dc-grid-label'>"+o.keyAccessor()(t)+"</h1></div>"};return o._doRender=function(){var t,n;return o.selectAll("div."+i).remove(),t=function(){var t=o.root().selectAll("div."+i).data((e=o.dimension().top(a),et.nest().key(o.group()).sortKeys(s).entries(e.sort(function(t,n){return s(c(t),c(n))}).slice(l,r))),function(t){return o.keyAccessor()(t)}),n=t.enter().append("div").attr("class",i);var e;f&&n.html(function(t){return f(t)});return t.exit().remove(),n}(),(n=t.order().selectAll("div."+e).data(function(t){return t.values})).exit().remove(),n=n.enter().append("div").attr("class",e).html(function(t){return u(t)}).merge(n),o},o._doRedraw=function(){return o._doRender()},o.beginSlice=function(t){return arguments.length?(l=t,o):l},o.endSlice=function(t){return arguments.length?(r=t,o):r},o.size=function(t){return arguments.length?(a=t,o):a},o.html=function(t){return arguments.length?(u=t,o):u},o.htmlGroup=function(t){return arguments.length?(f=t,o):f},o.sortBy=function(t){return arguments.length?(c=t,o):c},o.order=function(t){return arguments.length?(s=t,o):s},o.anchor(t,n)},rt.bubbleChart=function(t,n){var o=rt.bubbleMixin(rt.coordinateGridMixin({}));o.transitionDuration(750),o.transitionDelay(0);var a=function(t){return"translate("+function(t){var n=o.x()(o.keyAccessor()(t));!isNaN(n)&&isFinite(n)||(n=0);return n}(t)+","+function(t){var n=o.y()(o.valueAccessor()(t));!isNaN(n)&&isFinite(n)||(n=0);return n}(t)+")"};return o.plotData=function(){o.calculateRadiusDomain(),o.r().range([o.MIN_RADIUS,o.xAxisLength()*o.maxBubbleRelativeSize()]);var t,n,e,r=o.data(),i=o.chartBodyG().selectAll("g."+o.BUBBLE_NODE_CLASS).data(r,function(t){return t.key});o.sortBubbleSize()&&i.order(),i.exit().remove(),(n=(t=i).enter().append("g")).attr("class",o.BUBBLE_NODE_CLASS).attr("transform",a).append("circle").attr("class",function(t,n){return o.BUBBLE_CLASS+" _"+n}).on("click",o.onClick).attr("fill",o.getColor).attr("r",0),t=n.merge(t),rt.transition(t,o.transitionDuration(),o.transitionDelay()).select("circle."+o.BUBBLE_CLASS).attr("r",function(t){return o.bubbleR(t)}).attr("opacity",function(t){return 0<o.bubbleR(t)?1:0}),o._doRenderLabel(n),o._doRenderTitles(n),e=i=t,rt.transition(e,o.transitionDuration(),o.transitionDelay()).attr("transform",a).select("circle."+o.BUBBLE_CLASS).attr("fill",o.getColor).attr("r",function(t){return o.bubbleR(t)}).attr("opacity",function(t){return 0<o.bubbleR(t)?1:0}),o.doUpdateLabels(e),o.doUpdateTitles(e),o.fadeDeselectedArea(o.filter())},o.renderBrush=function(){},o.redrawBrush=function(t,n){o.fadeDeselectedArea(t)},o.anchor(t,n)},rt.compositeChart=function(t,n){var r,e="sub",h=rt.coordinateGridMixin({}),i=[],o={},a=!1,u=!0,c=!1,s=et.axisRight(),l=0,f=12,d=!1;function p(t,n){t._generateG(h.g()),t.g().attr("class",e+" _"+n)}function g(){return i.filter(function(t){return!t.useRightYAxis()})}function v(){return i.filter(function(t){return t.useRightYAxis()})}function y(t){return t.map(function(t){return t.yAxisMin()})}function m(t){return t.map(function(t){return t.yAxisMax()})}return h._mandatoryAttributes([]),h.transitionDuration(500),h.transitionDelay(0),rt.override(h,"_generateG",function(){for(var t=this.__generateG(),n=0;n<i.length;++n){var e=i[n];p(e,n),e.dimension()||e.dimension(h.dimension()),e.group()||e.group(h.group()),e.chartGroup(h.chartGroup()),e.svg(h.svg()),e.xUnits(h.xUnits()),e.transitionDuration(h.transitionDuration(),h.transitionDelay()),e.parentBrushOn(h.brushOn()),e.brushOn(!1),e.renderTitle(h.renderTitle()),e.elasticX(h.elasticX())}return t}),h.on("filtered.dcjs-composite-chart",function(t){for(var n=0;n<i.length;++n)i[n].replaceFilter(h.filter())}),h._prepareYAxis=function(){var t=0!==g().length,n=0!==v().length,e=function(t,n){var e,r,i,o,a;t&&(e=et.min(y(g())),r=rt.utils.add(et.max(m(g())),h.yAxisPadding()));n&&(i=et.min(y(v())),o=rt.utils.add(et.max(m(v())),h.yAxisPadding()));h.alignYAxes()&&t&&n&&(f=((l=o)-(s=i))/((c=r)-(u=e)),a={lyAxisMin:Math.min(u,s/f),lyAxisMax:Math.max(c,l/f),ryAxisMin:Math.min(s,u*f),ryAxisMax:Math.max(l,c*f)});var u,c,s,l,f;return a||{lyAxisMin:e,lyAxisMax:r,ryAxisMin:i,ryAxisMax:o}}(t,n);t&&function(t){var n=void 0===h.y()||h.elasticY(),e=n||h.resizing();void 0===h.y()&&h.y(et.scaleLinear());n&&h.y().domain([t.lyAxisMin,t.lyAxisMax]);e&&h.y().rangeRound([h.yAxisHeight(),0]);h.y().range([h.yAxisHeight(),0]),h.yAxis(h.yAxis().scale(h.y()))}(e),n&&function(t){var n=void 0===h.rightY()||h.elasticY(),e=n||h.resizing();void 0===h.rightY()&&h.rightY(et.scaleLinear());n&&h.rightY().domain([t.ryAxisMin,t.ryAxisMax]);e&&h.rightY().rangeRound([h.yAxisHeight(),0]);h.rightY().range([h.yAxisHeight(),0]),h.rightYAxis(h.rightYAxis().scale(h.rightY()))}(e),0<g().length&&!d?h._renderHorizontalGridLinesForAxis(h.g(),h.y(),h.yAxis()):0<v().length&&h._renderHorizontalGridLinesForAxis(h.g(),r,s)},h.renderYAxis=function(){0!==g().length&&(h.renderYAxisAt("y",h.yAxis(),h.margins().left),h.renderYAxisLabel("y",h.yAxisLabel(),-90)),0!==v().length&&(h.renderYAxisAt("yr",h.rightYAxis(),h.width()-h.margins().right),h.renderYAxisLabel("yr",h.rightYAxisLabel(),90,h.width()-f))},h.plotData=function(){for(var t=0;t<i.length;++t){var n=i[t];n.g()||p(n,t),a&&n.colors(h.colors()),n.x(h.x()),n.xAxis(h.xAxis()),n.useRightYAxis()?(n.y(h.rightY()),n.yAxis(h.rightYAxis())):(n.y(h.y()),n.yAxis(h.yAxis())),n.plotData(),n._activateRenderlets()}},h.useRightAxisGridLines=function(t){return arguments?(d=t,h):d},h.childOptions=function(t){return arguments.length?(o=t,i.forEach(function(t){t.options(o)}),h):o},h.fadeDeselectedArea=function(t){if(h.brushOn())for(var n=0;n<i.length;++n){i[n].fadeDeselectedArea(t)}},h.rightYAxisLabel=function(t,n){return arguments.length?(l=t,h.margins().right-=f,f=void 0===n?12:n,h.margins().right+=f,h):l},h.compose=function(t){return(i=t).forEach(function(t){t.height(h.height()),t.width(h.width()),t.margins(h.margins()),u&&t.title(h.title()),t.options(o)}),h},h.children=function(){return i},h.shareColors=function(t){return arguments.length?(a=t,h):a},h.shareTitle=function(t){return arguments.length?(u=t,h):u},h.rightY=function(t){return arguments.length?(r=t,h.rescale(),h):r},h.alignYAxes=function(t){return arguments.length?(c=t,h.rescale(),h):c},delete h.yAxisMin,delete h.yAxisMax,rt.override(h,"xAxisMin",function(){return rt.utils.subtract(et.min(i.map(function(t){return t.xAxisMin()})),h.xAxisPadding(),h.xAxisPaddingUnit())}),rt.override(h,"xAxisMax",function(){return rt.utils.add(et.max(i.map(function(t){return t.xAxisMax()})),h.xAxisPadding(),h.xAxisPaddingUnit())}),h.legendables=function(){return i.reduce(function(t,n){return a&&n.colors(h.colors()),t.push.apply(t,n.legendables()),t},[])},h.legendHighlight=function(t){for(var n=0;n<i.length;++n){i[n].legendHighlight(t)}},h.legendReset=function(t){for(var n=0;n<i.length;++n){i[n].legendReset(t)}},h.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},h.rightYAxis=function(t){return arguments.length?(s=t,h):s},h.anchor(t,n)},rt.seriesChart=function(t,o){var a=rt.compositeChart(t,o);var e,u={},c=rt.lineChart,s=et.ascending,l=function(t,n){return et.ascending(a.keyAccessor()(t),a.keyAccessor()(n))};function f(t){u[t].g()&&u[t].g().remove(),delete u[t]}function n(){Object.keys(u).map(f),u={}}return a._mandatoryAttributes().push("seriesAccessor","chart"),a.shareColors(!0),a._preprocessData=function(){var r,i=[],t=et.nest().key(e);s&&t.sortKeys(s),l&&t.sortValues(l);var n=t.entries(a.data()).map(function(t,n){var e=u[t.key]||c.call(a,a,o,t.key,n);return u[t.key]||(r=!0),u[t.key]=e,i.push(t.key),e.dimension(a.dimension()).group({all:"function"==typeof t.values?t.values:rt.utils.constant(t.values)},t.key).keyAccessor(a.keyAccessor()).valueAccessor(a.valueAccessor()).brushOn(!1)});Object.keys(u).filter(function(t){return-1===i.indexOf(t)}).forEach(function(t){f(t),r=!0}),a._compose(n),r&&a.legend()&&a.legend().render()},a.chart=function(t){return arguments.length?(c=t,n(),a):c},a.seriesAccessor=function(t){return arguments.length?(e=t,n(),a):e},a.seriesSort=function(t){return arguments.length?(s=t,n(),a):s},a.valueSort=function(t){return arguments.length?(l=t,n(),a):l},a._compose=a.compose,delete a.compose,a},rt.geoChoroplethChart=function(t,n){var f=rt.colorMixin(rt.baseMixin({}));f.colorAccessor(function(t){return t||0});var e,r,i=et.geoPath(),o=[];function a(t){var n,r,i,e,o,a,u,c,s=function(){for(var t={},n=f.data(),e=0;e<n.length;++e)t[f.keyAccessor()(n[e])]=f.valueAccessor()(n[e]);return t}();if(g(t).keyAccessor){var l=(u=t,f.svg().selectAll((c=u,"g.layer"+c+" g."+g(c).name)).classed("selected",function(t){return h(u,t)}).classed("deselected",function(t){return d(u,t)}).attr("class",function(t){var n=g(u).name,e=rt.utils.nameToId(g(u).keyAccessor(t)),r=n+" "+e;return h(u,t)&&(r+=" selected"),d(u,t)&&(r+=" deselected"),r}));e=t,o=s,a=l.select("path").attr("fill",function(){var t=et.select(this).attr("fill");return t||"none"}).on("click",function(t){return f.onClick(t,e)}),rt.transition(a,f.transitionDuration(),f.transitionDelay()).attr("fill",function(t,n){return f.getColor(o[g(e).keyAccessor(t)],n)}),n=l,r=t,i=s,f.renderTitle()&&n.selectAll("title").text(function(t){var n=p(r,t),e=i[n];return f.title()({key:n,value:e})})}}function h(t,n){return f.hasFilter()&&f.hasFilter(p(t,n))}function d(t,n){return f.hasFilter()&&!f.hasFilter(p(t,n))}function p(t,n){return g(t).keyAccessor(n)}function g(t){return o[t]}f._doRender=function(){f.resetSvg();for(var t=0;t<o.length;++t){var n=f.svg().append("g").attr("class","layer"+t).selectAll("g."+g(t).name).data(g(t).data);(n=n.enter().append("g").attr("class",g(t).name).merge(n)).append("path").attr("fill","white").attr("d",u()),n.append("title"),a(t)}e=!1},f.onClick=function(t,n){var e=g(n).keyAccessor(t);rt.events.trigger(function(){f.filter(e),f.redrawGroup()})},f._doRedraw=function(){for(var t=0;t<o.length;++t)a(t),e&&f.svg().selectAll("g."+g(t).name+" path").attr("d",u());e=!1},f.overlayGeoJson=function(t,n,e){for(var r=0;r<o.length;++r)if(o[r].name===n)return o[r].data=t,o[r].keyAccessor=e,f;return o.push({name:n,data:t,keyAccessor:e}),f},f.projection=function(t){return arguments.length?(r=t,e=!0,f):r};var u=function(){return void 0===r?(rt.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),i.projection(et.geoAlbersUsa())):i.projection(r)};return f.geoJsons=function(){return o},f.geoPath=function(){return i},f.removeGeoJson=function(t){for(var n=[],e=0;e<o.length;++e){var r=o[e];r.name!==t&&n.push(r)}return o=n,f},f.anchor(t,n)},rt.bubbleOverlay=function(t,n){var i,e="bubble-overlay",o="node",a="bubble",u=rt.bubbleMixin(rt.baseMixin({})),c=[];function s(){var n={};return u.data().forEach(function(t){n[u.keyAccessor()(t)]=t}),n}function l(t,n){var e=o+" "+rt.utils.nameToId(t.name),r=i.select("g."+rt.utils.nameToId(t.name));return r.empty()&&(r=i.append("g").attr("class",e).attr("transform","translate("+t.x+","+t.y+")")),r.datum(n[t.name]),r}return u.transitionDuration(750),u.transitionDelay(0),u.radiusValueAccessor(function(t){return t.value}),u.point=function(t,n,e){return c.push({name:t,x:n,y:e}),u},u._doRender=function(){var r;return i=function(){(i=u.select("g."+e)).empty()&&(i=u.svg().append("g").attr("class",e));return i}(),u.r().range([u.MIN_RADIUS,u.width()*u.maxBubbleRelativeSize()]),r=s(),u.calculateRadiusDomain(),c.forEach(function(t){var n=l(t,r),e=n.select("circle."+a);e.empty()&&(e=n.append("circle").attr("class",a).attr("r",0).attr("fill",u.getColor).on("click",u.onClick)),rt.transition(e,u.transitionDuration(),u.transitionDelay()).attr("r",function(t){return u.bubbleR(t)}),u._doRenderLabel(n),u._doRenderTitles(n)}),u.fadeDeselectedArea(u.filter()),u},u._doRedraw=function(){var r;return r=s(),u.calculateRadiusDomain(),c.forEach(function(t){var n=l(t,r),e=n.select("circle."+a);rt.transition(e,u.transitionDuration(),u.transitionDelay()).attr("r",function(t){return u.bubbleR(t)}).attr("fill",u.getColor),u.doUpdateLabels(n),u.doUpdateTitles(n)}),u.fadeDeselectedArea(u.filter()),u},u.debug=function(t){if(t){var e=u.select("g."+rt.constants.DEBUG_GROUP_CLASS);e.empty()&&(e=u.svg().append("g").attr("class",rt.constants.DEBUG_GROUP_CLASS));var r=e.append("text").attr("x",10).attr("y",20);e.append("rect").attr("width",u.width()).attr("height",u.height()).on("mousemove",function(){var t=et.mouse(e.node()),n=t[0]+", "+t[1];r.text(n)})}else u.selectAll(".debug").remove();return u},u.anchor(t,n),u},rt.rowChart=function(t,n){var i,o,e,a,u=10,c=15,s=!1,l="0.35em",f=2,h=5,d=!1,p="row",g="titlerow",r=!1,v=rt.capMixin(rt.marginMixin(rt.colorMixin(rt.baseMixin({})))),y=et.axisBottom();function m(){var t=i.select("g.axis");!function(){if(!o||e){var t=et.extent(a,v.cappedValueAccessor);0<t[0]&&(t[0]=0),t[1]<0&&(t[1]=0),o=et.scaleLinear().domain(t).range([0,v.effectiveWidth()])}y.scale(o)}(),t.empty()&&(t=i.append("g").attr("class","axis")),t.attr("transform","translate(0, "+v.effectiveHeight()+")"),rt.transition(t,v.transitionDuration(),v.transitionDelay()).call(y)}function b(){a=v.data(),m(),i.selectAll("g.tick").select("line.grid-line").remove(),i.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-v.effectiveHeight()});var t,n,e,r=i.selectAll("g."+p).data(a);r.exit().remove(),function(t){var e,n=a.length;e=d||(v.effectiveHeight()-(n+1)*h)/n;s||(c=e/2);var r=t.attr("transform",function(t,n){return"translate(0,"+((n+1)*h+n*e)+")"}).select("rect").attr("height",e).attr("fill",v.getColor).on("click",_).classed("deselected",function(t){return!!v.hasFilter()&&!A(t)}).classed("selected",function(t){return!!v.hasFilter()&&A(t)});rt.transition(r,v.transitionDuration(),v.transitionDelay()).attr("width",function(t){return Math.abs(x()-o(v.valueAccessor()(t)))}).attr("transform",w),i=t,v.renderTitle()&&(i.select("title").remove(),i.append("title").text(v.title())),function(t){if(v.renderLabel()){var n=t.select("text").attr("x",u).attr("y",c).attr("dy",l).on("click",_).attr("class",function(t,n){return p+" _"+n}).text(function(t){return v.label()(t)});rt.transition(n,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}if(v.renderTitleLabel()){var e=t.select("."+g).attr("x",v.effectiveWidth()-f).attr("y",c).attr("dy",l).attr("text-anchor","end").on("click",_).attr("class",function(t,n){return g+" _"+n}).text(function(t){return v.title()(t)});rt.transition(e,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}}(t);var i}(r=(t=r,n=t.enter().append("g").attr("class",function(t,n){return p+" _"+n}),n.append("rect").attr("width",0),e=n,v.renderLabel()&&e.append("text").on("click",_),v.renderTitleLabel()&&e.append("text").attr("class",g).on("click",_),n).merge(r))}function x(){var t=o(0);return t===-1/0||t!=t?o(1):t}function _(t){v.onClick(t)}function w(t){var n=o(v.cappedValueAccessor(t)),e=x();return"translate("+(e<n?e:n)+",0)"}function A(t){return v.hasFilter(v.cappedKeyAccessor(t))}return v.rowsCap=v.cap,v._doRender=function(){return v.resetSvg(),i=v.svg().append("g").attr("transform","translate("+v.margins().left+","+v.margins().top+")"),b(),v},v.title(function(t){return v.cappedKeyAccessor(t)+": "+v.cappedValueAccessor(t)}),v.label(v.cappedKeyAccessor),v.x=function(t){return arguments.length?(o=t,v):o},v.renderTitleLabel=function(t){return arguments.length?(r=t,v):r},v._doRedraw=function(){return b(),v},v.xAxis=function(t){return arguments.length?(y=t,this):y},v.fixedBarHeight=function(t){return arguments.length?(d=t,v):d},v.gap=function(t){return arguments.length?(h=t,v):h},v.elasticX=function(t){return arguments.length?(e=t,v):e},v.labelOffsetX=function(t){return arguments.length?(u=t,v):u},v.labelOffsetY=function(t){return arguments.length?(c=t,s=!0,v):c},v.titleLabelOffsetX=function(t){return arguments.length?(f=t,v):f},v.anchor(t,n)},rt.legend=function(){var e,r,a,n={},u=0,c=0,s=12,l=5,f=!1,h=560,d=70,p=!1,g=rt.pluck("name");function v(){return l+s}return n.parent=function(t){return arguments.length?(e=t,n):e},n.render=function(){e.svg().select("g.dc-legend").remove(),a=e.svg().append("g").attr("class","dc-legend").attr("transform","translate("+u+","+c+")");var t=e.legendables();void 0!==r&&(t=t.slice(0,r));var n=a.selectAll("g.dc-legend-item").data(t).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(t){e.legendHighlight(t)}).on("mouseout",function(t){e.legendReset(t)}).on("click",function(t){t.chart.legendToggle(t)});a.selectAll("g.dc-legend-item").classed("fadeout",function(t){return t.chart.isLegendableHidden(t)}),t.some(rt.pluck("dashstyle"))?n.append("line").attr("x1",0).attr("y1",s/2).attr("x2",s).attr("y2",s/2).attr("stroke-width",2).attr("stroke-dasharray",rt.pluck("dashstyle")).attr("stroke",rt.pluck("color")):n.append("rect").attr("width",s).attr("height",s).attr("fill",function(t){return t?t.color:"blue"}),n.append("text").text(g).attr("x",s+2).attr("y",function(){return s/2+(this.clientHeight?this.clientHeight:13)/2-2});var i=0,o=0;n.attr("transform",function(t,n){if(f){var e=!0===p?this.getBBox().width+l:d;h<i+e&&0<i&&(++o,i=0);var r="translate("+i+","+o*v()+")";return i+=e,r}return"translate(0,"+n*v()+")"})},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(c=t,n):c},n.gap=function(t){return arguments.length?(l=t,n):l},n.itemHeight=function(t){return arguments.length?(s=t,n):s},n.horizontal=function(t){return arguments.length?(f=t,n):f},n.legendWidth=function(t){return arguments.length?(h=t,n):h},n.itemWidth=function(t){return arguments.length?(d=t,n):d},n.autoItemWidth=function(t){return arguments.length?(p=t,n):p},n.legendText=function(t){return arguments.length?(g=t,n):g},n.maxItems=function(t){return arguments.length?(r=rt.utils.isNumber(t)?t:void 0,n):r},n},rt.htmlLegend=function(){var a,u,c,s,n={},l=rt.pluck("name"),f=!1,h=!1;return n.parent=function(t){return arguments.length?(a=t,n):a},n.render=function(){var t=f?"dc-legend-item-horizontal":"dc-legend-item-vertical";u.select("div.dc-html-legend").remove();var n=u.append("div").attr("class","dc-html-legend");n.attr("style","max-width:"+u.nodes()[0].style.width);var e=a.legendables(),r=a.filters();void 0!==c&&(e=e.slice(0,c));var i=s||t,o=n.selectAll("div."+i).data(e).enter().append("div").classed(i,!0).on("mouseover",a.legendHighlight).on("mouseout",a.legendReset).on("click",a.legendToggle);h&&o.classed(rt.constants.SELECTED_CLASS,function(t){return-1!==r.indexOf(t.name)}),o.append("span").attr("class","dc-legend-item-color").style("background-color",rt.pluck("color")),o.append("span").attr("class","dc-legend-item-label").attr("title",l).text(l)},n.container=function(t){return arguments.length?(u=et.select(t),n):u},n.legendItemClass=function(t){return arguments.length?(s=t,n):s},n.highlightSelected=function(t){return arguments.length?(h=t,n):h},n.horizontal=function(t){return arguments.length?(f=t,n):f},n.legendText=function(t){return arguments.length?(l=t,n):l},n.maxItems=function(t){return arguments.length?(c=rt.utils.isNumber(t)?t:void 0,n):c},n},rt.scatterPlot=function(t,n){var i=rt.coordinateGridMixin({}),o=et.symbol(),e=function(t){return t.value},r=i.keyAccessor();i.keyAccessor(function(t){return r(t)[0]}),i.valueAccessor(function(t){return r(t)[1]}),i.colorAccessor(function(){return i._groupName}),i.title(function(t){return i.keyAccessor()(t)+","+i.valueAccessor()(t)+": "+i.existenceAccessor()(t)});var a=function(t){return"translate("+i.x()(i.keyAccessor()(t))+","+i.y()(i.valueAccessor()(t))+")"},u=7,c=5,s=3,l=null,f=1,h=0,d=0,p=1,g=null,v=[];function y(t,n){return e(t)?v[n]?Math.pow(c,2):Math.pow(s,2):Math.pow(h,2)}function m(t,n){i.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(function(t){return i.title()(t)}))}function b(t,n){var e=i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t(et.select(this))}),r=o.size();o.size(Math.pow(n,2)),rt.transition(e,i.transitionDuration(),i.transitionDelay()).attr("d",o),o.size(r)}return i.brush(et.brush()),o.size(y),rt.override(i,"_filter",function(t){return arguments.length?i.__filter(rt.filters.RangedTwoDimensionalFilter(t)):i.__filter()}),i.plotData=function(){var t=i.chartBodyG().selectAll("path.symbol").data(i.data());rt.transition(t.exit(),i.transitionDuration(),i.transitionDelay()).attr("opacity",0).remove(),(t=t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",i.getColor).attr("transform",a).merge(t)).call(m,i.data()),t.each(function(t,n){v[n]=!i.filter()||i.filter().isFiltered([i.keyAccessor()(t),i.valueAccessor()(t)])}),rt.transition(t,i.transitionDuration(),i.transitionDelay()).attr("opacity",function(t,n){return e(t)?v[n]?p:i.excludedOpacity():d}).attr("fill",function(t,n){return g&&!e(t)?g:i.excludedColor()&&!v[n]?i.excludedColor():i.getColor(t)}).attr("transform",a).attr("d",o)},i.existenceAccessor=function(t){return arguments.length?(e=t,this):e},i.symbol=function(t){return arguments.length?(o.type(t),i):o.type()},i.customSymbol=function(t){return arguments.length?((o=t).size(y),i):o},i.symbolSize=function(t){return arguments.length?(c=t,i):c},i.highlightedSize=function(t){return arguments.length?(u=t,i):u},i.excludedSize=function(t){return arguments.length?(s=t,i):s},i.excludedColor=function(t){return arguments.length?(l=t,i):l},i.excludedOpacity=function(t){return arguments.length?(f=t,i):f},i.hiddenSize=i.emptySize=function(t){return arguments.length?(h=t,i):h},i.emptyColor=function(t){return arguments.length?(g=t,i):g},i.emptyOpacity=function(t){return arguments.length?(d=t,i):d},i.nonemptyOpacity=function(t){return arguments.length?(p=t,i):d},i.legendables=function(){return[{chart:i,name:i._groupName,color:i.getColor()}]},i.legendHighlight=function(n){b(function(t){return t.attr("fill")===n.color},u),i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return et.select(this).attr("fill")!==n.color}).classed("fadeout",!0)},i.legendReset=function(n){b(function(t){return t.attr("fill")===n.color},c),i.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return et.select(this).attr("fill")!==n.color}).classed("fadeout",!1)},i.createBrushHandlePaths=function(){},i.extendBrush=function(t){return i.round()&&(t[0]=t[0].map(i.round()),t[1]=t[1].map(i.round())),t},i.brushIsEmpty=function(t){return!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]},i._brushing=function(){if(et.event.sourceEvent&&(!et.event.sourceEvent.type||-1===["start","brush","end"].indexOf(et.event.sourceEvent.type))){var t=et.event.selection,n=i.brushIsEmpty(t);t&&(t=t.map(function(t){return t.map(function(t,n){return(0===n?i.x():i.y()).invert(t)})}),t=i.extendBrush(t),n=n&&i.brushIsEmpty(t)),i.redrawBrush(t,!1);var e=n?null:rt.filters.RangedTwoDimensionalFilter(t);rt.events.trigger(function(){i.replaceFilter(e),i.redrawGroup()},rt.constants.EVENT_DELAY)}},i.redrawBrush=function(t,n){var e=i.brush(),r=i.gBrush();i.brushOn()&&r&&(i.resizing()&&i.setBrushExtents(n),t?(t=t.map(function(t){return t.map(function(t,n){return(0===n?i.x():i.y())(t)})}),rt.optionalTransition(n,i.transitionDuration(),i.transitionDelay())(r).call(e.move,t)):r.call(e.move,t));i.fadeDeselectedArea(t)},i.setBrushY=function(t){t.call(i.brush().y(i.y()))},i.anchor(t,n)},rt.numberDisplay=function(t,n){var e,r="number-display",i=et.format(".2s"),a=rt.baseMixin({}),u={one:"",some:"",none:""};return a._mandatoryAttributes(["group"]),a.ordering(function(t){return t.value}),a.html=function(t){return arguments.length?(t.none?u.none=t.none:t.one?u.none=t.one:t.some&&(u.none=t.some),t.one?u.one=t.one:t.some&&(u.one=t.some),t.some?u.some=t.some:t.one&&(u.some=t.one),a):u},a.value=function(){return a.data()},a.data(function(t){var n=t.value?t.value():function(t){if(!t.length)return null;var n=a._computeOrderedGroups(t);return n[n.length-1]}(t.all());return a.valueAccessor()(n)}),a.transitionDuration(250),a.transitionDelay(0),a._doRender=function(){var o=a.value(),t=a.selectAll("."+r);t.empty()&&(t=t.data([0]).enter().append("span").attr("class",r).merge(t)),t.transition().duration(a.transitionDuration()).delay(a.transitionDelay()).ease(et.easeQuad).tween("text",function(){var t=isFinite(e)?e:0,r=et.interpolateNumber(t||0,o);e=o;var i=this;return function(t){var n=null,e=a.formatNumber()(r(t));0===o&&""!==u.none?n=u.none:1===o&&""!==u.one?n=u.one:""!==u.some&&(n=u.some),i.innerHTML=n?n.replace("%number",e):e}})},a._doRedraw=function(){return a._doRender()},a.formatNumber=function(t){return arguments.length?(i=t,a):i},a.anchor(t,n)},rt.heatMap=function(t,n){var d,e,r,p=et.ascending,g=et.ascending,v=et.scaleBand(),y=et.scaleBand(),m=6.75,b=6.75,x=rt.colorMixin(rt.marginMixin(rt.baseMixin({})));x._mandatoryAttributes(["group"]),x.title(x.colorAccessor());var i=function(t){return t},o=function(t){return t};x.colsLabel=function(t){return arguments.length?(i=t,x):i},x.rowsLabel=function(t){return arguments.length?(o=t,x):o};var a=function(t){s(0,t)},u=function(t){s(1,t)},c=function(t){var n=t.key;rt.events.trigger(function(){x.filter(n),x.redrawGroup()})};function s(n,e){var r=x.selectAll(".box-group").filter(function(t){return t.key[n]===e}),i=r.filter(function(t){return!x.hasFilter(t.key)});rt.events.trigger(function(){var t=(i.empty()?r:i).data().map(function(t){return rt.filters.TwoDimensionalFilter(t.key)});x._filter([t]),x.redrawGroup()})}return rt.override(x,"filter",function(t){return arguments.length?x._filter(rt.filters.TwoDimensionalFilter(t)):x._filter()}),x.rows=function(t){return arguments.length?(r=t,x):r},x.rowOrdering=function(t){return arguments.length?(g=t,x):g},x.cols=function(t){return arguments.length?(e=t,x):e},x.colOrdering=function(t){return arguments.length?(p=t,x):p},x._doRender=function(){return x.resetSvg(),d=x.svg().append("g").attr("class","heatmap").attr("transform","translate("+x.margins().left+","+x.margins().top+")"),x._doRedraw()},x._doRedraw=function(){var t=x.data(),e=x.rows()||t.map(x.valueAccessor()),r=x.cols()||t.map(x.keyAccessor());g&&(e=e.sort(g)),p&&(r=r.sort(p)),e=y.domain(e),r=v.domain(r);var n=e.domain().length,i=r.domain().length,o=Math.floor(x.effectiveWidth()/i),a=Math.floor(x.effectiveHeight()/n);r.rangeRound([0,x.effectiveWidth()]),e.rangeRound([x.effectiveHeight(),0]);var u=d.selectAll("g.box-group").data(x.data(),function(t,n){return x.keyAccessor()(t,n)+"\0"+x.valueAccessor()(t,n)});u.exit().remove();var c=u.enter().append("g").attr("class","box-group");c.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(t,n){return r(x.keyAccessor()(t,n))}).attr("y",function(t,n){return e(x.valueAccessor()(t,n))}).on("click",x.boxOnClick()),x.renderTitle()&&(c.append("title"),u.select("title").text(x.title())),u=c.merge(u),rt.transition(u.select("rect"),x.transitionDuration(),x.transitionDelay()).attr("x",function(t,n){return r(x.keyAccessor()(t,n))}).attr("y",function(t,n){return e(x.valueAccessor()(t,n))}).attr("rx",m).attr("ry",b).attr("fill",x.getColor).attr("width",o).attr("height",a);var s=d.select("g.cols");s.empty()&&(s=d.append("g").attr("class","cols axis"));var l=s.selectAll("text").data(r.domain());l.exit().remove(),l=l.enter().append("text").attr("x",function(t){return r(t)+o/2}).style("text-anchor","middle").attr("y",x.effectiveHeight()).attr("dy",12).on("click",x.xAxisOnClick()).text(x.colsLabel()).merge(l),rt.transition(l,x.transitionDuration(),x.transitionDelay()).text(x.colsLabel()).attr("x",function(t){return r(t)+o/2}).attr("y",x.effectiveHeight());var f=d.select("g.rows");f.empty()&&(f=d.append("g").attr("class","rows axis"));var h=f.selectAll("text").data(e.domain());return h.exit().remove(),h=h.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(t){return e(t)+a/2}).attr("dy",6).on("click",x.yAxisOnClick()).text(x.rowsLabel()).merge(h),rt.transition(h,x.transitionDuration(),x.transitionDelay()).text(x.rowsLabel()).attr("y",function(t){return e(t)+a/2}),x.hasFilter()?x.selectAll("g.box-group").each(function(t){x.isSelectedNode(t)?x.highlightSelected(this):x.fadeDeselected(this)}):x.selectAll("g.box-group").each(function(){x.resetHighlight(this)}),x},x.boxOnClick=function(t){return arguments.length?(c=t,x):c},x.xAxisOnClick=function(t){return arguments.length?(a=t,x):a},x.yAxisOnClick=function(t){return arguments.length?(u=t,x):u},x.xBorderRadius=function(t){return arguments.length?(m=t,x):m},x.yBorderRadius=function(t){return arguments.length?(b=t,x):b},x.isSelectedNode=function(t){return x.hasFilter(t.key)},x.anchor(t,n)},function(){function t(t){return[0,t.length-1]}function e(t){return[et.quantile(t,.25),et.quantile(t,.5),et.quantile(t,.75)]}et.box=function(){var k=1,E=1,S=0,C=null,T=Number,N=t,L=e,R=null,D=!1,O=.3,P=.8,z=!1,F=!0,I=!1;function n(t){t.each(function(n,t){n=n.map(T).sort(et.ascending);var e,r,i=et.select(this),o=n.length;if(0!==o){var a=n.quartiles=L(n),u=N&&N.call(this,n,t),c=u&&u.map(function(t){return n[t]}),s=u?et.range(0,u[0]).concat(et.range(u[1]+1,o)):et.range(o);F?(e=n[0],r=n[o-1]):(e=n[u[0]],r=n[u[1]]);var l=et.range(u[0],u[1]+1),f=et.scaleLinear().domain(C&&C.call(this,n,t)||[e,r]).range([E,0]),h=this.__chart__||et.scaleLinear().domain([0,1/0]).range(f.range());this.__chart__=f;var d=i.selectAll("line.center").data(c?[c]:[]);d.enter().insert("line","rect").attr("class","center").attr("x1",k/2).attr("y1",function(t){return h(t[0])}).attr("x2",k/2).attr("y2",function(t){return h(t[1])}).style("opacity",1e-6).transition().duration(S).delay(0).style("opacity",1).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}),d.transition().duration(S).delay(0).style("opacity",1).attr("x1",k/2).attr("x2",k/2).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}),d.exit().transition().duration(S).delay(0).style("opacity",1e-6).attr("y1",function(t){return f(t[0])}).attr("y2",function(t){return f(t[1])}).remove();var p=i.selectAll("rect.box").data([a]);p.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return h(t[2])}).attr("width",k).attr("height",function(t){return h(t[0])-h(t[2])}).style("fill-opacity",D?.1:1).transition().duration(S).delay(0).attr("y",function(t){return f(t[2])}).attr("height",function(t){return f(t[0])-f(t[2])}),p.transition().duration(S).delay(0).attr("width",k).attr("y",function(t){return f(t[2])}).attr("height",function(t){return f(t[0])-f(t[2])});var g=i.selectAll("line.median").data([a[1]]);g.enter().append("line").attr("class","median").attr("x1",0).attr("y1",h).attr("x2",k).attr("y2",h).transition().duration(S).delay(0).attr("y1",f).attr("y2",f),g.transition().duration(S).delay(0).attr("x1",0).attr("x2",k).attr("y1",f).attr("y2",f);var v=i.selectAll("line.whisker").data(c||[]);if(v.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",h).attr("x2",k).attr("y2",h).style("opacity",1e-6).transition().duration(S).delay(0).attr("y1",f).attr("y2",f).style("opacity",1),v.transition().duration(S).delay(0).attr("x1",0).attr("x2",k).attr("y1",f).attr("y2",f).style("opacity",1),v.exit().transition().duration(S).delay(0).attr("y1",f).attr("y2",f).style("opacity",1e-6).remove(),F){var y=I?"outlierBold":"outlier",m=I?3:5,b=I?function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}:function(){return k/2},x=i.selectAll("circle."+y).data(s,Number);x.enter().insert("circle","text").attr("class",y).attr("r",m).attr("cx",b).attr("cy",function(t){return h(n[t])}).style("opacity",1e-6).transition().duration(S).delay(0).attr("cy",function(t){return f(n[t])}).style("opacity",.6),z&&(x.selectAll("title").remove(),x.append("title").text(function(t){return n[t]})),x.transition().duration(S).delay(0).attr("cx",b).attr("cy",function(t){return f(n[t])}).style("opacity",.6),x.exit().transition().duration(S).delay(0).attr("cy",0).style("opacity",1e-6).remove()}if(D){var _=i.selectAll("circle.data").data(l);_.enter().insert("circle","text").attr("class","data").attr("r",3).attr("cx",function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}).attr("cy",function(t){return h(n[t])}).style("opacity",1e-6).transition().duration(S).delay(0).attr("cy",function(t){return f(n[t])}).style("opacity",O),z&&(_.selectAll("title").remove(),_.append("title").text(function(t){return n[t]})),_.transition().duration(S).delay(0).attr("cx",function(){return Math.floor(Math.random()*(k*P)+1+(k-k*P)/2)}).attr("cy",function(t){return f(n[t])}).style("opacity",O),_.exit().transition().duration(S).delay(0).attr("cy",0).style("opacity",1e-6).remove()}var w=R||f.tickFormat(8),A=i.selectAll("text.box").data(a);A.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,n){return 1&n?6:-6}).attr("x",function(t,n){return 1&n?k:0}).attr("y",h).attr("text-anchor",function(t,n){return 1&n?"start":"end"}).text(w).transition().duration(S).delay(0).attr("y",f),A.transition().duration(S).delay(0).text(w).attr("x",function(t,n){return 1&n?k:0}).attr("y",f);var M=i.selectAll("text.whisker").data(c||[]);M.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",k).attr("y",h).text(w).style("opacity",1e-6).transition().duration(S).delay(0).attr("y",f).style("opacity",1),M.transition().duration(S).delay(0).text(w).attr("x",k).attr("y",f).style("opacity",1),M.exit().transition().duration(S).delay(0).attr("y",f).style("opacity",1e-6).remove(),delete n.quartiles}}),et.timerFlush()}return n.width=function(t){return arguments.length?(k=t,n):k},n.height=function(t){return arguments.length?(E=t,n):E},n.tickFormat=function(t){return arguments.length?(R=t,n):R},n.showOutliers=function(t){return arguments.length?(F=t,n):F},n.boldOutlier=function(t){return arguments.length?(I=t,n):I},n.renderDataPoints=function(t){return arguments.length?(D=t,n):D},n.renderTitle=function(t){return arguments.length?(z=t,n):z},n.dataOpacity=function(t){return arguments.length?(O=t,n):O},n.dataWidthPortion=function(t){return arguments.length?(P=t,n):P},n.duration=function(t){return arguments.length?(S=t,n):S},n.domain=function(t){return arguments.length?(C=null===t?t:"function"==typeof t?t:rt.utils.constant(t),n):C},n.value=function(t){return arguments.length?(T=t,n):T},n.whiskers=function(t){return arguments.length?(N=t,n):N},n.quartiles=function(t){return arguments.length?(L=t,n):L},n}}(),rt.boxPlot=function(t,n){var a=rt.coordinateGridMixin({});var u=function(a){return function(t){for(var n=t.quartiles[0],e=t.quartiles[2],r=(e-n)*a,i=-1,o=t.length;t[++i]<n-r;);for(;t[--o]>e+r;);return[i,o]}}(1.5),c=et.box(),s=null,l=!1,f=.3,h=.8,d=!0,p=!1,e=8,g=function(t,n){return a.isOrdinal()?a.x().bandwidth():t/(1+a.boxPadding())/n};a.x(et.scaleBand()),a.xUnits(rt.units.ordinal),a.data(function(t){return t.all().map(function(n){return n.map=function(t){return t.call(n,n)},n}).filter(function(t){return 0!==a.valueAccessor()(t).length})}),a.boxPadding=a._rangeBandPadding,a.boxPadding(.8),a.outerPadding=a._outerRangeBandPadding,a.outerPadding(.5),a.boxWidth=function(t){return arguments.length?(g="function"==typeof t?t:rt.utils.constant(t),a):g};var v=function(t,n){return"translate("+a.x()(a.keyAccessor()(t,n))+", 0)"};function r(){return et.min(a.data(),function(t){return et.min(a.valueAccessor()(t))})}function i(){return et.max(a.data(),function(t){return et.max(a.valueAccessor()(t))})}function o(){return(i()-r())/a.effectiveHeight()}return a._preprocessData=function(){a.elasticX()&&a.x().domain([])},a.plotData=function(){var t=g(a.effectiveWidth(),a.xUnitCount());c.whiskers(u).width(t).height(a.effectiveHeight()).value(a.valueAccessor()).domain(a.y().domain()).duration(a.transitionDuration()).tickFormat(s).renderDataPoints(l).dataOpacity(f).dataWidthPortion(h).renderTitle(a.renderTitle()).showOutliers(d).boldOutlier(p);var n,e,r,i=a.chartBodyG().selectAll("g.box").data(a.data(),a.keyAccessor()),o=((e=(n=i).enter().append("g")).attr("class","box").attr("transform",v).call(c).on("click",function(t){a.filter(a.keyAccessor()(t)),a.redrawGroup()}),e.merge(n));r=o,rt.transition(r,a.transitionDuration(),a.transitionDelay()).attr("transform",v).call(c).each(function(t){var n=a.getColor(t,0);et.select(this).select("rect.box").attr("fill",n),et.select(this).selectAll("circle.data").attr("fill",n)}),i.exit().remove().call(c),a.fadeDeselectedArea(a.filter())},a.fadeDeselectedArea=function(t){if(a.hasFilter())if(a.isOrdinal())a.g().selectAll("g.box").each(function(t){a.isSelectedNode(t)?a.highlightSelected(this):a.fadeDeselected(this)});else{if(!a.brushOn()&&!a.parentBrushOn())return;var e=t[0],r=t[1],i=a.keyAccessor();a.g().selectAll("g.box").each(function(t){var n=i(t);n<e||r<=n?a.fadeDeselected(this):a.highlightSelected(this)})}else a.g().selectAll("g.box").each(function(){a.resetHighlight(this)})},a.isSelectedNode=function(t){return a.hasFilter(a.keyAccessor()(t))},a.yAxisMin=function(){var t=e*o();return rt.utils.subtract(r()-t,a.yAxisPadding())},a.yAxisMax=function(){var t=e*o();return rt.utils.add(i()+t,a.yAxisPadding())},a.tickFormat=function(t){return arguments.length?(s=t,a):s},a.yRangePadding=function(t){return arguments.length?(e=t,a):e},a.renderDataPoints=function(t){return arguments.length?(l=t,a):l},a.dataOpacity=function(t){return arguments.length?(f=t,a):f},a.dataWidthPortion=function(t){return arguments.length?(h=t,a):h},a.showOutliers=function(t){return arguments.length?(d=t,a):d},a.boldOutlier=function(t){return arguments.length?(p=t,a):p},a.anchor(t,n)},rt.selectMenu=function(t,n){var e,r="dc-select-option",i=rt.baseMixin({}),o="Select all",a=!1,u=null,c=null,s=function(t,n){return i.keyAccessor()(t)>i.keyAccessor()(n)?1:i.keyAccessor()(n)>i.keyAccessor()(t)?-1:0},l=function(t){return 0<i.valueAccessor()(t)};i.data(function(t){return t.all().filter(l)}),i._doRender=function(){return i.select("select").remove(),(e=i.root().append("select").classed("dc-select-menu",!0)).append("option").text(o).attr("value",""),i._doRedraw(),i};var f=window.navigator.userAgent;function h(t,n){var e,r=et.event.target;r.selectedOptions?e=Array.prototype.slice.call(r.selectedOptions).map(function(t){return t.value}):e=[].slice.call(et.event.target.options).filter(function(t){return t.selected}).map(function(t){return t.value});1===e.length&&""===e[0]?e=u||null:a||1!==e.length||(e=e[0]),i.onChange(e)}return 0<f.indexOf("Trident/")&&-1===f.indexOf("MSIE")&&(i.redraw=i.render),i._doRedraw=function(){var t;return function(){a?e.attr("multiple",!0):e.attr("multiple",null);null!==c?e.attr("size",c):e.attr("size",null)}(),(t=e.selectAll("option."+r).data(i.data(),function(t){return i.keyAccessor()(t)})).exit().remove(),t.enter().append("option").classed(r,!0).attr("value",function(t){return i.keyAccessor()(t)}).merge(t).text(i.title()),e.selectAll("option."+r).sort(s),e.on("change",h),i.hasFilter()&&a?e.selectAll("option").property("selected",function(t){return void 0!==t&&0<=i.filters().indexOf(String(i.keyAccessor()(t)))}):i.hasFilter()?e.property("value",i.filter()):e.property("value",""),i},i.onChange=function(t){t&&a?i.replaceFilter([t]):t?i.replaceFilter(t):i.filterAll(),rt.events.trigger(function(){i.redrawGroup()})},i.order=function(t){return arguments.length?(s=t,i):s},i.promptText=function(t){return arguments.length?(o=t,i):o},i.filterDisplayed=function(t){return arguments.length?(l=t,i):l},i.multiple=function(t){return arguments.length?(a=t,i):a},i.promptValue=function(t){return arguments.length?(u=t,i):u},i.numberVisible=function(t){return arguments.length?(c=t,i):c},i.size=rt.logger.deprecate(i.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),i.anchor(t,n)},rt.textFilterWidget=function(t,n){var e=rt.baseMixin({}),r=function(t){return t.toLowerCase()},i=function(n){return n=r(n),function(t){return-1!==r(t).indexOf(n)}},o="search";return e.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),e._doRender=function(){return e.select("input").remove(),e.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){e.dimension().filterFunction(i(this.value)),rt.events.trigger(function(){rt.redrawAll()},rt.constants.EVENT_DELAY)}),e._doRedraw(),e},e._doRedraw=function(){return e.root().selectAll("input").attr("placeholder",o),e},e.normalize=function(t){return arguments.length?(r=t,e):r},e.placeHolder=function(t){return arguments.length?(o=t,e):o},e.filterFunctionFactory=function(t){return arguments.length?(i=t,e):i},e.anchor(t,n)},rt.cboxMenu=function(t,n){var e,r="dc-cbox-item",i=rt.baseMixin({}),o="Select all",a=!1,u="radio",c=null,s=Math.floor(1e5*Math.random())+1,l=function(t,n){return i.keyAccessor()(t)>i.keyAccessor()(n)?1:i.keyAccessor()(n)>i.keyAccessor()(t)?-1:0},f=function(t){return 0<i.valueAccessor()(t)};function h(t,n){var e;et.select(et.event.target).datum()?(e=et.select(this).selectAll("input").filter(function(t){if(t)return this.checked}).nodes().map(function(t){return t.value}),a||1!==e.length||(e=e[0])):e=c||null,i.onChange(e)}return i.data(function(t){return t.all().filter(f)}),i._doRender=function(){return i._doRedraw()},i._doRedraw=function(){return i.select("ul").remove(),e=i.root().append("ul").classed("dc-cbox-group",!0),function(){var t=e.selectAll("li."+r).data(i.data(),function(t){return i.keyAccessor()(t)});if(t.exit().remove(),(t=t.enter().append("li").classed(r,!0).merge(t)).append("input").attr("type",u).attr("value",function(t){return i.keyAccessor()(t)}).attr("name","domain_"+s).attr("id",function(t,n){return"input_"+s+"_"+n}),t.append("label").attr("for",function(t,n){return"input_"+s+"_"+n}).text(i.title()),a)e.append("li").append("input").attr("type","reset").text(o).on("click",h);else{var n=e.append("li");n.append("input").attr("type",u).attr("value",c).attr("name","domain_"+s).attr("id",function(t,n){return"input_"+s+"_all"}).property("checked",!0),n.append("label").attr("for",function(t,n){return"input_"+s+"_all"}).text(o)}e.selectAll("li."+r).sort(l),e.on("change",h)}(),i.hasFilter()&&a?e.selectAll("input").property("checked",function(t){return t&&0<=i.filters().indexOf(String(i.keyAccessor()(t)))||!1}):i.hasFilter()&&e.selectAll("input").property("checked",function(t){return!!t&&i.keyAccessor()(t)===i.filter()}),i},i.onChange=function(t){t&&a?i.replaceFilter([t]):t?i.replaceFilter(t):i.filterAll(),rt.events.trigger(function(){i.redrawGroup()})},i.order=function(t){return arguments.length?(l=t,i):l},i.promptText=function(t){return arguments.length?(o=t,i):o},i.filterDisplayed=function(t){return arguments.length?(f=t,i):f},i.multiple=function(t){return arguments.length?(u=(a=t)?"checkbox":"radio",i):a},i.promptValue=function(t){return arguments.length?(c=t,i):c},i.anchor(t,n)},rt.abstractBubbleChart=rt.bubbleMixin,rt.baseChart=rt.baseMixin,rt.capped=rt.capMixin,rt.colorChart=rt.colorMixin,rt.coordinateGridChart=rt.coordinateGridMixin,rt.marginable=rt.marginMixin,rt.stackableChart=rt.stackMixin,rt.d3=et,rt.crossfilter=H,rt}if("function"==typeof define&&define.amd)define(["d3","crossfilter2"],t);else if("object"==typeof module&&module.exports){var n=require("d3"),e=require("crossfilter2");"function"!=typeof e&&(e=e.crossfilter),module.exports=t(n,e)}else this.dc=t(d3,crossfilter)}(),function(){"use strict";var c,s={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};s.encodeHTMLSource=function(t){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(e,function(t){return n[t]||t}):""}},c=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):c.doT=s;var l={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},f=/$^/;function h(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}s.template=function(t,n,e){var r,i,o=(n=n||s.templateSettings).append?l.append:l.split,a=0,u=n.use||n.define?function r(i,t,o){return("string"==typeof t?t:t.toString()).replace(i.define||f,function(t,r,n,e){return 0===r.indexOf("def.")&&(r=r.substring(4)),r in o||(":"===n?(i.defineParams&&e.replace(i.defineParams,function(t,n,e){o[r]={arg:n,text:e}}),r in o||(o[r]=e)):new Function("def","def['"+r+"']="+e)(o)),""}).replace(i.use||f,function(t,n){i.useParams&&(n=n.replace(i.useParams,function(t,n,e,r){if(o[e]&&o[e].arg&&r){var i=(e+":"+r).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[i]=o[e].text.replace(new RegExp("(^|[^\\w$])"+o[e].arg+"([^\\w$])","g"),"$1"+r+"$2"),n+"def.__exp['"+i+"']"}}));var e=new Function("def","return "+n)(o);return e?r(i,e,o):e})}(n,t,e||{}):t;u=("var out='"+(n.strip?u.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):u).replace(/'|\\/g,"\\$&").replace(n.interpolate||f,function(t,n){return o.start+h(n)+o.end}).replace(n.encode||f,function(t,n){return r=!0,o.startencode+h(n)+o.end}).replace(n.conditional||f,function(t,n,e){return n?e?"';}else if("+h(e)+"){out+='":"';}else{out+='":e?"';if("+h(e)+"){out+='":"';}out+='"}).replace(n.iterate||f,function(t,n,e,r){return n?(a+=1,i=r||"i"+a,n=h(n),"';var arr"+a+"="+n+";if(arr"+a+"){var "+e+","+i+"=-1,l"+a+"=arr"+a+".length-1;while("+i+"<l"+a+"){"+e+"=arr"+a+"["+i+"+=1];out+='"):"';} } out+='"}).replace(n.evaluate||f,function(t,n){return"';"+h(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),r&&(n.selfcontained||!c||c._encodeHTML||(c._encodeHTML=s.encodeHTMLSource(n.doNotSkipEncoded)),u="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+s.encodeHTMLSource.toString()+"("+(n.doNotSkipEncoded||"")+"));"+u);try{return new Function(n.varname,u)}catch(t){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+u),t}},s.compile=function(t,n){return s.template(t,null,n)}}();
//# sourceMappingURL=dcbundle.js.map
